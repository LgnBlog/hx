(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-228a9d98"],{"0f49":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"managerPanoramicNew"},[a("div",{staticClass:"top"},[a("div",{staticClass:"content content-border"},[t._m(0),a("div",{staticClass:"chart-main"},[a("div",{staticClass:"nav"}),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.tagLoading,expression:"tagLoading"}],staticClass:"tagContent"},t._l(t.tagListArray,(function(e){return a("div",{key:e.tagId},[a("div",{staticClass:"tagItem"},[a("div",{staticClass:"tagTypeCon"},[a("div",{staticClass:"tagType",class:t.tagObj(e.tagRuleType)},[t._v(t._s(t._f("handleTagRuleType")(e.tagRuleType)))])]),a("div",{staticClass:"tagC"},[a("div",[a("span",{staticClass:"tit"},[t._v(t._s(e.tagName))]),a("span",[t._v("覆盖量 : ")]),a("span",{staticClass:"num"},[t._v(" "+t._s(e.keyCount))]),a("span",{staticClass:"ms"},[t._v("更新频率："+t._s(e.frequency)+" | 最后更新日期："+t._s(e.updateTime)+" | 关注人数："+t._s(e.coolection))])]),a("div",{staticClass:"hy"},[t._v("\n                                        含义："+t._s(e.tagDescription)+"\n                                    ")])])]),a("el-divider")],1)})),0),t._e()],1)])]),a("div",{staticClass:"top"},[a("div",{staticClass:"content"},[a("div",{staticClass:"content-left content-border"},[a("div",{staticClass:"content-title"},[a("span",{staticClass:"block"}),a("span",{staticClass:"text"},[t._v("标准库地址")]),a("el-select",{staticClass:"input_td",attrs:{size:"small",clearable:"",placeholder:"请选择地市局"},on:{change:t.dsjChange},model:{value:t.powerCompany,callback:function(e){t.powerCompany=e},expression:"powerCompany"}},t._l(t.powerCompanyOptions,(function(t){return a("el-option",{key:t.ORG_CODE,attrs:{label:t.ORG_NAME,value:t.ORG_CODE}})})),1),a("el-select",{staticClass:"input_td",attrs:{clearable:"",placeholder:"请选择县区局",size:"small"},on:{change:t.qxjChange},model:{value:t.xqjValue,callback:function(e){t.xqjValue=e},expression:"xqjValue"}},t._l(t.xqjOptions,(function(t){return a("el-option",{key:t.ORG_CODE,attrs:{label:t.ORG_NAME,value:t.ORG_CODE}})})),1),a("el-select",{staticClass:"input_td",attrs:{size:"small",clearable:"",placeholder:"请选择供电所"},model:{value:t.gds,callback:function(e){t.gds=e},expression:"gds"}},t._l(t.gdsOptions,(function(t){return a("el-option",{key:t.ORG_CODE,attrs:{label:t.ORG_NAME,value:t.ORG_CODE}})})),1),a("el-input",{staticClass:"input_td",attrs:{placeholder:"请输入台区名称",size:"small",clearable:""},model:{value:t.libValue,callback:function(e){t.libValue=e},expression:"libValue"}}),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.getStandardAddressDetails("pages")}}},[t._v("查询")])],1),a("div",{staticClass:"chart-main"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingAddTable,expression:"loadingAddTable"}],staticStyle:{width:"100%"},attrs:{height:"330",data:t.tableData,border:""}},[a("el-table-column",{attrs:{prop:"dsj",label:"地市局",width:"150"}}),a("el-table-column",{attrs:{prop:"xqj",label:"县区局",width:"150"}}),a("el-table-column",{attrs:{prop:"gds",label:"供电所",width:"150"}}),a("el-table-column",{attrs:{prop:"tqbs",label:"台区标识",width:"150"}}),a("el-table-column",{attrs:{prop:"tqmc",label:"台区名称",width:"150"}}),a("el-table-column",{attrs:{prop:"qx",label:"区县",width:"150"}}),a("el-table-column",{attrs:{prop:"xz",label:"乡镇",width:"150"}})],1),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":t.pagesAdd.pageNo,"page-sizes":[8,10,20,50],"page-size":t.pagesAdd.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.pagesAdd.total},on:{"size-change":t.handleAddSizeChange,"current-change":t.handleAddCurrentChange}})],1)],1)]),a("div",{staticClass:"content-right content-border"},[t._m(1),a("div",{staticClass:"chart-main"},[t.hotWordRes?a("wordCloud",{attrs:{wordCloudData:t.hotWordData,name:"热词分布"},on:{setOption:t.setOption}}):t._e()],1)])]),t._e(),a("el-dialog",{attrs:{title:"提示",visible:t.barTableDialogVisible,width:"80%"},on:{"update:visible":function(e){t.barTableDialogVisible=e}}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.barTableLoading,expression:"barTableLoading"}],staticClass:"barTable"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tqTable,height:"250",border:"",stripe:""}},[a("el-table-column",{attrs:{type:"index",label:"序号"}}),a("el-table-column",{attrs:{prop:"tqmc",label:"台区名称"}}),a("el-table-column",{attrs:{prop:"tqbs",label:"台区编号"}}),a("el-table-column",{attrs:{prop:"yhbh",label:"客户编号"}}),a("el-table-column",{attrs:{prop:"yhmc",label:"客户名称"}}),a("el-table-column",{attrs:{prop:"yddz",label:"用电地址"}}),a("el-table-column",{attrs:{prop:"yhlb",label:"用户类别"}}),a("el-table-column",{attrs:{prop:"ydlx",label:"用电类型"}}),a("el-table-column",{attrs:{prop:"gddwbm",label:"供电局"}}),a("el-table-column",{attrs:{prop:"gxsj",label:"供电所"}})],1),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":t.pages.pageNo,"page-sizes":[8,10,20,50],"page-size":t.pages.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.pages.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1),a("span",{attrs:{slot:"title"},slot:"title"},[a("span",{staticClass:"table_title"},[t._v("台区明细")]),a("span",{staticClass:"label"},[t._v("台区：")]),a("el-input",{staticStyle:{width:"260px"},attrs:{size:"mini",placeholder:"请输入台区编号或者名称"},model:{value:t.tqmx,callback:function(e){t.tqmx=e},expression:"tqmx"}}),a("span",{staticClass:"label",staticStyle:{"margin-left":"20px"}},[t._v("客户编号 ：")]),a("el-input",{staticStyle:{width:"260px"},attrs:{size:"mini",placeholder:"请输入客户编号"},model:{value:t.khbh,callback:function(e){t.khbh=e},expression:"khbh"}}),a("el-button",{staticStyle:{margin:"0px 10px"},attrs:{type:"primary",size:"mini"},on:{click:t.getZoneDistributionDetails}},[t._v("查询")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.exportExcel}},[t._v("导出Excel")])],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:function(e){t.barTableDialogVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){t.barTableDialogVisible=!1}}},[t._v("确 定")])],1)])],1)])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content-title"},[a("span",{staticClass:"block"}),a("span",[t._v("关注标签")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content-title"},[a("span",{staticClass:"block"}),a("span",[t._v("网格热点分布")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content-title"},[a("span",{staticClass:"block"}),a("span",[t._v("台区分布")])])}],o=(a("8e6e"),a("ac6a"),a("456d"),a("2909")),l=a("ade3"),r=(a("7f7f"),a("0c3e")),s=a("89e8"),c=a("694d"),u=a("ac3e"),d=a("03400");function h(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function g(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?h(Object(a),!0).forEach((function(e){Object(l["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var p={color:["#3398DB"],tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"3%",right:"2%",bottom:"8%",containLabel:!0},xAxis:[{type:"category",data:[],axisTick:{alignWithLabel:!0},axisLabel:{rotate:20,textStyle:{fontWeight:"bolder",color:"#000000"}}}],yAxis:[{type:"value",axisTick:{show:!1},axisLine:{show:!1}}],series:[{name:"数值",type:"bar",barMaxWidth:"60",data:[]}]},b={components:{themeLabelList:u["a"],wordCloud:c["a"]},name:"managerPanoramicNew",mixins:[r["a"],s["a"]],data:function(){return{powerCompanyOptions:[],powerCompany:"",xqjValue:"",xqjOptions:[],gds:"",gdsOptions:[],headerColor:"#1899fa",labelData:[],labelQueryForm:{current:1,size:10},labelPageConfig:{name:"label",current:1,size:10,pageSizes:[10,20,30,40,50],layout:"prev, pager, next, sizes,jumper,total",total:0},labelDetailData:{},labelDetailQueryForm:{dbcolumnAS:"",tagName:"",current:1,size:10},labelDetailPageConfig:{name:"labelDetail",current:1,size:10,pageSizes:[10,20,30,40,50],layout:"prev, pager, next, sizes,jumper,total",total:0},barOption:p,barTableDialogVisible:!1,barTableLoading:!1,tqTable:[],pages:{pageNo:1,pageSize:10,total:0},barPages:{pageNo:1,pageSize:10,total:0},tqmx:"",khbh:"",tagListArray:[],tagLoading:!1,dataX_:[],series_:[],barLoading:!1,hotWordData:{},hotWordRes:!1,pagesAdd:{pageNo:1,pageSize:10,total:0},loadingAddTable:!1,libValue:"",tableData:[]}},watch:{},filters:{handleTagRuleType:function(t){switch(t){case"1":return"规则";case"2":return"组合";case"3":return"手工";case"4":return"模型";case"5":return"实时";default:break}}},mounted:function(){this.getLabelData(),this.getZoneDistribution(),this.getHotWordData(),this.GetPowerAreaCode()},methods:{GetPowerAreaCode:function(){var t=this;this.getPowerAreaCode({orgLev:"2"}).then((function(e){t.powerCompanyOptions=e,t.powerCompany="0306",t.dsjChange(),t.getStandardAddressDetails()}))},GetQxjPowerAreaCode:function(){var t=this;this.getPowerAreaCode({orgLev:"3",orgCode:this.powerCompany}).then((function(e){t.xqjOptions=e}))},GetGdsPowerAreaCode:function(){var t=this;this.getPowerAreaCode({orgLev:"4",orgCode:this.xqjValue}).then((function(e){t.gdsOptions=e}))},dsjChange:function(){this.gds="",this.gdsOptions=[],this.xqjValue="",this.xqjOptions=[],this.GetQxjPowerAreaCode()},qxjChange:function(){this.gds="",this.gdsOptions=[],this.GetGdsPowerAreaCode()},getStandardAddressDetails:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";"pages"===e&&(this.pagesAdd.pageSize=10,this.pagesAdd.pageNo=1),this.loadingAddTable=!0,this.standardAddressDetails({dqbm:this.powerCompany,xqjbm:this.xqjValue,gddwbm:this.gds,tqmc:this.libValue,size:this.pagesAdd.pageSize,current:this.pagesAdd.pageNo}).then((function(e){t.tableData=e.records,t.pagesAdd.total=e.total,t.loadingAddTable=!1}))},handleAddSizeChange:function(t){this.pagesAdd.pageSize=t,this.getStandardAddressDetails(),window.console.log("每页 ".concat(t," 条"))},handleAddCurrentChange:function(t){this.pagesAdd.pageNo=t,this.getStandardAddressDetails(),window.console.log("当前页: ".concat(t))},tagObj:function(t){switch(t){case"1":return"tag0";case"2":return"tag1";case"3":return"tag2";case"4":return"tag3";case"5":return"tag4";default:break}},setOption:function(t,e){this.setOptionData[t]=e},getHotWordData:function(){var t=this;this.hotWordRes=!1,this.gridHotSpotDistribution({}).then((function(e){t.hotWordData=e.map((function(t){return{name:t.name,valueShow:t.count}})),t.hotWordRes=!0,console.log(t.hotWordData,"hotWordData")}))},changePage:function(t){"label"===t.name&&(this.labelQueryForm.size=t.size,this.labelQueryForm.current=t.current,this.getLabelData())},themeLabelExportExcel:function(t){Object(d["a"])("/gridManagerPanoramaManagerController/exportUserDetailsToTags?tagName="+this.labelDetailQueryForm.tagName)},detailListExportExcel:function(){console.log("111"),Object(d["b"])("/gridManagerPanoramaManagerController/exportCourtsExcel",{courtsNumber:this.customerCoverageBarQueryForm.courtsNumber,customerNumbers:this.customerCoverageBarQueryForm.customerNumbers})},getLabelData:function(){var t=this;this.tagLoading=!0,this.payAttentionTags(this.labelQueryForm).then((function(e){t.tagLoading=!1,t.tagListArray=e}))},getLabelDetailData:function(t){var e=this;t&&(this.labelDetailQueryForm.tagName=t.name,this.labelDetailQueryForm.size=10,this.labelDetailQueryForm.current=1);var a=[{prop:"yhbh",label:"用户编号"},{prop:"khbh",label:"客户编号"},{prop:"yhmc",label:"用户名称"},{prop:"yddz",label:"用电地址"},{prop:"yhlb",label:"用户类别"},{prop:"ydlb",label:"用电类别"},{prop:"sfzdgz",label:"是否重点关注客户"},{prop:"sfxh",label:"是否现货客户"},{prop:"dq",label:"地区"},{prop:"qxj",label:"县区局"},{prop:"gddw",label:"供电单位"},{prop:"cjsj",label:"创建时间"},{prop:"gxsj",label:"更新时间"}];this.userDetailsToTags(g({},this.labelDetailQueryForm)).then((function(t){e.labelDetailPageConfig.total=t.total,e.labelDetailPageConfig.size=e.labelDetailQueryForm.size,e.labelDetailPageConfig.current=e.labelDetailQueryForm.current,e.labelDetailData={tableData:Object(o["a"])(t.list),columnNameData:a,name:"labelDetail",headerColor:"#1899fa",title:"客户明细列表",total:e.labelDetailPageConfig.total,current:e.labelDetailQueryForm.current,size:e.labelDetailQueryForm.size},console.log(e.labelDetailData,"labelDetailData")}))},getZoneDistribution:function(){var t=this;this.barLoading=!0,this.zoneDistribution({current:this.barPages.pageNo,size:this.barPages.pageSize}).then((function(e){t.barLoading=!1;for(var a=[],i=[],n=e.records,o=0;o<n.length;o++)a.push(n[o].tqmc),i.push(n[o].total);t.barPages.total=e.total,t.dataX_=a,t.series_=i,t.init()}))},getZoneDistributionDetails:function(){var t=this;this.barTableLoading=!0,this.barTableDialogVisible=!0,this.zoneDistributionDetails({current:this.pages.pageNo,size:this.pages.pageSize,khbh:this.khbh,tq:this.tqmx}).then((function(e){t.pages.total=e.total,t.tqTable=e.records,t.barTableLoading=!1}))},barSizeChange:function(t){this.barPages.pageSize=t,this.getZoneDistribution()},barCurrentChange:function(t){this.barPages.pageNo=t,this.getZoneDistribution()},init:function(){this.barOption.xAxis[0].data=this.dataX_,this.barOption.series[0].data=this.series_;var t=a("313e");this.mychart=t.init(this.$refs.barCharts),this.mychart.setOption(this.barOption,!0);var e=t.init(this.$refs.barCharts,!0);window.addEventListener("resize",e.resize);var i=this;this.mychart.off("click"),this.mychart.on("click",(function(t){i.getZoneDistributionDetails(t),i.tqmx=t.name,window.console.log(t)}))},handleSizeChange:function(t){this.pages.pageSize=t,this.getZoneDistributionDetails(),console.log("每页 ".concat(t," 条"))},handleCurrentChange:function(t){this.pages.pageNo=t,this.getZoneDistributionDetails(),console.log("当前页: ".concat(t))},exportExcel:function(){}}},f=b,m=(a("1349"),a("2877")),y=Object(m["a"])(f,i,n,!1,null,"45ae6e24",null);e["default"]=y.exports},1349:function(t,e,a){"use strict";var i=a("8fd3"),n=a.n(i);n.a},"15e9":function(t,e,a){"use strict";var i=a("2117"),n=a.n(i);n.a},"17fb":function(t,e,a){},2117:function(t,e,a){},2909:function(t,e,a){"use strict";function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}function n(t){if(Array.isArray(t))return i(t)}function o(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function l(t,e){if(t){if("string"===typeof t)return i(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?i(t,e):void 0}}function r(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(t){return n(t)||o(t)||l(t)||r()}a.d(e,"a",(function(){return s}))},"2f21":function(t,e,a){"use strict";var i=a("79e5");t.exports=function(t,e){return!!t&&i((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},"41de":function(t,e,a){"use strict";var i=a("17fb"),n=a.n(i);n.a},"55dd":function(t,e,a){"use strict";var i=a("5ca1"),n=a("d8e8"),o=a("4bf8"),l=a("79e5"),r=[].sort,s=[1,2,3];i(i.P+i.F*(l((function(){s.sort(void 0)}))||!l((function(){s.sort(null)}))||!a("2f21")(r)),"Array",{sort:function(t){return void 0===t?r.call(o(this)):r.call(o(this),n(t))}})},"694d":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"word-cloud-style"},[a("div",{staticClass:"charts",attrs:{id:t.id}})])},n=[],o=a("2909"),l=(a("55dd"),a("7f7f"),a("313e")),r=a.n(l),s={name:"word-cloud",props:{wordCloudData:{type:Array,default:function(){return[]}},name:{type:String,default:function(){return""}}},data:function(){return{id:Math.random()+"_",dealData:[]}},watch:{},created:function(){},mounted:function(){this.init()},methods:{dataFilter:function(t){},init:function(){var t=document.getElementById(this.id),e=r.a.init(t),a={},i=this.wordCloudData;console.log(i,"data");var n=[{itemColor:"#fdf1e6",labelColor:"#F37508"},{itemColor:"#e6f8fd",labelColor:"#08BEF3"},{itemColor:"#eaf9ec",labelColor:"#2DC746"},{itemColor:"#e8f2fd",labelColor:"#1A84F4"},{itemColor:"#f0f9ee",labelColor:"#6cbf53"},{itemColor:"#eae7fd",labelColor:"#8a7cec"}],o=i.length,l=n.length;n=this.fillData(n,o,l);var s=document.body.clientWidth>1600?[[0,47],[6,24],[8,64],[14,38],[22,23],[20,63],[30,27],[28,64],[36,60],[40,22]]:[[0,40],[9,60],[14,20],[20,55],[30,64],[34,25]];this.randomSort(s),this.randomSort(i),this.randomSort(n);for(var c=[80,100,120],u=[],d=0;d<i.length;d++){var h=i[d],g=h.valueShow>=100?20:16,p=h.valueShow>=100?"#d97979":"#808080";u.push({name:h.name,value:s[d],valueShow:h.valueShow,symbolSize:h.symbolSize||c[Math.floor(Math.random()*c.length)],itemStyle:{color:n[d].itemColor},label:{formatter:function(t){var e="";return e=t.name.length>4?t.name.slice(0,4)+"…":t.name,["{a|"+e+"}","{b|"+t.data.valueShow+"次}"].join("\n")},textStyle:{rich:{a:{fontSize:14,align:"center",fontWeight:"bold",padding:[10,0,0,0],color:n[d].labelColor},b:{fontSize:g,align:"center",color:p}}}},emphasis:{itemStyle:{color:n[d].itemColor}}})}a={backgroundColor:"transparent",hoverAnimation:!1,grid:{show:!1,top:10,bottom:10},xAxis:[{show:!1}],yAxis:[{show:!1,max:80}],series:[{type:"scatter",symbol:"circle",symbolSize:120,label:{normal:{show:!0}},data:u}]},e.setOption(a),this.$emit("setOption",this.name,e)},randomSort:function(t){t.sort((function(){return Math.random()-.5}))},fillData:function(t,e,a){var i=Object(o["a"])(t);if(e>a)for(var n=0;n<e-a;n++)1===a?i.push(JSON.parse(JSON.stringify(i[0]))):i.push(JSON.parse(JSON.stringify(i[n-a*Math.floor(n/a)])));return i}}},c=s,u=(a("a97d"),a("2877")),d=Object(u["a"])(c,i,n,!1,null,"2e56e0de",null);e["a"]=d.exports},"8fd3":function(t,e,a){},a97d:function(t,e,a){"use strict";var i=a("b1d8"),n=a.n(i);n.a},aa77:function(t,e,a){var i=a("5ca1"),n=a("be13"),o=a("79e5"),l=a("fdef"),r="["+l+"]",s="​",c=RegExp("^"+r+r+"*"),u=RegExp(r+r+"*$"),d=function(t,e,a){var n={},r=o((function(){return!!l[t]()||s[t]()!=s})),c=n[t]=r?e(h):l[t];a&&(n[a]=c),i(i.P+i.F*r,"String",n)},h=d.trim=function(t,e){return t=String(n(t)),1&e&&(t=t.replace(c,"")),2&e&&(t=t.replace(u,"")),t};t.exports=d},ac3e:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"lable-table"},[t._m(0),0!==t.labelDealData.length?a("div",{staticClass:"lable-box",style:{height:t.tableHeight+"px"}},t._l(t.labelDealData,(function(e,i){return a("div",{key:i,staticClass:"lable-item"},[a("span",{staticClass:"name",style:{backgroundColor:e.color}},[t._v("\n        "+t._s(e.name)+"\n      ")]),a("span",{staticClass:"text",style:{backgroundColor:e.backgroundColor}},[t._v("\n        "+t._s(e.text)+"\n      ")]),a("span",{staticClass:"value",style:{backgroundColor:e.backgroundColor},on:{click:function(a){return t.showDetail(e)}}},[t._v(t._s(e.value+"户"))])])})),0):a("div",{staticClass:"no-data"},[a("span",[t._v("暂无数据")])]),t.isPage?a("el-pagination",{staticClass:"content-pagination",attrs:{"current-page":t.queryForm.current,"page-sizes":t.pageConfig.pageSizes,"page-size":t.queryForm.size,layout:t.pageConfig.layout,total:t.pageConfig.total},on:{"size-change":t.sizeChange,"current-change":t.currentChange}}):t._e(),t.showDetailVisible?a("showDetailList",{ref:"showDetailList",attrs:{visible:t.showDetailVisible,detailData:t.detailData,isQuery:t.isQuery},on:{"update:visible":function(e){t.showDetailVisible=e},changePageData:t.changePageData,exportExcel:t.exportExcel}}):t._e()],1)},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"lable-header"},[a("span",{staticClass:"name"},[t._v("标签名称")]),a("span",{staticClass:"text"},[t._v("标签说明")]),a("span",{staticClass:"value"},[t._v("覆盖客户数")])])}],o=(a("8e6e"),a("ade3")),l=(a("7f7f"),a("ac6a"),a("456d"),a("db03"));function r(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function s(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?r(Object(a),!0).forEach((function(e){Object(o["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var c={components:{showDetailList:l["a"]},props:{labelData:{type:Array,default:function(){return[]}},showDetailData:{type:Object,default:function(){return{}}},isQuery:{type:Boolean,default:function(){return!1}},isPage:{type:Boolean,default:function(){return!0}},pageConfig:{type:Object,default:function(){return{name:"",current:1,size:10,pageSizes:[10,20,30,40],layout:"prev, pager, next, sizes,jumper,total",total:0}}}},name:"show-detail-list",data:function(){return{tableHeight:0,queryForm:{tagId:"",name:"",current:1,size:10},labelDealData:[],showDetailVisible:!1,detailData:{},rowData:{},detailQueryForm:{current:1,size:10},detailPageConfig:{name:"detail",current:1,size:10,pageSizes:[10,20,30,40,50],layout:"prev, pager, next, sizes,jumper,total",total:0}}},mounted:function(){this.init()},watch:{labelData:function(){this.dataDeal(this.labelData)},showDetailData:function(){console.log(this.showDetailData,"showDetailData"),0!==Object.keys(this.showDetailData).length&&this.showDetailDeal()}},methods:{changeLoading:function(){this.$refs.showDetailList.themeLoading=!1},init:function(){this.tableHeight=document.getElementsByClassName("lable-table")[0].clientHeight-30-(this.isPage?52:0),this.queryForm.name=this.pageConfig.name,this.queryForm.size=this.pageConfig.size,this.queryForm.current=this.pageConfig.current,this.dataDeal(this.labelData)},sizeChange:function(t){this.queryForm.size=t,this.$emit("changePage",this.queryForm)},currentChange:function(t){this.queryForm.current=t,this.$emit("changePage",this.queryForm)},exportExcel:function(t){this.$emit("exportExcel",s(s({},t),{},{tagId:this.queryForm.tagId}))},showDetail:function(t){this.queryForm.tagId=t.tagId,this.$emit("clickDetail",t)},changePageData:function(t){this.rowData=t,this.$emit("changeDetailPage",s(s({},t),this.rowData))},showDetailDeal:function(){var t=s({},this.showDetailData);console.log(t,"rowData"),this.detailData=t,this.showDetailVisible=!0},dataDeal:function(t){var e=this;if(this.labelDealData=[],0!==Object.keys(t).length){var a=["#3890FF","#21CCA8","#E69617","#1ABDEF","#546EDD","#1FB7C8","#8663D5"],i=["#ebf3ff","#e8f9f6","#fcf4e7","#e8f8fd","#edf0fb","#e8f7f9","#f2effa"];t.forEach((function(t,e){e<a.length?(t.color=a[e],t.backgroundColor=i[e]):(t.color=a[e-a.length*Math.floor(e/a.length)],t.backgroundColor=i[e-a.length*Math.floor(e/a.length)])})),this.$nextTick((function(){e.labelDealData=t}))}}}},u=c,d=(a("cb3b"),a("2877")),h=Object(d["a"])(u,i,n,!1,null,"1b473ea9",null);e["a"]=h.exports},b1d8:function(t,e,a){},c5f6:function(t,e,a){"use strict";var i=a("7726"),n=a("69a8"),o=a("2d95"),l=a("5dbc"),r=a("6a99"),s=a("79e5"),c=a("9093").f,u=a("11e9").f,d=a("86cc").f,h=a("aa77").trim,g="Number",p=i[g],b=p,f=p.prototype,m=o(a("2aeb")(f))==g,y="trim"in String.prototype,C=function(t){var e=r(t,!1);if("string"==typeof e&&e.length>2){e=y?e.trim():h(e,3);var a,i,n,o=e.charCodeAt(0);if(43===o||45===o){if(a=e.charCodeAt(2),88===a||120===a)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:i=2,n=49;break;case 79:case 111:i=8,n=55;break;default:return+e}for(var l,s=e.slice(2),c=0,u=s.length;c<u;c++)if(l=s.charCodeAt(c),l<48||l>n)return NaN;return parseInt(s,i)}}return+e};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof p&&(m?s((function(){f.valueOf.call(a)})):o(a)!=g)?l(new b(C(e)),a,p):C(e)};for(var v,D=a("9e1e")?c(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;D.length>w;w++)n(b,v=D[w])&&!n(p,v)&&d(p,v,u(b,v));p.prototype=f,f.constructor=p,a("2aba")(i,g,p)}},cb3b:function(t,e,a){"use strict";var i=a("e62f"),n=a.n(i);n.a},db03:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.visible?a("div",{staticClass:"show-detail-list"},[a("el-dialog",{staticClass:"dialog",attrs:{title:"提示",visible:t.visible,width:"80%","before-close":t.handleClose,"close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(e){t.visible=e}}},[a("span",{staticClass:"dialog-header",attrs:{slot:"title"},slot:"title"},[a("span",{staticClass:"header-text"},[t._v(t._s(t.dialogTitle))])]),t.isQuery?a("div",{staticClass:"query-group"},[a("div",{staticClass:"search"},[a("el-input",{staticStyle:{width:"300px"},attrs:{size:"mini",placeholder:"请输入"},model:{value:t.queryForm.keyValue,callback:function(e){t.$set(t.queryForm,"keyValue",e)},expression:"queryForm.keyValue"}}),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.query}},[t._v("查询")])],1)]):t._e(),t.dialogRes?a("bdaTable",{staticClass:"dialog-table",attrs:{tableData:t.dialogData,headerColor:t.dialogHeaderColor,isPage:!0,pageConfig:t.pageConfig},on:{changePage:t.changePage}}):t._e(),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t.isExport?a("el-button",{attrs:{type:"primary",loading:t.themeLoading},on:{click:t.exportExcel}},[t._v("导出Excel")]):t._e(),a("el-button",{on:{click:t.handleClose}},[t._v("关闭")])],1)],1)],1):t._e()},n=[],o=(a("ac6a"),a("456d"),a("7f7f"),a("f9fe")),l={components:{bdaTable:o["a"]},props:{visible:{type:Boolean,default:function(){return!1}},detailData:{type:Object,default:function(){return{}}},isQuery:{type:Boolean,default:function(){return!1}},isExport:{type:Boolean,default:function(){return!0}}},name:"show-detail-list",data:function(){return{dialogVisible:!1,dialogData:{},dialogRes:!1,dialogHeaderColor:"",dialogTitle:"",queryForm:{keyValue:"",name:"",current:1,size:10,total:0},pageConfig:{name:"",current:1,size:10,pageSizes:[10,20,30,40],layout:"prev, pager, next, sizes,jumper,total",total:0},themeLoading:!1}},mounted:function(){this.init()},watch:{detailData:function(){this.dataDeal(this.detailData)}},methods:{init:function(){this.dataDeal(this.detailData)},query:function(t){this.$emit("changePageData",this.queryForm)},changePage:function(t){console.log(t,"changePagedata"),this.queryForm.name=t.name,this.queryForm.size=t.size,this.queryForm.current=t.current,this.$emit("changePageData",this.queryForm)},exportExcel:function(){this.themeLoading=!0,this.$emit("exportExcel",this.queryForm)},handleClose:function(){this.$emit("update:visible",!1)},dataDeal:function(t){var e=this;0!==Object.keys(t).length&&(this.dialogRes=!1,this.$nextTick((function(){e.dialogData=e.detailData,e.dialogHeaderColor=e.detailData.headerColor,e.dialogTitle=e.detailData.title,e.queryForm.name=e.detailData.name,e.pageConfig.name=e.detailData.name,e.pageConfig.size=e.detailData.size,e.pageConfig.current=e.detailData.current,e.pageConfig.total=e.detailData.total,e.dialogRes=!0})))}}},r=l,s=(a("15e9"),a("2877")),c=Object(s["a"])(r,i,n,!1,null,"4a3b693e",null);e["a"]=c.exports},e62f:function(t,e,a){},f9fe:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"bdaTable",staticClass:"bda-table",attrs:{id:t.id}},[a("div",{staticClass:"content-table"},[t.loading?a("el-table",{staticClass:"table",staticStyle:{width:"100%",height:"100%"},attrs:{data:t.tableDealData,height:t.tableHeight,"row-class-name":t.tabRowClassName,border:"",align:"center","header-cell-style":t.headStyle},on:{"selection-change":t.handleSelectionChange}},[0!==t.selectWidth&&0!==t.columnData.length?a("el-table-column",{attrs:{type:"selection",width:t.selectWidth}}):t._e(),0!==t.indexWidth&&0!==t.columnData.length?a("el-table-column",{attrs:{type:"index",label:"序号",width:t.indexWidth}}):t._e(),t._l(t.columnData,(function(e,i){return a("el-table-column",{key:i,attrs:{prop:e.prop,label:e.label,width:e.width,align:e.align?e.align:"left"},scopedSlots:t._u([{key:"default",fn:function(i){return["Operate"===e.prop?a("div",{staticClass:"operate"},t._l(e.type.filter((function(t){return!t.disabledValue||-1===t.disabledValue.indexOf(i.row[t.disabledField])})),(function(e,n){return a("el-button",{key:n,attrs:{type:"text"},on:{click:function(a){return t.operate(e.action,i.row)}}},[a("span",[t._v(t._s(e.name))])])})),1):t._e(),"Select"===e.prop?a("div",{staticClass:"select"},[a("el-select",{attrs:{size:"mini",placeholder:"请选择"},model:{value:i.row[e.model],callback:function(a){t.$set(i.row,e.model,a)},expression:"scope.row[item.model]"}},t._l(t.options,(function(t){return a("el-option",{key:t.value,attrs:{label:t.name,value:t.value}})})),1)],1):t._e(),"CilckRow"===e.type?a("div",{staticClass:"cilck-row"},[a("div",{staticClass:"click-text",on:{click:function(a){return t.clickRow(e.prop,i.row)}}},[a("span",[t._v(t._s(i.row[e.prop]))])])]):t._e(),e.formatter?a("div",[a("span",[t._v(t._s(e.formatter[i.row[e.prop]]))])]):t._e(),"CilckRow"!==e.type&&"Operate"!==e.prop&&"Select"!==e.prop?a("div",{staticClass:"text"},[a("span",[t._v(t._s(i.row[e.prop]))])]):t._e()]}}],null,!0)})}))],2):t._e()],1),t.isPage?a("el-pagination",{staticClass:"content-pagination",attrs:{"current-page":t.queryForm.current,"page-sizes":t.pageConfig.pageSizes,"page-size":t.queryForm.size,layout:t.pageConfig.layout,total:t.pageConfig.total},on:{"size-change":t.sizeChange,"current-change":t.currentChange}}):t._e()],1)},n=[],o=(a("ac6a"),a("456d"),a("7f7f"),a("c5f6"),{components:{},props:{tableData:{type:Object,default:function(){return{}}},headerColor:{type:String,default:function(){return""}},indexWidth:{type:Number,default:function(){return 70}},selectWidth:{type:Number,default:function(){return 0}},isPage:{type:Boolean,default:function(){return!1}},pageConfig:{type:Object,default:function(){return{name:"",current:1,size:10,pageSizes:[10,20,30,40],layout:"prev, pager, next, sizes,jumper,total",total:0}}}},name:"bda-table",data:function(){return{id:"bda-table"+Math.random(),loading:!1,tableDealData:[],columnData:[],tableHeight:0,headStyle:{background:"#1899fa"},queryForm:{name:"",current:1,size:10},options:[{name:"是",value:"1"},{name:"否",value:"0"}]}},mounted:function(){this.init(),window.addEventListener("resize",this.calculateHeight)},beforeDestroy:function(){window.removeEventListener("resize",this.calculateHeight)},watch:{tableData:function(){this.init()},headerColor:function(){this.headStyle.background=this.headerColor},pageConfig:function(){}},methods:{calculateHeight:function(){this.tableHeight=document.getElementById(this.id).clientHeight-(this.isPage?52:0)},init:function(){this.queryForm.name=this.pageConfig.name,this.queryForm.size=this.pageConfig.size,this.queryForm.current=this.pageConfig.current,this.headStyle.background=this.headerColor,this.calculateHeight(),this.dataDeal(this.tableData)},sizeChange:function(t){this.queryForm.size=t,this.$emit("changePage",this.queryForm)},currentChange:function(t){this.queryForm.current=t,this.$emit("changePage",this.queryForm)},tabRowClassName:function(t){t.row;var e=t.rowIndex,a=e+1;if(a%2==0)return"warning-row"},dataDeal:function(t){var e=this;0!==Object.keys(t).length?(this.tableDealData=[],this.loading=!1,this.$nextTick((function(){e.tableDealData=t.tableData,e.columnData=t.columnNameData,e.loading=!0}))):this.loading=!0},operate:function(t,e){this.$emit("operate",t,e)},clickRow:function(t,e){this.$emit("clickRow",t,e)},handleSelectionChange:function(t){this.$emit("select",t)}}}),l=o,r=(a("41de"),a("2877")),s=Object(r["a"])(l,i,n,!1,null,"288d3c6c",null);e["a"]=s.exports},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=chunk-228a9d98.b8fc6b16.js.map