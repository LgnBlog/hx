(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1eb9b450"],{"032b":function(t,e,i){},"0a49":function(t,e,i){var a=i("9b43"),n=i("626a"),l=i("4bf8"),s=i("9def"),r=i("cd1c");t.exports=function(t,e){var i=1==t,o=2==t,c=3==t,u=4==t,h=6==t,d=5==t||h,p=e||r;return function(e,r,b){for(var f,g,m=l(e),v=n(m),y=a(r,b,3),x=s(v.length),w=0,D=i?p(e,x):o?p(e,0):void 0;x>w;w++)if((d||w in v)&&(f=v[w],g=y(f,w,m),t))if(i)D[w]=g;else if(g)switch(t){case 3:return!0;case 5:return f;case 6:return w;case 2:D.push(f)}else if(u)return!1;return h?-1:c||u?u:D}}},1169:function(t,e,i){var a=i("2d95");t.exports=Array.isArray||function(t){return"Array"==a(t)}},"11c6":function(t,e,i){"use strict";var a=i("e315"),n=i.n(a);n.a},"12a2":function(t,e,i){"use strict";var a=i("1fa1"),n=i.n(a);n.a},"1fa1":function(t,e,i){},"2f21":function(t,e,i){"use strict";var a=i("79e5");t.exports=function(t,e){return!!t&&a((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},4852:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"acrossBar"},[i("div",{ref:"acrossBar",staticClass:"acrossBar_chart"}),i("el-dialog",{attrs:{title:"提示",visible:t.lineDialogVisible,width:"88%"},on:{"update:visible":function(e){t.lineDialogVisible=e}}},[i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.lineChartsLoading,expression:"lineChartsLoading"}],staticClass:"line-charts"}),i("span",{attrs:{slot:"title"},slot:"title"},[i("span",{staticClass:"table_title"},[t._v("业务办理明细"),i("br"),i("span",{staticStyle:{"font-weight":"normal","font-size":"12px",color:"#ff8000"}},[t._v("业务类别、业务子类、单位只能有一个多选")])]),i("span",{staticClass:"label"},[t._v("业务类别：")]),i("el-select",{staticStyle:{width:"160px","margin-right":"10px"},attrs:{"multiple-limit":t.gnflLimit,size:"mini",multiple:"",filterable:"","collapse-tags":"","allow-create":"","default-first-option":"",placeholder:"请选择业务类别"},on:{change:t.handleGnfl},model:{value:t.gnflValue,callback:function(e){t.gnflValue=e},expression:"gnflValue"}},t._l(t.gnflList,(function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),i("span",{staticClass:"label"},[t._v("业务子类：")]),i("el-select",{staticStyle:{width:"160px","margin-right":"10px"},attrs:{"multiple-limit":t.gnxLimit,size:"mini",multiple:"",filterable:"","collapse-tags":"","allow-create":"","default-first-option":"",placeholder:"请选择业务子类"},on:{change:t.handleGnx},model:{value:t.gnxValue,callback:function(e){t.gnxValue=e},expression:"gnxValue"}},t._l(t.gnxList,(function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),i("span",{staticClass:"label"},[t._v("单位：")]),i("el-select",{staticStyle:{width:"160px","margin-right":"10px"},attrs:{size:"mini","multiple-limit":t.qdLimit,multiple:"",filterable:"","collapse-tags":"","allow-create":"","default-first-option":"",placeholder:"请选择单位"},on:{change:t.handleQd},model:{value:t.qdValue,callback:function(e){t.qdValue=e},expression:"qdValue"}},t._l(t.qdOptions,(function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),i("span",[t._v(" 时间：")]),i("el-radio-group",{model:{value:t.hyfbWd,callback:function(e){t.hyfbWd=e},expression:"hyfbWd"}},[i("el-radio",{attrs:{label:"年"}},[t._v("年")]),i("el-radio",{attrs:{label:"月"}},[t._v("月")]),i("el-radio",{attrs:{label:"日"}},[t._v("日")])],1),i("el-date-picker",{staticStyle:{width:"130px"},attrs:{type:"年"===t.hyfbWd?"year":"月"===t.hyfbWd?"month":"date",size:"mini",placeholder:"选择日期","value-format":"年"===t.hyfbWd?"yyyy":"月"===t.hyfbWd?"yyyy-MM":"yyyy-MM-dd"},model:{value:t.hyfbDate,callback:function(e){t.hyfbDate=e},expression:"hyfbDate"}},[t._v(">\n            ")]),i("el-button",{staticStyle:{margin:"0px 10px"},attrs:{type:"primary",size:"mini"},on:{click:t.getFunctionalActiveDistributionDetail}},[t._v("查询")]),i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.exportExcel}},[t._v("导出Excel")])],1),i("div",{staticStyle:{"text-align":"center"}},[i("el-radio-group",{on:{change:t.getFunctionalActiveDistributionDetail},model:{value:t.lineType,callback:function(e){t.lineType=e},expression:"lineType"}},[i("el-radio",{attrs:{label:"1"}},[t._v("分线")]),i("el-radio",{attrs:{label:"2"}},[t._v("合线")])],1)],1),i("div",{ref:"gnfnLineChart",staticStyle:{height:"260px",margin:"10px 8px"}}),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){t.lineDialogVisible=!1}}},[t._v("关闭")])],1)])],1)},n=[],l=(i("7f7f"),i("db49")),s=i("bb51"),r={dataset:{source:[["score","amount","product"],[89.3,58212,"Matcha"],[57.1,78254,"Milk"],[74.4,41032,"Cheese"],[89.7,20145,"Matcha"],[68.1,79146,"Tea"],[19.6,91852,"Orange"],[10.6,101852,"Lemon"],[32.7,20112,"Walnut"]]},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{containLabel:!0,top:0,bottom:10,left:10,right:30},xAxis:{name:" ",axisTick:{show:!0},axisLine:{show:!1},splitLine:{show:!0},axisLabel:{textStyle:{color:"#636363"}}},yAxis:{type:"category",axisLine:{show:!1},axisTick:{show:!1},axisLabel:{textStyle:{color:"#636363"}}},series:[{type:"bar",showBackground:!0,backgroundStyle:{color:"#e7fcff"},encode:{x:"score",y:"product"},barMaxWidth:32,itemStyle:{normal:{color:function(t){var e=["#264bcd","#00cbcb","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622"];return e[t.dataIndex]}}}}]},o={name:"acrossBar",mixins:[s["a"]],components:{},props:{},data:function(){return{lineType:"1",barOption:r,lineChartsLoading:!1,lineDialogVisible:!1,gnflValue:[],gnflList:[],gnxValue:[],gnxList:[],qdValue:[],qdOptions:[],hyfbWd:"月",hyfbDate:"2021-2-1",lineOption:{grid:{left:"3%",right:"4%",bottom:"10",top:"10",containLabel:!0},tooltip:{trigger:"axis"},toolbox:{feature:{saveAsImage:{}}},xAxis:{type:"category",data:[]},yAxis:{type:"value"},series:[{name:"",color:"#3c86e0",data:[],type:"line"}]},gnflLimit:20,gnxLimit:20,qdLimit:20}},mounted:function(){},methods:{handleGnfl:function(){this.gnxValue=[],this.GetFeature(),this.gnflValue.length>1?(this.gnxLimit=1,this.qdLimit=1):this.gnxValue.length>1?(this.gnflLimit=1,this.qdLimit=1):this.qdValue.length>1?(this.gnxLimit=1,this.gnflLimit=1):(this.gnflLimit=20,this.gnxLimit=20,this.qdLimit=20)},handleGnx:function(){this.gnflValue.length>1?(this.gnxLimit=1,this.qdLimit=1):this.gnxValue.length>1?(this.gnflLimit=1,this.qdLimit=1):this.qdValue.length>1?(this.gnxLimit=1,this.gnflLimit=1):(this.gnflLimit=20,this.gnxLimit=20,this.qdLimit=20)},handleQd:function(){this.gnflValue.length>1?(this.gnxLimit=1,this.qdLimit=1):this.gnxValue.length>1?(this.gnflLimit=1,this.qdLimit=1):this.qdValue.length>1?(this.gnxLimit=1,this.gnflLimit=1):(this.gnflLimit=20,this.gnxLimit=20,this.qdLimit=20)},GetFunctionDistribution:function(t,e,i){var a=this;this.getBusinessType({}).then((function(t){a.gnflList=t})).finally((function(){}))},GetFeature:function(){var t=this;this.getBusinessSubclass({businessType:this.gnflValue}).then((function(e){t.gnxList=e}))},handleGnf:function(t,e){window.console.log(t),window.console.log(e)},getFunctionalActiveDistributionDetail:function(){var t=this;this.lineChartsLoading=!0,this.getTopTenDetail({cities:this.qdValue,dimension:this.hyfbWd,time:this.hyfbDate,businessType:this.gnflValue,businessSubclass:this.gnxValue,type:this.lineType}).then((function(e){"1"===t.lineType?t.init2(e):t.init2({"合线":e})})),this.lineChartsLoading=!1},exportExcel:function(){window.location.href=l["c"]+"/internetChannelController/exportTopTenDetail?cities="+this.qdValue+"&dimension="+this.hyfbWd+"&businessSubclass="+this.gnxValue+"&businessType="+this.gnflValue+"&time="+this.hyfbDate+"&type="+this.lineType},init2:function(t){this.lineOption.xAxis.data=[],this.lineOption.series=[];var e=[];for(var a in t)e.push({yD:t[a],type:"line",name:a,smooth:!0});for(var n=["#3c86e0","#e0c53c","#14e5cd","#c96f20","#68b45b","#722dc1","#87dbc7","#0812d2"],l=0;l<e.length;l++){e[l].data=[];for(var s=0;s<e[l].yD.length;s++)e[l].color=n[l],e[l].data.push(e[l].yD[s].num),0===l&&this.lineOption.xAxis.data.push(e[l].yD[s].resultDate)}this.lineOption.series=e;var r=i("313e");this.mychart=r.init(this.$refs.gnfnLineChart),this.mychart.setOption(this.lineOption,!0);var o=r.init(this.$refs.gnfnLineChart,!0);window.addEventListener("resize",o.resize)},init:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new Date;t&&(this.barOption.dataset.source=t),this.qdValue=a,this.hyfbWd=n,this.hyfbDate=l;var s=i("313e");this.mychart=s.init(this.$refs.acrossBar),this.mychart.setOption(this.barOption);var r=s.init(this.$refs.acrossBar,!0);window.addEventListener("resize",r.resize),this.qdOptions=e;var o=this;this.mychart.off("click"),this.mychart.on("click",(function(t){o.gnflValue=[t.name],window.console.log(t),o.lineDialogVisible=!0,o.GetFunctionDistribution(t),o.GetFeature(),o.getFunctionalActiveDistributionDetail()}))}}},c=o,u=(i("e9c4"),i("2877")),h=Object(u["a"])(c,a,n,!1,null,"257f45f4",null);e["default"]=h.exports},"55dd":function(t,e,i){"use strict";var a=i("5ca1"),n=i("d8e8"),l=i("4bf8"),s=i("79e5"),r=[].sort,o=[1,2,3];a(a.P+a.F*(s((function(){o.sort(void 0)}))||!s((function(){o.sort(null)}))||!i("2f21")(r)),"Array",{sort:function(t){return void 0===t?r.call(l(this)):r.call(l(this),n(t))}})},6955:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"lineCharts"},[i("div",{ref:"lineCharts",staticClass:"bar_bda"})])},n=[],l=i("bb51"),s={title:{show:!1,text:"折线图堆叠"},tooltip:{trigger:"axis"},legend:{padding:[30,0,0,0],data:[],show:!1},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},toolbox:{feature:{saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!1,data:[]},yAxis:{type:"value",axisTick:{show:!1},axisLine:{show:!1}},series:[]},r={name:"lineCharts",mixins:[l["a"]],components:{},props:{},data:function(){return{lineOption:s}},mounted:function(){},methods:{init:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];this.lineOption.legend.data=t,this.lineOption.xAxis.data=a,this.lineOption.series=e;var n=i("313e");this.mychart=n.init(this.$refs.lineCharts),this.mychart.setOption(this.lineOption);var l=n.init(this.$refs.lineCharts,!0);window.addEventListener("resize",l.resize)}}},o=r,c=(i("e0ed"),i("2877")),u=Object(c["a"])(o,a,n,!1,null,"6f2bafdd",null);e["default"]=u.exports},7514:function(t,e,i){"use strict";var a=i("5ca1"),n=i("0a49")(5),l="find",s=!0;l in[]&&Array(1)[l]((function(){s=!1})),a(a.P+a.F*s,"Array",{find:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),i("9c6c")(l)},"7d74":function(t,e,i){},b5cf:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"analysis"},[i("el-row",{attrs:{gutter:10}},[i("el-col",{attrs:{span:13}},[i("div",{staticClass:"content-border"},[i("div",{staticClass:"content-title"},[i("span",{staticClass:"block"}),i("span",[t._v("互联网渠道注册数分布")])]),i("div",{staticClass:"chart-main"},[i("map-temp",{directives:[{name:"loading",rawName:"v-loading",value:t.mapLoading,expression:"mapLoading"}],ref:"mapTemp",staticStyle:{width:"calc(100% - 240px)"}}),i("div",{staticClass:"mapLabel"},[i("div",[i("span",[t._v("渠道：")]),i("el-select",{staticStyle:{width:"calc(100% - 60px)","margin-bottom":"10px"},attrs:{clearable:"",placeholder:"请选择",size:"mini"},on:{change:t.areaTypeChange},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.options,(function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),i("div",[i("span",[t._v("总客户数：")]),i("span",{staticClass:"num"},[t._v(t._s(t.objTotal.customerNum))])]),i("div",{directives:[{name:"show",rawName:"v-show",value:"微信"!==t.value&&"支付宝"!==t.value,expression:"value!=='微信'&&value!=='支付宝'"}]},[i("span",[t._v("总注册数：")]),i("span",{staticClass:"num"},[t._v(t._s(t.objTotal.registerNum))])]),i("div",{directives:[{name:"show",rawName:"v-show",value:"微信"===t.value||"支付宝"===t.value||"全部"===t.value,expression:"value==='微信'||value==='支付宝'||value==='全部'"}]},[i("span",[t._v("总绑定数：")]),i("span",{staticClass:"num"},[t._v(t._s(t.objTotal.bindNum))])]),i("div",{staticClass:"card_map"},[i("el-tabs",{attrs:{type:"border-card"},on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[i("el-tab-pane",{attrs:{label:"总注册数",name:"first"}},[t.registerNumArray.length>0?t._l(t.registerNumArray,(function(e,a){return i("div",{key:a,staticClass:"tab_box"},["深圳市"!=e.name&&"广州市"!=e.name?i("span",[t._v(t._s(e.name))]):t._e(),"深圳市"!=e.name&&"广州市"!=e.name?i("span",[t._v(t._s(e.registerNum))]):t._e()])})):i("div",{staticStyle:{"text-align":"center",color:"#009fec","margin-top":"20px"}},[t._v("暂无数据")])],2),i("el-tab-pane",{attrs:{label:"总绑定数",name:"second"}},[t.bindNumArray.length>0?t._l(t.bindNumArray,(function(e,a){return i("div",{key:a,staticClass:"tab_box"},["深圳市"!=e.name&&"广州市"!=e.name?i("span",[t._v(t._s(e.name))]):t._e(),"深圳市"!=e.name&&"广州市"!=e.name?i("span",[t._v(t._s(e.bindNum))]):t._e()])})):i("div",{staticStyle:{"text-align":"center",color:"#009fec","margin-top":"20px"}},[t._v("暂无数据")])],2)],1)],1)])],1)]),i("div",{staticClass:"content-border"},[i("div",{staticClass:"content-title"},[i("span",{staticClass:"block"}),i("span",[t._v("渠道功能分类分布")]),i("div",{staticClass:"line_nav"},[i("span",[t._v("渠道：")]),i("el-select",{staticStyle:{width:"220px","margin-right":"10px"},attrs:{size:"mini",multiple:"",filterable:"","collapse-tags":"","allow-create":"","default-first-option":"",placeholder:"请选择文章标签"},model:{value:t.lineValue,callback:function(e){t.lineValue=e},expression:"lineValue"}},t._l(t.lineOptions,(function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),i("span",[t._v("时间：")]),i("el-date-picker",{attrs:{size:"mini","value-format":"yyyy-MM",type:"monthrange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始月份","end-placeholder":"结束月份"},model:{value:t.lineDate,callback:function(e){t.lineDate=e},expression:"lineDate"}}),i("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"mini",type:"primary"},on:{click:t.getFunctionDistribution}},[t._v("查找")])],1)]),i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.lineLoading,expression:"lineLoading"}],staticClass:"chart-main",staticStyle:{height:"430px"}},[i("line-charts",{ref:"lineCharts"})],1)])]),i("el-col",{attrs:{span:11}},[i("div",{staticClass:"content-border"},[i("div",{staticClass:"content-title"},[i("span",{staticClass:"block"}),i("span",[t._v("互联网渠道办理业务TOP10排名")]),i("div",{staticClass:"line_nav yw_nav"},[i("span",[t._v("单位：")]),i("el-select",{staticStyle:{width:"220px","margin-right":"10px"},attrs:{size:"mini",multiple:"",filterable:"","collapse-tags":"","allow-create":"","default-first-option":"",placeholder:"请选择"},model:{value:t.unitValue,callback:function(e){t.unitValue=e},expression:"unitValue"}},t._l(t.unitOptions,(function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),i("span",[t._v("时间：")]),i("el-radio-group",{on:{change:t.dateChange},model:{value:t.ywblWd,callback:function(e){t.ywblWd=e},expression:"ywblWd"}},[i("el-radio",{attrs:{label:"年"}},[t._v("年")]),i("el-radio",{attrs:{label:"月"}},[t._v("月")]),i("el-radio",{attrs:{label:"日"}},[t._v("日")])],1),i("el-date-picker",{staticStyle:{width:"130px"},attrs:{type:"年"===t.ywblWd?"year":"月"===t.ywblWd?"month":"date",size:"mini",placeholder:"选择日期","value-format":"年"===t.ywblWd?"yyyy":"月"===t.ywblWd?"yyyy-MM":"yyyy-MM-dd"},model:{value:t.ywblDate,callback:function(e){t.ywblDate=e},expression:"ywblDate"}}),i("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"mini",type:"primary"},on:{click:t.GetTopTen}},[t._v("查找")])],1)]),i("div",{staticClass:"chart-main",staticStyle:{"margin-top":"20px",height:"400px"}},[i("across-bar",{ref:"acrossBar"})],1)]),i("div",{staticClass:"content-border"},[i("div",{staticClass:"content-title"},[i("span",{staticClass:"block"}),i("span",[t._v("业务办理情况")]),i("div",{staticClass:"bar_nav"},[i("span",[t._v("业务类型：")]),i("el-select",{staticStyle:{width:"220px","margin-right":"10px"},attrs:{size:"mini",multiple:"",filterable:"","collapse-tags":"","allow-create":"","default-first-option":"",placeholder:"请选择业务类型"},model:{value:t.barValue,callback:function(e){t.barValue=e},expression:"barValue"}},t._l(t.barOptions,(function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),i("span",[t._v("时间：")]),i("el-date-picker",{staticStyle:{width:"180px"},attrs:{size:"mini","value-format":"yyyy-MM",type:"monthrange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始月份","end-placeholder":"结束月份"},model:{value:t.barDate,callback:function(e){t.barDate=e},expression:"barDate"}}),i("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"mini",type:"primary"},on:{click:t.GetBusinessSituation}},[t._v("查找")])],1)]),i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.barLoading,expression:"barLoading"}],staticClass:"chart-main",staticStyle:{height:"300px"}},[i("bar-charts",{ref:"barCharts",attrs:{typeVal:t.barOptions}})],1)]),i("div",{staticClass:"content-border"},[i("div",{staticClass:"content-title"},[i("span",{staticClass:"block"}),i("span",[t._v("渠道功能活跃分布")]),i("div",{staticClass:"line_nav pie_nav"},[i("span",[t._v("渠道：")]),i("el-select",{staticStyle:{width:"190px","margin-right":"10px"},attrs:{clearable:"",placeholder:"请选择",size:"mini"},model:{value:t.pieValue,callback:function(e){t.pieValue=e},expression:"pieValue"}},t._l(t.pieOptions,(function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),i("span",[t._v("时间：")]),i("el-radio-group",{on:{change:t.handleDate},model:{value:t.hyfbWd,callback:function(e){t.hyfbWd=e},expression:"hyfbWd"}},[i("el-radio",{attrs:{label:"年"}},[t._v("年")]),i("el-radio",{attrs:{label:"月"}},[t._v("月")]),i("el-radio",{attrs:{label:"日"}},[t._v("日")])],1),i("el-date-picker",{staticStyle:{width:"130px"},attrs:{type:"年"===t.hyfbWd?"year":"月"===t.hyfbWd?"month":"date",size:"mini",placeholder:"选择日期","value-format":"年"===t.hyfbWd?"yyyy":"月"===t.hyfbWd?"yyyy-MM":"yyyy-MM-dd"},model:{value:t.hyfbDate,callback:function(e){t.hyfbDate=e},expression:"hyfbDate"}}),i("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"mini",type:"primary"},on:{click:t.getFunctionalActiveDistribution}},[t._v("查找")])],1)]),i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.pieLoading,expression:"pieLoading"}],staticClass:"chart-main",staticStyle:{height:"298px"}},[i("pie-charts",{ref:"pieCharts"})],1)])])],1)],1)},n=[],l=(i("55dd"),i("7514"),i("ac6a"),i("7f7f"),i("6b54"),i("bb51")),s=i("4852"),r=i("d027"),o=i("6955"),c=i("2d63"),u=i("d783"),h={name:"analysis",mixins:[l["a"]],components:{acrossBar:s["default"],barCharts:r["default"],lineCharts:o["default"],pieCharts:c["default"],mapTemp:u["default"]},props:{},data:function(){return{mapLoading:!1,options:[{value:"A渠道",label:"A渠道"},{value:"C渠道",label:"C渠道"},{value:"B渠道",label:"B渠道"}],value:"全部",activeName:"first",areaArrayData:[],objTotal:{bindNum:0,customerNum:0,registerNum:0},bindNumArray:[],registerNumArray:[],lineDate:[],lineOptions:[],lineValue:["全部"],lineLoading:!1,barDate:[],barOptions:[],barValue:["全部"],barLoading:!1,pieLoading:!1,pieOptions:[],pieValue:"微信",hyfbDate:"",hyfbWd:"年",unitValue:[],unitOptions:[],ywblWd:"年",ywblDate:"",cityArr:["广州市","佛山市","东莞市","中山市","江门市","珠海市","惠州市","汕头市","清远市","肇庆市","韶关市","梅州市","湛江市","茂名市","揭阳市","潮州市","云浮市","河源市","阳江市","汕尾市","深圳市"]}},mounted:function(){var t=this;this.ywblDate=this.getDate("year").toString(),this.hyfbDate=this.getDate("year").toString(),this.$nextTick((function(){t.GetFunctionChannel(),t.getFunctionDistribution(),t.GetBusinessType(),t.GetBusinessSituation(),t.GetRegisterChannel(),t.GetDetail(),t.getFunctionalActiveDistribution(),t.GetUnit()}))},methods:{dateChange:function(){this.ywblDate=""},handleClick:function(t,e){window.console.log(t,e)},handleDate:function(){this.hyfbDate="",window.console.log(this.hyfbWd,"pp")},getDate:function(t){var e=new Date,i=e.getFullYear(),a=e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,n=e.getDate()<10?"0"+e.getDate():e.getDate();return"year"===t?i:"month"===t?i+"-"+a:"date"===t?i+"-"+a+"-"+n:void 0},GetRegisterChannel:function(){var t=this;this.getRegisterChannel({}).then((function(e){t.options=e,t.options.unshift({value:"全部",label:"全部"})}))},GetDetail:function(){this.mapLoading=!0,this.areaTypeChange()},areaTypeChange:function(){this.GetNumber(),this.GetTotalNumber()},GetNumber:function(){var t=this;this.objTotal={bindNum:0,customerNum:0,registerNum:0},this.getNumber({}).then((function(e){for(var i in e)i===t.value&&(t.objTotal.customerNum=e[i].customerNum||0,t.objTotal.bindNum=e[i].bindNum||0,t.objTotal.registerNum=e[i].registerNum||0)}))},GetTotalNumber:function(){var t=this;this.bindNumArray=[],this.registerNumArray=[],this.getTotalNumber({}).then((function(e){for(var i in window.console.log(e,"jjjjjj"),t.mapLoading=!1,t.areaArrayData=e,t.$refs.mapTemp.setMap(t.areaArrayData,t.value),window.console.log(t.value,"this.valuethis.value"),e)if(i===t.value)for(var a=0;a<e[i].length;a++)"支付宝"===t.value||"微信"===t.value?(t.activeName="second",t.bindNumArray.push({name:e[i][a].name,bindNum:e[i][a].bindNum}),t.registerNumArray.push({name:e[i][a].name,registerNum:e[i][a].registerNum})):"全部"===t.value?(t.bindNumArray.push({name:e[i][a].name,bindNum:e[i][a].bindNum}),t.registerNumArray.push({name:e[i][a].name,registerNum:e[i][a].registerNum})):(t.activeName="first",t.bindNumArray.push({name:e[i][a].name,bindNum:e[i][a].bindNum}),t.registerNumArray.push({name:e[i][a].name,registerNum:e[i][a].registerNum}));window.console.log(t.registerNumArray,"registerNumArray");var n=[],l=[];t.cityArr.forEach((function(e){n.push(t.registerNumArray.find((function(t){return t.name===e}))),l.push(t.bindNumArray.find((function(t){return t.name===e})))})),t.registerNumArray=n,t.bindNumArray=l,t.$forceUpdate()}))},GetFunctionChannel:function(){var t=this;this.getFunctionChannel({}).then((function(e){t.lineOptions=e,t.lineOptions.unshift({value:"全部",label:"全部"}),t.pieOptions=JSON.parse(JSON.stringify(t.lineOptions)),window.console.log(e)}))},getFunctionDistribution:function(){var t=this;this.lineLoading=!0,void 0===this.lineDate||null===this.lineDate?this.lineDate=[]:this.lineDate,this.functionDistribution({functionChannel:this.lineValue,startTime:this.lineDate[0]||"",endTime:this.lineDate[1]||""}).then((function(e){var i=[],a=[],n=[];for(var l in e)i.push(l),n.push({name:l,type:"line",stack:"总量",smooth:!0,data:[]});for(var s=0;s<e[i[0]].length;s++)window.console.log(),a.push(e[i[0]][s].functionType);var r=["#3c86e0","#e0c53c","#14e5cd","#c96f20","#68b45b","#722dc1","#87dbc7","#0812d2"];for(var o in e)for(var c=0;c<n.length;c++)if(n[c].color=r[c],n[c].name===o)for(var u=0;u<e[o].length;u++)n[c].data.push(e[o][u].num);t.lineLoading=!1,t.$refs.lineCharts.init(i,n,a),window.console.log(i,"ooo"),window.console.log(n,"series"),window.console.log(a,"dataX")}))},getFunctionalActiveDistribution:function(){var t=this;this.pieLoading=!0,this.functionalActiveDistribution({dimension:this.hyfbWd,time:this.hyfbDate,channel:this.pieValue}).then((function(e){var i=[],a=[];e.data.forEach((function(t){i.push(t.functionType),a.push({name:t.functionType,value:t.proportion})})),t.$refs.pieCharts.init(i,a,t.pieOptions,t.pieValue,t.hyfbWd,t.hyfbDate),window.console.log(e,"rr"),t.pieLoading=!1}))},GetBusinessType:function(){var t=this;this.getBusinessType({}).then((function(e){t.barOptions=e,t.barOptions.unshift({value:"全部",label:"全部"})}))},GetBusinessSituation:function(){var t=this;this.barLoading=!0,void 0===this.barDate||null===this.barDate?this.barDate=[]:this.barDate,window.console.log(this.barDate,"ooo"),this.businessSituation({businessType:this.barValue,startTime:this.barDate[0]||"",endTime:this.barDate[1]||""}).then((function(e){t.barLoading=!1;for(var i=[],a=[],n=0;n<e.length;n++)i.push(e[n].channel),a.push(e[n].num);t.$nextTick((function(){t.$refs.barCharts.init(i,a,t.barValue,t.barDate)}))}))},GetUnit:function(){var t=this;this.getUnit({}).then((function(e){t.unitOptions=e,t.GetTopTen()}))},GetTopTen:function(){var t=this;this.getTopTen({dimension:this.ywblWd,time:this.ywblDate,cities:this.unitValue}).then((function(e){var i=[["score","amount","product"]],a=e.sort((function(t,e){return t.sl-e.sl}));a.forEach((function(t,e){e<=9&&(i.push([t.sl,0,t.ywlb]),console.log(i,"array"))})),t.$refs.acrossBar.init(i,t.unitOptions,t.unitValue,t.ywblWd,t.ywblDate)}))}}},d=h,p=(i("12a2"),i("2877")),b=Object(p["a"])(d,a,n,!1,null,"d0cced54",null);e["default"]=b.exports},cd1c:function(t,e,i){var a=i("e853");t.exports=function(t,e){return new(a(t))(e)}},d027:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"barCharts"},[i("div",{ref:"barCharts",staticClass:"bar_bda"}),i("el-dialog",{attrs:{title:"提示",visible:t.barTableDialogVisible,width:"70%"},on:{"update:visible":function(e){t.barTableDialogVisible=e}}},[i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.barTableLoading,expression:"barTableLoading"}],staticClass:"barTable"},[i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,height:"250",border:"",stripe:""}},[i("el-table-column",{attrs:{prop:"ywlb",label:"业务类型"}}),i("el-table-column",{attrs:{prop:"qd",label:"渠道"}}),i("el-table-column",{attrs:{prop:"ywsqsj",label:"业务申请时间"}}),i("el-table-column",{attrs:{prop:"gdj",label:"供电局"}}),i("el-table-column",{attrs:{prop:"blgds",label:"办理工单数"}})],1),i("div",{staticClass:"block"},[i("el-pagination",{attrs:{"current-page":t.pages.pageNo,"page-sizes":[8,10,20,50],"page-size":t.pages.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.pages.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1),i("span",{attrs:{slot:"title"},slot:"title"},[i("span",{staticClass:"table_title"},[t._v("业务办理情况明细")]),i("span",{staticClass:"label"},[t._v("业务类别：")]),i("el-select",{staticStyle:{width:"160px","margin-right":"10px"},attrs:{size:"mini",multiple:"",filterable:"","collapse-tags":"","allow-create":"","default-first-option":"",placeholder:"请选择业务类别"},model:{value:t.typeValue,callback:function(e){t.typeValue=e},expression:"typeValue"}},t._l(t.typeVal,(function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),i("span",{staticClass:"label"},[t._v("渠道：")]),i("el-select",{staticStyle:{width:"140px","margin-bottom":"10px"},attrs:{clearable:"",placeholder:"请选择渠道",size:"mini"},model:{value:t.qdValue,callback:function(e){t.qdValue=e},expression:"qdValue"}},t._l(t.qdOptions,(function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),i("span",{staticClass:"label"},[t._v("时间：")]),i("el-date-picker",{attrs:{size:"mini","value-format":"yyyy-MM",type:"monthrange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始月份","end-placeholder":"结束月份"},model:{value:t.barrDate,callback:function(e){t.barrDate=e},expression:"barrDate"}}),i("el-button",{staticStyle:{margin:"0px 10px"},attrs:{type:"primary",size:"mini"},on:{click:t.getBusinessSituationDetail}},[t._v("查询")]),i("el-button",{directives:[{name:"loading",rawName:"v-loading",value:t.dfLoadig,expression:"dfLoadig"}],attrs:{type:"primary",size:"mini"},on:{click:t.exportExcel}},[t._v("导出Excel")])],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"mini"},on:{click:function(e){t.barTableDialogVisible=!1}}},[t._v("取 消")]),i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){t.barTableDialogVisible=!1}}},[t._v("确 定")])],1)])],1)},n=[],l=(i("7f7f"),i("bb51")),s=i("db49"),r=i("bc3a"),o=i.n(r),c={color:["#3398DB"],tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"3%",right:"4%",bottom:"8%",containLabel:!0},xAxis:[{type:"category",data:[],axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value",axisTick:{show:!1},axisLine:{show:!1}}],series:[{name:"数值",type:"bar",barMaxWidth:"60",data:[]}]},u={name:"barCharts",mixins:[l["a"]],components:{},props:{typeVal:{type:Array,default:function(){return[]}}},data:function(){return{barOption:c,barTableDialogVisible:!1,typeOptions:[],typeValue:["全部"],barrDate:[],qdOptions:[],qdValue:"",tableData:[],pages:{pageNo:1,pageSize:10,total:0},barTableLoading:!1,dfLoadig:!1}},mounted:function(){},methods:{handleSizeChange:function(t){this.pages.pageSize=t,this.getBusinessSituationDetail(),console.log("每页 ".concat(t," 条"))},handleCurrentChange:function(t){this.pages.pageNo=t,this.getBusinessSituationDetail(),console.log("当前页: ".concat(t))},init:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new n;this.barrDate=n,this.typeValue=a,this.barOption.xAxis[0].data=t,this.barOption.series[0].data=e;var l=i("313e");this.mychart=l.init(this.$refs.barCharts),this.mychart.setOption(this.barOption);var s=l.init(this.$refs.barCharts,!0);window.addEventListener("resize",s.resize);var r=this;this.mychart.off("click"),this.mychart.on("click",(function(t){r.barTableDialogVisible=!0,r.GetBusinessChannel(t)}))},GetBusinessChannel:function(t){var e=this;this.qdValue=t.name,this.getBusinessChannel({}).then((function(t){e.qdOptions=t,e.qdOptions.unshift({value:"全部",label:"全部"}),e.getBusinessSituationDetail()}))},getBusinessSituationDetail:function(){var t=this;this.barTableLoading=!0,void 0===this.barrDate||null===this.barrDate?this.barrDate=[]:this.barrDate,this.businessSituationDetail({businessType:this.typeValue,channel:this.qdValue,current:this.pages.pageNo,size:this.pages.pageSize,startTime:this.barrDate[0]||"",endTime:this.barrDate[1]||""}).then((function(e){t.tableData=e.records,t.pages.total=e.total,t.barTableLoading=!1,window.console.log(e)}))},exportExcel:function(){var t=this;void 0===this.barrDate||null===this.barrDate?this.barrDate=[]:this.barrDate;var e="",i="";this.barrDate.length>0&&(e=this.barrDate[0],i=this.barrDate[1]),this.dfLoadig=!0,window.console.log(this.typeValue,"999");var a="/internetChannelController/exportBusinessDetail?businessType="+this.typeValue+"&channel="+this.qdValue+"&startTime="+e+"&endTime="+i;o()({method:"get",url:s["c"]+a,traditional:!0,headers:{"Content-Type":"application/json;charset=UTF-8"},responseType:"blob"}).then((function(t){var e=t.data,i=new Blob([e]),a="业务办理明细信息.xls";if("download"in document.createElement("a")){var n=document.createElement("a");n.download=a,n.style.display="none",n.href=URL.createObjectURL(i),document.body.appendChild(n),n.click(),URL.revokeObjectURL(n.href),document.body.removeChild(n)}else navigator.msSaveBlob(i,a)})).finally((function(){t.dfLoadig=!1})).catch((function(){t.dfLoadig=!1}))}}},h=u,d=(i("11c6"),i("2877")),p=Object(d["a"])(h,a,n,!1,null,"6883a22e",null);e["default"]=p.exports},e0ed:function(t,e,i){"use strict";var a=i("7d74"),n=i.n(a);n.a},e315:function(t,e,i){},e853:function(t,e,i){var a=i("d3f4"),n=i("1169"),l=i("2b4c")("species");t.exports=function(t){var e;return n(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!n(e.prototype)||(e=void 0),a(e)&&(e=e[l],null===e&&(e=void 0))),void 0===e?Array:e}},e9c4:function(t,e,i){"use strict";var a=i("032b"),n=i.n(a);n.a}}]);
//# sourceMappingURL=chunk-1eb9b450.c8a7c9a3.js.map