(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2c4fd966"],{"1e02":function(e,a,t){},"3d22":function(e,a,t){"use strict";t.r(a);var r=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"approvalTask"},[t("div",{staticClass:"content"},[t("el-form",{ref:"ruleForm",staticClass:"information-form",attrs:{model:e.queryForm,inline:!0,"label-width":"150px"}},[t("el-form-item",[t("el-select",{attrs:{placeholder:"请选择执行申请状态"},on:{change:e.handleSearch},model:{value:e.queryForm.applicationStatus,callback:function(a){e.$set(e.queryForm,"applicationStatus",a)},expression:"queryForm.applicationStatus"}},e._l(e.applicationStatusType,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),t("el-form-item",[t("el-select",{attrs:{placeholder:"请选择执行渠道"},on:{change:e.handleSearch},model:{value:e.queryForm.performChannel,callback:function(a){e.$set(e.queryForm,"performChannel",a)},expression:"queryForm.performChannel"}},e._l(e.performChannelType,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),t("el-form-item",[t("el-input",{attrs:{placeholder:"请输入营销活动内容关键词"},nativeOn:{keyup:function(a){return!a.type.indexOf("key")&&e._k(a.keyCode,"enter",13,a.key,"Enter")?null:e.handleSearch(a)}},model:{value:e.queryForm.idtypeKey,callback:function(a){e.$set(e.queryForm,"idtypeKey","string"===typeof a?a.trim():a)},expression:"queryForm.idtypeKey"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.handleSearch}},[e._v("查询")])],1)],1),t("bdaTable",{staticClass:"content-table",attrs:{tableData:e.taskData,headerColor:e.taskHeaderColor,isPage:!0,pageConfig:e.pageConfig},on:{operate:e.taskOperate,changePage:e.changePage}})],1),e.resultDialogVisible?t("operateDialog",{attrs:{visible:e.resultDialogVisible,showData:e.resultDialogData,type:e.resultDialogType},on:{"update:visible":function(a){e.resultDialogVisible=a}}}):e._e()],1)},l=[],o=t("c286"),i=t("f9fe"),n=t("0973"),s={components:{bdaTable:i["a"],operateDialog:n["default"]},name:"performApplication",mixins:[o["a"]],watch:{filterText:function(e){this.$refs.tree.filter(e)}},props:{menuType:{type:String,default:""}},data:function(){return{taskData:{},taskRes:!1,taskHeaderColor:"",queryForm:{relationNumber:"",current:1,size:10,total:0,applicationStatus:"",performChannel:"",idtypeKey:""},pageConfig:{current:1,size:10,pageSizes:[10,20,30,40],layout:"prev, pager, next, sizes,jumper,total",total:0},resultDialogVisible:!1,resultDialogType:"",resultDialogData:{},applicationStatusType:[],performChannelType:[]}},mounted:function(){this.getTaskData()},methods:{handleSearch:function(){console.log(this.queryForm,"this.queryForm")},taskOperate:function(e,a){console.log(e,a),this.queryForm.relationNumber=a.relationNumber,"approval"===e?this.getTaskDetailData(a):("approvalPass"===e&&this.approvalResult("1"),"approvalFail"===e&&this.approvalResult("2"),this.resultDialogVisible=!1)},approvalResult:function(e){var a=this;this.approvalThrough({relationNumber:this.queryForm.relationNumber,approvalState:e}).then((function(e){a.getTaskData()}))},taskDialogClose:function(){this.taskDialogVisible=!1},submitApproval:function(){this.taskDialogVisible=!1},changePage:function(e){this.queryForm.size=e.size,this.queryForm.current=e.current,this.getTaskData()},getTaskData:function(){this.taskHeaderColor="#1899fa";var e=[{prop:"relationName",label:"现场营销活动名称",width:140},{prop:"descibe",label:"执行渠道"},{prop:"runmode",label:"执行方式",align:"center",width:"120px"},{prop:"Operate",label:"推荐客户清单查看与任务排位置",align:"center",width:"200px",type:[{name:"点击查看与配置",action:"approvalPass"}]},{prop:"address",label:"计划执行地点",width:120},{prop:"exeTime",label:"计划执行时间",width:120},{prop:"proposer",label:"操作",align:"center",status:"true",type:[{name:"[提交申请]",action:"approvalPass"},{name:"[确认推荐数据]",action:"approvalFail"}]},{prop:"status",label:"执行申请状态",align:"center",width:120}];this.taskData={tableData:[{relationName:"基于违规用电的安全宣贯活动",descibe:"",runmode:"",Operate:"",address:"",exeTime:"2020-9-30 18:15",proposer:""}],columnNameData:e}},getTaskDetailData:function(e){var a=this;console.log(e,"data"),this.selectTaskDetail({relationNumber:e.relationNumber,targetId:e.targetId,recId:e.recId,tagId:e.tagId}).then((function(e){a.resultDialogType="approval",a.resultDialogData=e,a.resultDialogVisible=!0}))}}},p=s,u=(t("efcc"),t("2877")),c=Object(u["a"])(p,r,l,!1,null,"25d49f88",null);a["default"]=c.exports},efcc:function(e,a,t){"use strict";var r=t("1e02"),l=t.n(r);l.a}}]);
//# sourceMappingURL=chunk-2c4fd966.18ea4ca5.js.map