(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-736445cb"],{"0011":function(t,e,n){},"17fb":function(t,e,n){},2909:function(t,e,n){"use strict";function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function i(t){if(Array.isArray(t))return a(t)}function r(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function o(t,e){if(t){if("string"===typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(t,e):void 0}}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(t){return i(t)||r(t)||o(t)||s()}n.d(e,"a",(function(){return l}))},"41de":function(t,e,n){"use strict";var a=n("17fb"),i=n.n(a);i.a},"80f2":function(t,e,n){"use strict";var a=n("db49"),i=n("ab3e"),r=a["c"]+"/residentialElectricity/getPowerAreaCode";function o(t){return Object(i["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:r})}var s=a["b"]+"/tag/listTagTreeAndTagobj";function l(t){return Object(i["a"])({method:"get",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:s})}var c=a["c"]+"/cptYxhdYdkh/getXl";function u(t){return Object(i["a"])({method:"get",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:c})}e["a"]={data:function(){return{commonApi:{list:[],page:null,limit:null,total:0,model:null}}},methods:{getPowerAreaCode:function(t){return o(t).then((function(t){return t}))},getBdaTagList:function(t){return l(t).then((function(t){return t}))},getXl:function(t){return u(t).then((function(t){return t}))}}}},"863c":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"matching"},[n("div",{staticClass:"header"},[n("div",{staticClass:"selectNav"},[n("el-button",{staticStyle:{float:"left"},attrs:{type:"primary",size:"small"},on:{click:t.handleAdd}},[t._v("新增")]),n("el-input",{staticClass:"input_300",attrs:{placeholder:"标签名称",size:"small",clearable:""},model:{value:t.tagName,callback:function(e){t.tagName=e},expression:"tagName"}}),n("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-search"},on:{click:t.GetQdRcList}},[t._v("查询")]),n("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.setQzghData}},[t._v("核验数据")])],1)]),n("div",{staticClass:"content"},[n("div",{staticClass:"title"},[t._v("渠道偏好引流")]),n("div",{staticClass:"tableTd"},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{border:"",data:t.tableData,"row-class-name":t.tableRowClassName}},[n("el-table-column",{attrs:{label:"序号",align:"center",type:"index",width:"70"}}),n("el-table-column",{attrs:{prop:"tagName",label:"标签名称"}}),n("el-table-column",{attrs:{prop:"collect",width:"120",label:"覆盖客户数"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-link",{attrs:{type:"primary"},on:{click:function(n){return t.handleDetails(e.row,0)}}},[t._v(t._s(e.row.collect))])]}}])}),n("el-table-column",{attrs:{prop:"signCount",width:"120",label:"手工标记客户数"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-link",{attrs:{type:"primary"},on:{click:function(n){return t.handleDetails(e.row,1)}}},[t._v(t._s(e.row.signCount))])]}}])}),n("el-table-column",{attrs:{prop:"userName",label:"创建人"}}),n("el-table-column",{attrs:{prop:"createTime",label:"创建时间"}}),n("el-table-column",{attrs:{prop:"updateName",label:"修改人"}}),n("el-table-column",{attrs:{prop:"updateTime",label:"修改时间"}}),n("el-table-column",{attrs:{align:"center",width:"160",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-link",{attrs:{type:"primary"},on:{click:function(n){return t.handleEdit(e.row)}}},[t._v("修改")]),n("el-divider",{attrs:{direction:"vertical"}}),n("el-link",{attrs:{type:"danger"},on:{click:function(n){return t.DeleteMessageSendTask(e.row)}}},[t._v("删除")])]}}])})],1),n("div",{staticClass:"block"},[n("el-pagination",{attrs:{"current-page":t.pages.pageNo,"page-sizes":[8,10,20,50],"page-size":t.pages.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.pages.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)]),t.successListVisible?n("div",[n("el-dialog",{staticClass:"successList-dialog",attrs:{visible:t.successListVisible,width:"90%",top:"5vh","before-close":t.successListHandleClose,"close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(e){t.successListVisible=e}}},[n("span",{staticClass:"dialog-header",attrs:{slot:"title"},slot:"title"},[n("el-button",{staticStyle:{float:"right","margin-right":"40px"},attrs:{type:"primary",size:"small"},on:{click:t.saveDate}},[t._v("保存")])],1),n("div",{staticClass:"dialog-content"},[n("div",{staticClass:"addLeft"},[n("el-input",{staticStyle:{width:"calc(100% - 66px)"},attrs:{placeholder:"输入关键字进行过滤",size:"medium"},model:{value:t.filterText2,callback:function(e){t.filterText2=e},expression:"filterText2"}}),n("el-button",{attrs:{icon:"el-icon-search",size:"medium"},on:{click:function(e){return t.selectTree(t.filterText2)}}}),n("el-tree",{directives:[{name:"loading",rawName:"v-loading",value:t.treeLoading,expression:"treeLoading"},{name:"show",rawName:"v-show",value:!t.showSelectTree,expression:"!showSelectTree"}],ref:"tree",staticClass:"filter-tree",style:t.treeStyleObject,attrs:{"filter-node-method":t.filterNode,props:t.defaultProps,load:t.loadNode,"highlight-current":!0,"expand-on-click-node":!1,lazy:""},on:{"node-click":t.nodeClick},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.node,i=e.data;return n("span",{staticClass:"custom-tree-node"},[n("span",["tagobj"===i.type?n("i",{staticClass:"el-icon-office-building"}):"index"===i.type?n("i",{staticClass:"el-icon-folder-opened"}):"tag"===i.type?n("i",{staticClass:"el-icon-price-tag"}):t._e(),t._v("\n                "+t._s(a.label)+"\n              ")])])}}],null,!1,3633633910)}),n("el-tree",{directives:[{name:"loading",rawName:"v-loading",value:t.treeLoading,expression:"treeLoading"},{name:"show",rawName:"v-show",value:t.showSelectTree,expression:"showSelectTree"}],style:{treeStyleObject:t.treeStyleObject},attrs:{data:t.dataTree,"default-expand-all":"",props:t.defaultProps2,"expand-on-click-node":!1,"highlight-current":!0},on:{"node-click":t.nodeClick},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.node,i=e.data;return n("span",{staticClass:"custom-tree-node"},[n("span",["tagobj"===i.type?n("i",{staticClass:"el-icon-office-building"}):"index"===i.type?n("i",{staticClass:"el-icon-folder-opened"}):"tag"===i.type?n("i",{staticClass:"el-icon-price-tag"}):t._e(),t._v("\n                "+t._s(a.label)+"\n              ")])])}}],null,!1,3633633910)})],1),n("div",{staticClass:"addRight"},["wgh"===t.$route.query.mark?n("div",{staticClass:"query"},[n("span",{staticClass:"text"},[t._v("地市局：")]),n("el-select",{staticClass:"input",attrs:{size:"mini",clearable:"",placeholder:"请选择"},on:{change:t.dsjChange},model:{value:t.municipalBureau,callback:function(e){t.municipalBureau=e},expression:"municipalBureau"}},t._l(t.municipalBureauList,(function(t){return n("el-option",{key:t.ORG_CODE,attrs:{label:t.ORG_NAME,value:t.ORG_CODE}})})),1),n("span",{staticClass:"text"},[t._v("县区局：")]),n("el-select",{staticClass:"input",attrs:{size:"mini",clearable:"",placeholder:"请选择"},on:{change:t.qxjChange},model:{value:t.districtBureau,callback:function(e){t.districtBureau=e},expression:"districtBureau"}},t._l(t.districtBureauList,(function(t){return n("el-option",{key:t.ORG_CODE,attrs:{label:t.ORG_NAME,value:t.ORG_CODE}})})),1),n("span",{staticClass:"text"},[t._v("供电所：")]),n("el-select",{staticClass:"input",attrs:{size:"mini",clearable:"",placeholder:"请选择"},model:{value:t.powerSubstation,callback:function(e){t.powerSubstation=e},expression:"powerSubstation"}},t._l(t.powerSubstationList,(function(t){return n("el-option",{key:t.ORG_CODE,attrs:{label:t.ORG_NAME,value:t.ORG_CODE}})})),1),n("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-search"},on:{click:t.getTagByCustomers}},[t._v("查询")]),n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.changeSelect}},[t._v(t._s(t.allSelect?"取消全选":"全选"))])],1):t._e(),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingAddTable,expression:"loadingAddTable"}],staticStyle:{width:"100%"},attrs:{data:t.tableData2,border:""}},[n("el-table-column",{attrs:{type:"index",label:"序号",width:"70"}}),n("el-table-column",{attrs:{prop:"yhbh",label:"客户编号"}}),n("el-table-column",{attrs:{prop:"yhmc",label:"客户名称"}}),n("el-table-column",{attrs:{prop:"yhlb",label:"用户类型",width:"240"}}),n("el-table-column",{attrs:{prop:"ydlx",label:"用电类别"}}),n("el-table-column",{attrs:{prop:"dq",label:"地区"}}),n("el-table-column",{attrs:{prop:"gddw",label:"供电所"}}),n("el-table-column",{attrs:{label:"手工标记",width:"140"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-checkbox",{on:{change:function(n){return t.handleCheckbox(e.row)}},model:{value:e.row.issign,callback:function(n){t.$set(e.row,"issign",n)},expression:"scope.row.issign"}})]}}],null,!1,4163091577)})],1),n("div",{staticClass:"block"},[n("el-pagination",{attrs:{"current-page":t.pagesAdd.pageNo,"page-sizes":[8,10,20,50],"page-size":t.pagesAdd.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.pagesAdd.total},on:{"size-change":t.handleAddSizeChange,"current-change":t.handleAddCurrentChange}})],1)],1)])])],1):t._e(),n("el-dialog",{staticClass:"successList-dialog",attrs:{visible:t.khNoShow,width:"90%",top:"5vh","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(e){t.khNoShow=e}}},[n("span",{staticClass:"dialog-header",attrs:{slot:"title"},slot:"title"},[n("span",{staticClass:"header-text"},[t._v(t._s("客户详情"))])]),n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingDetails,expression:"loadingDetails"}],staticClass:"dialog-content"},[n("div",{staticClass:"selectNav"},[n("el-input",{staticClass:"input_300",attrs:{placeholder:"客户名称",size:"small",clearable:""},model:{value:t.yhmcDet,callback:function(e){t.yhmcDet=e},expression:"yhmcDet"}}),n("el-input",{staticClass:"input_300",attrs:{placeholder:"客户编号",size:"small",clearable:""},model:{value:t.yhbhDet,callback:function(e){t.yhbhDet=e},expression:"yhbhDet"}}),n("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-search"},on:{click:function(e){return t.handleDetails(t.detRow,2)}}},[t._v("查询")]),n("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-search",loading:t.excelLoading},on:{click:t.exportExc}},[t._v("导出excel")])],1),n("div",{staticStyle:{height:"500px"}},[n("bdaTable",{attrs:{tableData:t.successListData,isPage:!0,height:500,pageConfig:t.successListPageConfig},on:{changePage:t.changePage}})],1)])])],1)},i=[],r=(n("ac6a"),n("28a5"),n("2909")),o=(n("7f7f"),n("bb51")),s=n("80f2"),l=n("f9fe"),c=n("db49"),u=n("bc3a"),d=n.n(u),h={name:"matching",mixins:[o["a"],s["a"]],components:{bdaTable:l["a"]},props:{},data:function(){return{orgLev:"",municipalBureau:"",municipalBureauList:[],districtBureau:"",districtBureauList:[],powerSubstation:"",powerSubstationList:[],powerSupplyCode:"",allSelect:!0,tagName:"",pages:{pageNo:1,pageSize:10,total:0},tableData:[],loading:!1,homeTableId:"",successListVisible:!1,successListData:{},successListQueryForm:{current:1,size:10},successListPageConfig:{name:"successList",current:1,size:10,pageSizes:[10,20,30,40,50],layout:"prev, pager, next, sizes,jumper,total",total:0},khNoShow:!1,loadingDetails:!1,yhbhDet:"",yhmcDet:"",detRow:{},defaultProps:{children:"children",label:"text",isLeaf:"leaf"},defaultProps2:{children:"children",label:"text"},filterText2:"",treeLoading:!1,showSelectTree:!1,dataTree:[],node:[],resolve:[],numb:1,treeStyleObject:{maxHeight:"560px",minHeight:"300px",overflow:"scroll"},tagId:"",tagNameSelect:"",loadingAddTable:!1,pagesAdd:{pageNo:1,pageSize:10,total:0},tableData2:[],coderList:[],titleDw:"新增",excelLoading:!1,markData:null}},watch:{tagId:function(t,e){console.log("a: "+t,e),this.coderList=[]}},mounted:function(){this.GetPowerAreaCode(),window.console.log(c["g"]),this.GetQdRcList()},methods:{handleSizeChange:function(t){this.pages.pageSize=t,this.GetQdRcList(),window.console.log("每页 ".concat(t," 条"))},handleCurrentChange:function(t){this.pages.pageNo=t,this.GetQdRcList(),window.console.log("当前页: ".concat(t))},tableRowClassName:function(t){t.row;var e=t.rowIndex;return e%2===0?"success-row":""},GetQdRcList:function(){var t=this;this.loading=!0,this.getQdRcList({tagName:this.tagName,size:this.pages.pageSize,current:this.pages.pageNo}).then((function(e){t.loading=!1,t.pages.total=e.total,t.tableData=e.records}))},changePage:function(t){"successList"===t.name&&(this.successListQueryForm.size=t.size,this.successListQueryForm.current=t.current,this.handleDetails(this.detRow,3))},exportExc2:function(){try{window.location.href=c["c"]+"/qdtj/downLoad?id="+this.detRow.id+"&tagId="+this.detRow.tagId+"&yhmc="+this.yhmcDet+"&yhbh="+this.yhbhDet}finally{this.excelLoading=!1}},exportExc:function(){var t=this;this.excelLoading=!0;var e="/qdtj/downLoad",n={id:this.detRow.id,tagId:this.detRow.tagId,yhmc:this.yhmcDet,yhbh:this.yhbhDet,mark:this.markData};d()({method:"get",url:c["c"]+e,params:n,headers:{"Content-Type":"application/json;charset=UTF-8"},responseType:"blob"}).then((function(t){console.log(t,"res");var e=t.data,n=new Blob([e]),a="导出信息.xls";if("download"in document.createElement("a")){var i=document.createElement("a");i.download=a,i.style.display="none",i.href=URL.createObjectURL(n),document.body.appendChild(i),i.click(),URL.revokeObjectURL(i.href),document.body.removeChild(i)}else navigator.msSaveBlob(n,a)})).finally((function(){t.excelLoading=!1})).catch((function(){t.excelLoading=!1}))},handleDetails:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;0===n||1===n?(this.yhmcDet="",this.yhbhDet="",this.successListQueryForm.current=1,this.markData=n):2===n&&(this.successListQueryForm.current=1),this.detRow=t,this.khNoShow=!0,this.loadingDetails=!0;var a=[{prop:"yhbh",label:"客户编号"},{prop:"yhmc",label:"客户名称"},{prop:"yddz",label:"用电地址"},{prop:"yhlb",label:"用户类型"},{prop:"ydlx",label:"用电类别"},{prop:"lxr",label:"联系人"},{prop:"lxdh",label:"联系电话",width:120},{prop:"dq",label:"地区"},{prop:"gddw",label:"供电所"},{prop:"sign",label:"是否手工标记"}];this.getQdRcDeail({id:this.detRow.id,tagId:this.detRow.tagId,yhmc:this.yhmcDet,yhbh:this.yhbhDet,mark:this.markData,current:this.successListQueryForm.current,size:this.successListQueryForm.size}).then((function(t){e.loadingDetails=!1,e.successListPageConfig.total=t.total,e.successListPageConfig.size=e.successListQueryForm.size,e.successListPageConfig.current=e.successListQueryForm.current,e.successListData={tableData:Object(r["a"])(t.records),headerColor:"#1899fa",title:"详情",name:"successList",size:e.successListPageConfig.size,current:e.successListPageConfig.current,total:t.total,columnNameData:a}}))},DeleteMessageSendTask:function(t){var e=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.deleteQdRcList({id:t.id}).then((function(){e.GetQdRcList()}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},successListHandleClose:function(){this.successListVisible=!1},handleAdd:function(){this.titleDw="新增",this.successListVisible=!0,this.filterText2="",this.tableData2=[],this.coderList=[]},handleEdit:function(t){var e=this;this.filterText2="",this.tableData2=[],this.coderList=[],this.$nextTick((function(){e.titleDw="修改",e.homeTableId=t.id,e.successListVisible=!0,e.filterText2=t.tagName,e.tagNameSelect=t.tagName,e.tagId=t.tagId,e.coderList=t.yhbh.split(","),e.tagId=t.tagId,e.getTagByCustomers()}))},selectTree:function(t){var e=this;this.treeLoading=!0;var n="";""!=t&&null!=t?(n=t,this.showSelectTree=!0,this.value=""):(this.showSelectTree=!1,n=this.value,this.filterText2=""),this.node.childNodes=[],this.getBdaTagList({keyword:n,id:0}).then((function(t){e.dataTree=t,e.treeLoading=!1,e.resolve(e.dataTree)})).catch((function(){}))},filterNode:function(t,e){return!t||-1!==e.text.indexOf(t)},loadNode:function(t,e){var n=this;1===this.numb&&(this.node=t,this.resolve=e,this.node.childNodes=[],this.numb++),this.dataTree=[];var a=this;if(t.data)t.data.type?this.getBdaTagList({id:t.data.entryId,type:t.data.type}).then((function(t){a.dataTree=t,a.dataTree.forEach((function(t){"tag"==t.type&&(t.leaf=!0)})),n.treeLoading=!1,e(a.dataTree)})).catch((function(){})):e([]);else{var i={};this.treeLoading=!0,this.getBdaTagList(i).then((function(t){a.options=t;for(var i=0;i<t.length;i++)t[i].disabled=!0;n.dataTree=t,n.treeLoading=!1,e(n.dataTree)})).catch((function(){}))}},nodeClick:function(t){"tag"===t.type&&(window.console.log(t),this.tagId=t.entryId,this.tagNameSelect=t.name,this.getTagByCustomers())},getTagByCustomers:function(){var t=this;this.loadingAddTable=!0,this.tagByCustomers({tagId:this.tagId,size:this.pagesAdd.pageSize,current:this.pagesAdd.pageNo,powerSupplyCode:this.powerSubstation?this.powerSubstation:this.districtBureau?this.districtBureau:this.municipalBureau}).then((function(e){t.tableData2=e.records.filter((function(t){return t.issign="1"==t.issign})),window.console.log(t.coderList,"pppp"),t.coderList.length>0&&t.coderList.forEach((function(e){t.tableData2.forEach((function(t){t.yhbh==e&&(t.issign=!1)}))})),window.console.log(t.tableData2,"tableData2"),t.pagesAdd.total=e.total,t.loadingAddTable=!1}))},handleAddSizeChange:function(t){this.pagesAdd.pageSize=t,this.getTagByCustomers(),window.console.log("每页 ".concat(t," 条"))},handleAddCurrentChange:function(t){this.pagesAdd.pageNo=t,this.getTagByCustomers(),window.console.log("当前页: ".concat(t))},handleCheckbox:function(t){t.issign?this.coderList.length>0&&(this.coderList=this.coderList.filter((function(e){return e!=t.yhbh}))):-1==this.coderList.indexOf(t.yhbh)&&this.coderList.push(t.yhbh)},changeSelect:function(){var t=this;this.allSelect=!this.allSelect,this.tableData2.forEach((function(e){t.allSelect?e.issign=!0:e.issign=!1,e.issign?t.coderList.length>0&&(t.coderList=t.coderList.filter((function(t){return t!=e.yhbh}))):-1==t.coderList.indexOf(e.yhbh)&&t.coderList.push(e.yhbh)}))},saveDate:function(){var t=this,e={tagId:this.tagId,tagName:this.tagNameSelect,yhbhs:this.coderList};"修改"===this.titleDw&&(e.id=this.homeTableId),this.saveQdtj(e).then((function(){})).finally((function(){t.successListVisible=!1,t.GetQdRcList()}))},GetPowerAreaCode:function(){var t=this;this.getPowerAreaCode({orgLev:"2"}).then((function(e){t.municipalBureauList=e}))},GetQxjPowerAreaCode:function(){var t=this;this.getPowerAreaCode({orgLev:"3",orgCode:this.municipalBureau}).then((function(e){t.districtBureauList=e}))},GetGdsPowerAreaCode:function(){var t=this;this.getPowerAreaCode({orgLev:"4",orgCode:this.districtBureau}).then((function(e){t.powerSubstationList=e}))},dsjChange:function(){this.districtBureau="",this.districtBureauList=[],this.powerSubstation="",this.powerSubstationList=[],this.GetQxjPowerAreaCode()},qxjChange:function(){this.powerSubstation="",this.powerSubstationList=[],this.GetGdsPowerAreaCode()},setQzghData:function(){var t=this;"qzgh"===this.$route.query.mark?this.executeTask({}).then((function(){t.GetQdRcList()})):this.updateCustomersTotal({}).then((function(){t.GetQdRcList()}))}}},p=h,f=(n("a950"),n("2877")),g=Object(f["a"])(p,a,i,!1,null,"78c99c92",null);e["default"]=g.exports},a950:function(t,e,n){"use strict";var a=n("0011"),i=n.n(a);i.a},aa77:function(t,e,n){var a=n("5ca1"),i=n("be13"),r=n("79e5"),o=n("fdef"),s="["+o+"]",l="​",c=RegExp("^"+s+s+"*"),u=RegExp(s+s+"*$"),d=function(t,e,n){var i={},s=r((function(){return!!o[t]()||l[t]()!=l})),c=i[t]=s?e(h):o[t];n&&(i[n]=c),a(a.P+a.F*s,"String",i)},h=d.trim=function(t,e){return t=String(i(t)),1&e&&(t=t.replace(c,"")),2&e&&(t=t.replace(u,"")),t};t.exports=d},bb51:function(t,e,n){"use strict";var a=n("db49"),i=n("ab3e"),r=a["c"]+"/internetChannelController/getFunctionChannel";function o(t){return Object(i["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:r})}var s=a["c"]+"/internetChannelController/functionDistribution";function l(t){return Object(i["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:s})}var c=a["c"]+"/internetChannelController/getBusinessType";function u(t){return Object(i["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:c})}var d=a["c"]+"/internetChannelController/businessSituation";function h(t){return Object(i["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:d})}var p=a["c"]+"/internetChannelController/getBusinessChannel";function f(t){return Object(i["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:p})}var g=a["c"]+"/internetChannelController/businessSituationDetail";function b(t){return Object(i["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:g})}var m=a["c"]+"/internetChannelController/getRegisterChannel";function y(t){return Object(i["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:m})}var C=a["c"]+"/internetChannelController/getDetail";function v(t){return Object(i["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:C})}var w=a["c"]+"/internetChannelController/getNumber";function T(t){return Object(i["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:w})}var L=a["c"]+"/internetChannelController/getTotalNumber";function D(t){return Object(i["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:L})}var j=a["c"]+"/internetChannelController/functionalActiveDistribution";function x(t){return Object(i["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:j})}var S=a["c"]+"/internetChannelController/getFunctionDistribution";function k(t){return Object(i["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:S})}var _=a["c"]+"/internetChannelController/getFeature";function N(t){return Object(i["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:_})}var z=a["c"]+"/internetChannelController/functionalActiveDistributionDetail";function O(t){return Object(i["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:z})}var A=a["c"]+"/internetChannelController/getUnit";function R(t){return Object(i["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:A})}var I=a["c"]+"/internetChannelController/getTopTen";function B(t){return Object(i["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:I})}var E=a["c"]+"/internetChannelController/getBusinessSubclass";function P(t){return Object(i["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:E})}var Q=a["c"]+"/internetChannelController/getTopTenDetail";function F(t){return Object(i["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:Q})}var G=a["c"]+"/qdtj/saveQdtj";function q(t){return Object(i["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:G})}var $=a["c"]+"/qdtj/list";function V(t){return Object(i["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:$})}var H=a["c"]+"/qdtj/delete";function M(t){return Object(i["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:H})}var U=a["c"]+"/qdtj/getDeail";function W(t){return Object(i["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:U})}var X=a["c"]+"/customerConfig/tagByCustomers";function Y(t){return Object(i["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:X})}var J=a["c"]+"/qdtj/downLoad";function K(t){return Object(i["a"])({method:"get",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:J})}var Z=a["c"]+"/internetChannelController/getQDVisit";function tt(t){return Object(i["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:Z})}var et=a["c"]+"/internetChannelController/getQDAnalysis";function nt(t){return Object(i["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:et})}var at=a["c"]+"/qdtj/executeTask";function it(t){return Object(i["a"])({method:"GET",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:at})}var rt=a["c"]+"/customerConfig/updateCustomersTotal";function ot(t){return Object(i["a"])({method:"POST",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:rt})}e["a"]={data:function(){return{channelPreference:{list:[],page:null,limit:null,total:0,model:null}}},methods:{getFunctionChannel:function(t){return o(t).then((function(t){return t}))},functionDistribution:function(t){return l(t).then((function(t){return t}))},getBusinessType:function(t){return u(t).then((function(t){return t}))},businessSituation:function(t){return h(t).then((function(t){return t}))},getBusinessChannel:function(t){return f(t).then((function(t){return t}))},businessSituationDetail:function(t){return b(t).then((function(t){return t}))},getRegisterChannel:function(t){return y(t).then((function(t){return t}))},getDetail:function(t){return v(t).then((function(t){return t}))},getNumber:function(t){return T(t).then((function(t){return t}))},getTotalNumber:function(t){return D(t).then((function(t){return t}))},functionalActiveDistribution:function(t){return x(t).then((function(t){return t}))},getFunctionDistribution:function(t){return k(t).then((function(t){return t}))},getFeature:function(t){return N(t).then((function(t){return t}))},functionalActiveDistributionDetail:function(t){return O(t).then((function(t){return t}))},getUnit:function(t){return R(t).then((function(t){return t}))},getTopTen:function(t){return B(t).then((function(t){return t}))},getBusinessSubclass:function(t){return P(t).then((function(t){return t}))},getTopTenDetail:function(t){return F(t).then((function(t){return t}))},saveQdtj:function(t){return q(t).then((function(t){return t}))},getQdRcList:function(t){return V(t).then((function(t){return t}))},deleteQdRcList:function(t){return M(t).then((function(t){return t}))},getQdRcDeail:function(t){return W(t).then((function(t){return t}))},tagByCustomers:function(t){return Y(t).then((function(t){return t}))},downLoad:function(t){return K(t).then((function(t){return t}))},getQdVisit:function(t){return tt(t).then((function(t){return t}))},getQdAnalysis:function(t){return nt(t).then((function(t){return t}))},executeTask:function(t){return it(t).then((function(t){return t}))},updateCustomersTotal:function(t){return ot(t).then((function(t){return t}))}}}},c5f6:function(t,e,n){"use strict";var a=n("7726"),i=n("69a8"),r=n("2d95"),o=n("5dbc"),s=n("6a99"),l=n("79e5"),c=n("9093").f,u=n("11e9").f,d=n("86cc").f,h=n("aa77").trim,p="Number",f=a[p],g=f,b=f.prototype,m=r(n("2aeb")(b))==p,y="trim"in String.prototype,C=function(t){var e=s(t,!1);if("string"==typeof e&&e.length>2){e=y?e.trim():h(e,3);var n,a,i,r=e.charCodeAt(0);if(43===r||45===r){if(n=e.charCodeAt(2),88===n||120===n)return NaN}else if(48===r){switch(e.charCodeAt(1)){case 66:case 98:a=2,i=49;break;case 79:case 111:a=8,i=55;break;default:return+e}for(var o,l=e.slice(2),c=0,u=l.length;c<u;c++)if(o=l.charCodeAt(c),o<48||o>i)return NaN;return parseInt(l,a)}}return+e};if(!f(" 0o1")||!f("0b1")||f("+0x1")){f=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof f&&(m?l((function(){b.valueOf.call(n)})):r(n)!=p)?o(new g(C(e)),n,f):C(e)};for(var v,w=n("9e1e")?c(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),T=0;w.length>T;T++)i(g,v=w[T])&&!i(f,v)&&d(f,v,u(g,v));f.prototype=b,b.constructor=f,n("2aba")(a,p,f)}},f9fe:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"bdaTable",staticClass:"bda-table",attrs:{id:t.id}},[n("div",{staticClass:"content-table"},[t.loading?n("el-table",{staticClass:"table",staticStyle:{width:"100%",height:"100%"},attrs:{data:t.tableDealData,height:t.tableHeight,"row-class-name":t.tabRowClassName,border:"",align:"center","header-cell-style":t.headStyle},on:{"selection-change":t.handleSelectionChange}},[0!==t.selectWidth&&0!==t.columnData.length?n("el-table-column",{attrs:{type:"selection",width:t.selectWidth}}):t._e(),0!==t.indexWidth&&0!==t.columnData.length?n("el-table-column",{attrs:{type:"index",label:"序号",width:t.indexWidth}}):t._e(),t._l(t.columnData,(function(e,a){return n("el-table-column",{key:a,attrs:{prop:e.prop,label:e.label,width:e.width,align:e.align?e.align:"left"},scopedSlots:t._u([{key:"default",fn:function(a){return["Operate"===e.prop?n("div",{staticClass:"operate"},t._l(e.type.filter((function(t){return!t.disabledValue||-1===t.disabledValue.indexOf(a.row[t.disabledField])})),(function(e,i){return n("el-button",{key:i,attrs:{type:"text"},on:{click:function(n){return t.operate(e.action,a.row)}}},[n("span",[t._v(t._s(e.name))])])})),1):t._e(),"Select"===e.prop?n("div",{staticClass:"select"},[n("el-select",{attrs:{size:"mini",placeholder:"请选择"},model:{value:a.row[e.model],callback:function(n){t.$set(a.row,e.model,n)},expression:"scope.row[item.model]"}},t._l(t.options,(function(t){return n("el-option",{key:t.value,attrs:{label:t.name,value:t.value}})})),1)],1):t._e(),"CilckRow"===e.type?n("div",{staticClass:"cilck-row"},[n("div",{staticClass:"click-text",on:{click:function(n){return t.clickRow(e.prop,a.row)}}},[n("span",[t._v(t._s(a.row[e.prop]))])])]):t._e(),e.formatter?n("div",[n("span",[t._v(t._s(e.formatter[a.row[e.prop]]))])]):t._e(),"CilckRow"!==e.type&&"Operate"!==e.prop&&"Select"!==e.prop?n("div",{staticClass:"text"},[n("span",[t._v(t._s(a.row[e.prop]))])]):t._e()]}}],null,!0)})}))],2):t._e()],1),t.isPage?n("el-pagination",{staticClass:"content-pagination",attrs:{"current-page":t.queryForm.current,"page-sizes":t.pageConfig.pageSizes,"page-size":t.queryForm.size,layout:t.pageConfig.layout,total:t.pageConfig.total},on:{"size-change":t.sizeChange,"current-change":t.currentChange}}):t._e()],1)},i=[],r=(n("ac6a"),n("456d"),n("7f7f"),n("c5f6"),{components:{},props:{tableData:{type:Object,default:function(){return{}}},headerColor:{type:String,default:function(){return""}},indexWidth:{type:Number,default:function(){return 70}},selectWidth:{type:Number,default:function(){return 0}},isPage:{type:Boolean,default:function(){return!1}},pageConfig:{type:Object,default:function(){return{name:"",current:1,size:10,pageSizes:[10,20,30,40],layout:"prev, pager, next, sizes,jumper,total",total:0}}}},name:"bda-table",data:function(){return{id:"bda-table"+Math.random(),loading:!1,tableDealData:[],columnData:[],tableHeight:0,headStyle:{background:"#1899fa"},queryForm:{name:"",current:1,size:10},options:[{name:"是",value:"1"},{name:"否",value:"0"}]}},mounted:function(){this.init(),window.addEventListener("resize",this.calculateHeight)},beforeDestroy:function(){window.removeEventListener("resize",this.calculateHeight)},watch:{tableData:function(){this.init()},headerColor:function(){this.headStyle.background=this.headerColor},pageConfig:function(){}},methods:{calculateHeight:function(){this.tableHeight=document.getElementById(this.id).clientHeight-(this.isPage?52:0)},init:function(){this.queryForm.name=this.pageConfig.name,this.queryForm.size=this.pageConfig.size,this.queryForm.current=this.pageConfig.current,this.headStyle.background=this.headerColor,this.calculateHeight(),this.dataDeal(this.tableData)},sizeChange:function(t){this.queryForm.size=t,this.$emit("changePage",this.queryForm)},currentChange:function(t){this.queryForm.current=t,this.$emit("changePage",this.queryForm)},tabRowClassName:function(t){t.row;var e=t.rowIndex,n=e+1;if(n%2==0)return"warning-row"},dataDeal:function(t){var e=this;0!==Object.keys(t).length?(this.tableDealData=[],this.loading=!1,this.$nextTick((function(){e.tableDealData=t.tableData,e.columnData=t.columnNameData,e.loading=!0}))):this.loading=!0},operate:function(t,e){this.$emit("operate",t,e)},clickRow:function(t,e){this.$emit("clickRow",t,e)},handleSelectionChange:function(t){this.$emit("select",t)}}}),o=r,s=(n("41de"),n("2877")),l=Object(s["a"])(o,a,i,!1,null,"288d3c6c",null);e["a"]=l.exports},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=chunk-736445cb.a0bdb67f.js.map