(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4eae1628"],{"13fb":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"outPowerNotification"},[a("div",{staticClass:"content content-border"},[a("div",{staticClass:"header"},[a("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"change-type"},[a("span",{staticClass:"change-button",class:"1"===e.changeTypeActive?"active":"",on:{click:function(t){return e.changeType("1")}}},[e._v("通知内容配置")]),a("span",{staticClass:"change-button",class:"2"===e.changeTypeActive?"active":"",on:{click:function(t){return e.changeType("2")}}},[e._v("停电通知差异化策略库")]),a("span",{staticClass:"change-button",class:"3"===e.changeTypeActive?"active":"",on:{click:function(t){return e.changeType("3")}}},[e._v("计划停电安排优化建议")])]),"1"===e.changeTypeActive?a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.addConfigurationData}},[e._v("新增")]):e._e()],1),a("div",{staticClass:"main"},["1"===e.changeTypeActive?[a("bdaTable",{attrs:{tableData:e.configurationData,headerColor:"#1899fa",isPage:!0,pageConfig:e.configurationPageConfig},on:{operate:e.tableOperate,changePage:e.changePage}})]:e._e(),"2"===e.changeTypeActive?[a("bdaTable",{attrs:{tableData:e.strategyData,headerColor:"#1899fa",isPage:!0,pageConfig:e.strategyPageConfig},on:{operate:e.tableOperate,changePage:e.changePage}})]:e._e(),"3"===e.changeTypeActive?[a("bdaTable",{attrs:{tableData:e.adviceData,headerColor:"#1899fa",isPage:!0,pageConfig:e.advicePageConfig},on:{operate:e.tableOperate,changePage:e.changePage}})]:e._e()],2)]),a("el-dialog",{staticClass:"add-dialog",attrs:{visible:e.addDialogVisible,width:"80%","before-close":e.handleClose,"close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.addDialogVisible=t}}},[a("span",{staticClass:"dialog-header",attrs:{slot:"title"},slot:"title"},[a("span",{staticClass:"header-text"},[e._v(e._s("新增通知内容"))])]),a("div",{staticClass:"dialog-content"},[a("el-form",{attrs:{model:e.addDialogForm,"label-width":"120px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"通知模板名称：",prop:"modelName"}},[a("el-input",{staticClass:"input",attrs:{placeholder:"请输入通知模板名称",size:"mini",clearable:""},model:{value:e.addDialogForm.modelName,callback:function(t){e.$set(e.addDialogForm,"modelName",t)},expression:"addDialogForm.modelName"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"活动内容：",prop:"descibe"}},[a("el-input",{staticClass:"input-row",attrs:{type:"textarea",rows:5,resize:"none",placeholder:"请输入内容"},model:{value:e.addDialogForm.descibe,callback:function(t){e.$set(e.addDialogForm,"descibe",t)},expression:"addDialogForm.descibe"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"分类标签：",prop:"classTag"}},[a("el-input",{staticClass:"input",attrs:{placeholder:"请输入通知模板名称",size:"mini",clearable:""},model:{value:e.addDialogForm.classTag,callback:function(t){e.$set(e.addDialogForm,"classTag",t)},expression:"addDialogForm.classTag"}})],1)],1)],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.saveAddDialog}},[e._v("保存")]),a("el-button",{on:{click:e.handleClose}},[e._v("关闭")])],1)])],1)},n=[],r=a("2909"),o=(a("7f7f"),a("f9fe")),s=a("8d05"),c={name:"outPowerNotification",components:{bdaTable:o["a"]},mixins:[s["a"]],props:{},data:function(){return{changeTypeActive:"1",configurationData:{},configurationQueryForm:{modelId:"",current:1,size:10},configurationPageConfig:{name:"configuration",current:1,size:10,pageSizes:[10,20,30,40],layout:"prev, pager, next, sizes,jumper,total",total:0},strategyData:{},strategyQueryForm:{current:1,size:10},strategyPageConfig:{name:"strategy",current:1,size:10,pageSizes:[10,20,30,40],layout:"prev, pager, next, sizes,jumper,total",total:0},adviceData:{},adviceQueryForm:{current:1,size:10},advicePageConfig:{name:"advice",current:1,size:10,pageSizes:[10,20,30,40],layout:"prev, pager, next, sizes,jumper,total",total:0},addDialogVisible:!1,addDialogForm:{modelName:"",descibe:"",classTag:""}}},mounted:function(){this.changeType("3"),this.getConfigurationData()},methods:{changeType:function(e){this.changeTypeActive=e,this.configurationQueryForm.current=1,this.configurationQueryForm.size=10,this.strategyQueryForm.current=1,this.strategyQueryForm.size=10,this.adviceQueryForm.current=1,this.adviceQueryForm.size=10,"1"===this.changeTypeActive&&this.getConfigurationData(),"2"===this.changeTypeActive&&this.getStrategyData(),"3"===this.changeTypeActive&&this.getAdviceData()},addConfigurationData:function(){this.addDialogVisible=!0},saveAddDialog:function(){var e=this;this.insertNoticeContent(this.addDialogForm).then((function(t){e.$message.success(t),e.addDialogVisible=!1,e.configurationQueryForm.current=1,e.configurationQueryForm.size=10,e.getConfigurationData()}))},handleClose:function(){this.addDialogVisible=!1},delConfigurationData:function(){var e=this;this.deleteNoticeContent({modelId:this.configurationQueryForm.modelId}).then((function(t){e.$message.success(t),e.configurationQueryForm.current=1,e.configurationQueryForm.size=10,e.getConfigurationData()}))},tableOperate:function(e,t){console.log(e,t),"delete"===e&&(this.configurationQueryForm.modelId=t.modelId,this.delConfigurationData())},changePage:function(e){console.log(e,"data"),"configuration"===e.name&&(this.configurationQueryForm.size=e.size,this.configurationQueryForm.current=e.current,this.getConfigurationData()),"strategy"===e.name&&(this.strategyQueryForm.size=e.size,this.strategyQueryForm.current=e.current,this.getStrategyData()),"advice"===e.name&&(this.adviceQueryForm.size=e.size,this.adviceQueryForm.current=e.current,this.getAdviceData())},getConfigurationData:function(){var e=this;this.configurationData={},this.getNoticeContent({size:this.configurationQueryForm.size,current:this.configurationQueryForm.current}).then((function(t){e.configurationPageConfig.total=t.total,e.configurationPageConfig.size=e.configurationQueryForm.size,e.configurationPageConfig.current=e.configurationQueryForm.current,e.configurationData={tableData:Object(r["a"])(t.list),columnNameData:[{prop:"modelName",label:"通知模板名称"},{prop:"descibe",label:"通知内容详细"},{prop:"classTag",label:"通知内容分类标签"},{prop:"createName",label:"创建人"},{prop:"createTime",label:"创建时间"},{prop:"Operate",label:"操作",align:"center",width:"120px",type:[{name:"删除",action:"delete"}]}]}}))},getStrategyData:function(){var e=this;this.strategyData={},this.getStrategyList({size:this.strategyQueryForm.size,current:this.strategyQueryForm.current}).then((function(t){e.strategyPageConfig.total=t.total,e.strategyPageConfig.size=e.strategyQueryForm.size,e.strategyPageConfig.current=e.strategyQueryForm.current,e.strategyData={tableData:Object(r["a"])(t.list),columnNameData:[{prop:"relationNumber",label:"关联关系编号"},{prop:"relationName",label:"关联关系名称"},{prop:"descibe",label:"关联关系描述"},{prop:"weight",label:"权重"},{prop:"recResultNumber",label:"推荐结果数量"},{prop:"recEmpty",label:"推荐结果为空"},{prop:"updateCycle",label:"更新周期"},{prop:"createTime",label:"创建时间"},{prop:"updateTime",label:"更新时间"}]}}))},getAdviceData:function(){var e=this;this.adviceData={},this.getPlannedBlackoutProposal({size:this.adviceQueryForm.size,current:this.adviceQueryForm.current}).then((function(t){e.advicePageConfig.total=t.total,e.advicePageConfig.size=e.adviceQueryForm.size,e.advicePageConfig.current=e.adviceQueryForm.current,e.adviceData={tableData:Object(r["a"])(t.list),columnNameData:[{prop:"recommendName",label:"建议名称"},{prop:"descibe",label:"建议描述"},{prop:"createName",label:"创建人"},{prop:"createTime",label:"创建时间"}]}}))}}},l=c,u=(a("4ca8"),a("2877")),g=Object(u["a"])(l,i,n,!1,null,"52265c6c",null);t["default"]=g.exports},"17fb":function(e,t,a){},2909:function(e,t,a){"use strict";function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,i=new Array(t);a<t;a++)i[a]=e[a];return i}function n(e){if(Array.isArray(e))return i(e)}function r(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function o(e,t){if(e){if("string"===typeof e)return i(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?i(e,t):void 0}}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e){return n(e)||r(e)||o(e)||s()}a.d(t,"a",(function(){return c}))},"41de":function(e,t,a){"use strict";var i=a("17fb"),n=a.n(i);n.a},"4ca8":function(e,t,a){"use strict";var i=a("b2ac"),n=a.n(i);n.a},aa77:function(e,t,a){var i=a("5ca1"),n=a("be13"),r=a("79e5"),o=a("fdef"),s="["+o+"]",c="​",l=RegExp("^"+s+s+"*"),u=RegExp(s+s+"*$"),g=function(e,t,a){var n={},s=r((function(){return!!o[e]()||c[e]()!=c})),l=n[e]=s?t(d):o[e];a&&(n[a]=l),i(i.P+i.F*s,"String",n)},d=g.trim=function(e,t){return e=String(n(e)),1&t&&(e=e.replace(l,"")),2&t&&(e=e.replace(u,"")),e};e.exports=g},b2ac:function(e,t,a){},c5f6:function(e,t,a){"use strict";var i=a("7726"),n=a("69a8"),r=a("2d95"),o=a("5dbc"),s=a("6a99"),c=a("79e5"),l=a("9093").f,u=a("11e9").f,g=a("86cc").f,d=a("aa77").trim,p="Number",f=i[p],h=f,m=f.prototype,b=r(a("2aeb")(m))==p,y="trim"in String.prototype,v=function(e){var t=s(e,!1);if("string"==typeof t&&t.length>2){t=y?t.trim():d(t,3);var a,i,n,r=t.charCodeAt(0);if(43===r||45===r){if(a=t.charCodeAt(2),88===a||120===a)return NaN}else if(48===r){switch(t.charCodeAt(1)){case 66:case 98:i=2,n=49;break;case 79:case 111:i=8,n=55;break;default:return+t}for(var o,c=t.slice(2),l=0,u=c.length;l<u;l++)if(o=c.charCodeAt(l),o<48||o>n)return NaN;return parseInt(c,i)}}return+t};if(!f(" 0o1")||!f("0b1")||f("+0x1")){f=function(e){var t=arguments.length<1?0:e,a=this;return a instanceof f&&(b?c((function(){m.valueOf.call(a)})):r(a)!=p)?o(new h(v(t)),a,f):v(t)};for(var C,D=a("9e1e")?l(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),F=0;D.length>F;F++)n(h,C=D[F])&&!n(f,C)&&g(f,C,u(h,C));f.prototype=m,m.constructor=f,a("2aba")(i,p,f)}},f9fe:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"bdaTable",staticClass:"bda-table",attrs:{id:e.id}},[a("div",{staticClass:"content-table"},[e.loading?a("el-table",{staticClass:"table",staticStyle:{width:"100%",height:"100%"},attrs:{data:e.tableDealData,height:e.tableHeight,"row-class-name":e.tabRowClassName,border:"",align:"center","header-cell-style":e.headStyle},on:{"selection-change":e.handleSelectionChange}},[0!==e.selectWidth&&0!==e.columnData.length?a("el-table-column",{attrs:{type:"selection",width:e.selectWidth}}):e._e(),0!==e.indexWidth&&0!==e.columnData.length?a("el-table-column",{attrs:{type:"index",label:"序号",width:e.indexWidth}}):e._e(),e._l(e.columnData,(function(t,i){return a("el-table-column",{key:i,attrs:{prop:t.prop,label:t.label,width:t.width,align:t.align?t.align:"left"},scopedSlots:e._u([{key:"default",fn:function(i){return["Operate"===t.prop?a("div",{staticClass:"operate"},e._l(t.type.filter((function(e){return!e.disabledValue||-1===e.disabledValue.indexOf(i.row[e.disabledField])})),(function(t,n){return a("el-button",{key:n,attrs:{type:"text"},on:{click:function(a){return e.operate(t.action,i.row)}}},[a("span",[e._v(e._s(t.name))])])})),1):e._e(),"Select"===t.prop?a("div",{staticClass:"select"},[a("el-select",{attrs:{size:"mini",placeholder:"请选择"},model:{value:i.row[t.model],callback:function(a){e.$set(i.row,t.model,a)},expression:"scope.row[item.model]"}},e._l(e.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1):e._e(),"CilckRow"===t.type?a("div",{staticClass:"cilck-row"},[a("div",{staticClass:"click-text",on:{click:function(a){return e.clickRow(t.prop,i.row)}}},[a("span",[e._v(e._s(i.row[t.prop]))])])]):e._e(),t.formatter?a("div",[a("span",[e._v(e._s(t.formatter[i.row[t.prop]]))])]):e._e(),"CilckRow"!==t.type&&"Operate"!==t.prop&&"Select"!==t.prop?a("div",{staticClass:"text"},[a("span",[e._v(e._s(i.row[t.prop]))])]):e._e()]}}],null,!0)})}))],2):e._e()],1),e.isPage?a("el-pagination",{staticClass:"content-pagination",attrs:{"current-page":e.queryForm.current,"page-sizes":e.pageConfig.pageSizes,"page-size":e.queryForm.size,layout:e.pageConfig.layout,total:e.pageConfig.total},on:{"size-change":e.sizeChange,"current-change":e.currentChange}}):e._e()],1)},n=[],r=(a("ac6a"),a("456d"),a("7f7f"),a("c5f6"),{components:{},props:{tableData:{type:Object,default:function(){return{}}},headerColor:{type:String,default:function(){return""}},indexWidth:{type:Number,default:function(){return 70}},selectWidth:{type:Number,default:function(){return 0}},isPage:{type:Boolean,default:function(){return!1}},pageConfig:{type:Object,default:function(){return{name:"",current:1,size:10,pageSizes:[10,20,30,40],layout:"prev, pager, next, sizes,jumper,total",total:0}}}},name:"bda-table",data:function(){return{id:"bda-table"+Math.random(),loading:!1,tableDealData:[],columnData:[],tableHeight:0,headStyle:{background:"#1899fa"},queryForm:{name:"",current:1,size:10},options:[{name:"是",value:"1"},{name:"否",value:"0"}]}},mounted:function(){this.init(),window.addEventListener("resize",this.calculateHeight)},beforeDestroy:function(){window.removeEventListener("resize",this.calculateHeight)},watch:{tableData:function(){this.init()},headerColor:function(){this.headStyle.background=this.headerColor},pageConfig:function(){}},methods:{calculateHeight:function(){this.tableHeight=document.getElementById(this.id).clientHeight-(this.isPage?52:0)},init:function(){this.queryForm.name=this.pageConfig.name,this.queryForm.size=this.pageConfig.size,this.queryForm.current=this.pageConfig.current,this.headStyle.background=this.headerColor,this.calculateHeight(),this.dataDeal(this.tableData)},sizeChange:function(e){this.queryForm.size=e,this.$emit("changePage",this.queryForm)},currentChange:function(e){this.queryForm.current=e,this.$emit("changePage",this.queryForm)},tabRowClassName:function(e){e.row;var t=e.rowIndex,a=t+1;if(a%2==0)return"warning-row"},dataDeal:function(e){var t=this;0!==Object.keys(e).length?(this.tableDealData=[],this.loading=!1,this.$nextTick((function(){t.tableDealData=e.tableData,t.columnData=e.columnNameData,t.loading=!0}))):this.loading=!0},operate:function(e,t){this.$emit("operate",e,t)},clickRow:function(e,t){this.$emit("clickRow",e,t)},handleSelectionChange:function(e){this.$emit("select",e)}}}),o=r,s=(a("41de"),a("2877")),c=Object(s["a"])(o,i,n,!1,null,"288d3c6c",null);t["a"]=c.exports},fdef:function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=chunk-4eae1628.bba60954.js.map