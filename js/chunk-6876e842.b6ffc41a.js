(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6876e842"],{"141f":function(t,e,a){"use strict";var o=a("b05b"),r=a.n(o);r.a},"2f21":function(t,e,a){"use strict";var o=a("79e5");t.exports=function(t,e){return!!t&&o((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},"55dd":function(t,e,a){"use strict";var o=a("5ca1"),r=a("d8e8"),i=a("4bf8"),n=a("79e5"),s=[].sort,l=[1,2,3];o(o.P+o.F*(n((function(){l.sort(void 0)}))||!n((function(){l.sort(null)}))||!a("2f21")(s)),"Array",{sort:function(t){return void 0===t?s.call(i(this)):s.call(i(this),r(t))}})},"5ab0":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"managerPanoramic"},[a("div",{staticClass:"top"},[a("div",{staticClass:"content"},[a("div",{staticClass:"content-left content-border"},[t._m(0),a("div",{staticClass:"chart-main"},[a("themeLabelList",{attrs:{labelData:t.labelData,pageConfig:t.labelPageConfig,showDetailData:t.labelDetailData},on:{changePage:t.changePage,clickDetail:t.getLabelDetailData,changeDetailPage:t.changePage,exportExcel:t.themeLabelExportExcel}})],1)]),a("div",{staticClass:"content-right content-border"},[t._m(1),a("div",{staticClass:"chart-main"},[a("div",{staticClass:"main-left"},[a("div",{staticClass:"choose-box"},[a("div",{staticClass:"box-title"},[a("div",{staticClass:"text"},[t._v("可选标签列表")]),a("div",{staticClass:"count"},[t._v("已选择"+t._s(t.clientGroupDataChoose.length||0)+"项")])]),a("div",{staticClass:"box-content"},t._l(t.clientGroupData,(function(e,o){return a("div",{key:o,staticClass:"content-item"},[a("el-checkbox",{staticClass:"checkbox",model:{value:e.checked,callback:function(a){t.$set(e,"checked",a)},expression:"item.checked"}}),a("span",{staticClass:"text"},[t._v(t._s(e.showText))]),a("span",{staticClass:"value"},[t._v(t._s("("+e.value+"户)"))])],1)})),0)]),a("div",{staticClass:"choose-condition"},[a("el-select",{staticClass:"input",attrs:{size:"mini",placeholder:""},on:{change:t.getFilterResult},model:{value:t.conditionType,callback:function(e){t.conditionType=e},expression:"conditionType"}},t._l(t.conditionTypeOptions,(function(t){return a("el-option",{key:t.value,attrs:{label:t.name,value:t.value}})})),1)],1)]),a("div",{staticClass:"main-right"},[a("div",{staticClass:"choose-box"},[t._m(2),a("div",{staticClass:"box-content"},t._l(t.clientGroupDataChoose,(function(e,o){return a("div",{key:o,staticClass:"content-item"},[a("span",{staticClass:"text"},[t._v(t._s(e.showText))]),a("span",{staticClass:"value"},[t._v(t._s("("+e.value+"户)"))])])})),0)]),a("div",{staticClass:"choose-result"},[t._m(3),a("div",{staticClass:"box-content"},[t._v(t._s(t.clientGroupResult))])])])])])])]),a("div",{staticClass:"top-bottom"},[a("div",{staticClass:"content content-border"},[a("div",{staticClass:"content-title"},[t._m(4),a("div",{staticClass:"content-title-right"},[a("em",{staticClass:"icon-style iconfont icon-tubiao",class:"1"===t.customerCoverageActive?"active":"",on:{click:function(e){return t.changeChartAndList("customerCoverageActive","1")}}}),a("em",{staticClass:"icon-style iconfont icon-biaoge",class:"2"===t.customerCoverageActive?"active":"",on:{click:function(e){return t.changeChartAndList("customerCoverageActive","2")}}})])]),a("div",{staticClass:"chart-main"},[t.customerCoverageRes&&"1"===t.customerCoverageActive?a("barCharts",{attrs:{barChartsData:t.customerCoverageData,barWidth:40,barType:"bar",isShadow:!0,showDetail:!0,showDetailData:t.customerCoverageBarData,name:"台区覆盖率",maxShowNumber:13},on:{clickBar:t.getCustomerCoverageBarData,changePageData:t.changePage,setOption:t.setOption,exportExcel:t.detailListExportExcel}}):t._e(),"2"===t.customerCoverageActive?a("div",{staticClass:"search"},[a("el-input",{staticStyle:{width:"300px"},attrs:{size:"mini",placeholder:"请输入"},model:{value:t.customerCoverageQueryForm.name,callback:function(e){t.$set(t.customerCoverageQueryForm,"name",e)},expression:"customerCoverageQueryForm.name"}}),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.getCustomerCoverageDetailData}},[t._v("搜索")])],1):t._e(),"2"===t.customerCoverageActive?a("bdaTable",{staticClass:"content-table",attrs:{tableData:t.customerCoverageDetailData,headerColor:t.headerColor,isPage:!0,pageConfig:t.customerCoveragePageConfig},on:{changePage:t.changePage}}):t._e()],1)])]),a("div",{staticClass:"center"},[a("div",{staticClass:"content"},[a("div",{staticClass:"content-left content-border"},[t._m(5),a("div",{staticClass:"chart-main"},[t.clientUsersRes?a("pieCharts",{attrs:{pieChartsData:t.clientUsersData,roseType:!1,radius:["0%","70%"],labelType:"emphasis",legendShow:!0,titleShow:!0,name:"客户数",totalData:t.clientUsersTotlData},on:{setOption:t.setOption}}):t._e()],1)]),a("div",{staticClass:"content-right content-border"},[t._m(6),a("div",{staticClass:"chart-main"},[t.hotWordRes?a("wordCloud",{attrs:{wordCloudData:t.hotWordData,name:"热词分布"},on:{setOption:t.setOption}}):t._e()],1)])])]),a("div",{staticClass:"bottom"},[a("div",{staticClass:"content"},[a("div",{staticClass:"content-left content-border"},[a("div",{staticClass:"content-title"},[a("span",{staticClass:"change-button",class:"counts"===t.dataType?"active":"",on:{click:function(e){return t.changeCourts("counts")}}},[t._v("台区信息")]),a("span",{staticClass:"change-button",class:"line"===t.dataType?"active":"",on:{click:function(e){return t.changeCourts("line")}}},[t._v("线路信息")])]),"counts"===t.dataType?a("div",{staticClass:"chart-main"},[a("bdaTable",{staticClass:"main-table",attrs:{tableData:t.courtsData,headerColor:t.headerColor,isPage:!0,pageConfig:t.courtsPageConfig},on:{changePage:t.changePage}})],1):t._e(),"line"===t.dataType?a("div",{staticClass:"chart-main"},[a("bdaTable",{staticClass:"main-table",attrs:{tableData:t.lineData,headerColor:t.headerColor,isPage:!0,pageConfig:t.linePageConfig},on:{changePage:t.changePage}})],1):t._e()]),a("div",{staticClass:"content-right content-border"},[t._m(7),a("div",{staticClass:"chart-main"},[a("bdaTable",{staticClass:"main-table",attrs:{tableData:t.handlingSituationData,headerColor:t.headerColor,isPage:!0,pageConfig:t.handlingSituationPageConfig},on:{changePage:t.changePage}})],1)])])])])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content-title"},[a("span",{staticClass:"block"}),a("span",[t._v("关注标签")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content-title"},[a("span",{staticClass:"block"}),a("span",[t._v("客户分群")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"box-title"},[a("div",{staticClass:"text"},[t._v("已选标签列表")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"box-title"},[a("div",{staticClass:"text"},[t._v("客户数")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content-title-left"},[a("span",{staticClass:"block"}),a("span",[t._v("台区覆盖率")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content-title"},[a("span",{staticClass:"block"}),a("span",{staticClass:"text"},[t._v("客户数")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content-title"},[a("span",{staticClass:"block"}),a("span",[t._v("网格热点分布")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content-title"},[a("span",{staticClass:"block"}),a("span",[t._v("委派任务办理情况")])])}],i=(a("8e6e"),a("456d"),a("ac6a"),a("2909")),n=a("ade3"),s=(a("7f7f"),a("0c3e")),l=a("f9fe"),c=a("979a"),u=a("1b04"),h=a("694d"),g=a("ac3e"),m=a("03400");function d(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,o)}return a}function p(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?d(Object(a),!0).forEach((function(e){Object(n["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var f={components:{barCharts:u["a"],bdaTable:l["a"],pieCharts:c["a"],wordCloud:h["a"],themeLabelList:g["a"]},name:"managerPanoramic",mixins:[s["a"]],data:function(){return{headerColor:"#1899fa",labelData:[],labelQueryForm:{current:1,size:10},labelPageConfig:{name:"label",current:1,size:10,pageSizes:[10,20,30,40,50],layout:"prev, pager, next, sizes,jumper,total",total:0},labelDetailData:{},labelDetailQueryForm:{dbcolumnAS:"",tagName:"",current:1,size:10},labelDetailPageConfig:{name:"labelDetail",current:1,size:10,pageSizes:[10,20,30,40,50],layout:"prev, pager, next, sizes,jumper,total",total:0},clientUsersRes:[],clientUsersData:{},clientUsersTotlData:0,clientGroupData:[],clientGroupDataChoose:[],conditionType:"",conditionTypeOptions:"",clientGroupResult:0,customerCoverageActive:"1",customerCoverageData:[],customerCoverageRes:!1,customerCoverageQueryForm:{name:"",logic:"",condition:[],current:1,size:10},customerCoveragePageConfig:{name:"customerCoverage",current:1,size:10,pageSizes:[10,20,30,40],layout:"prev, pager, next, sizes,jumper,total",total:0},customerCoverageDetailData:{},customerCoverageBarData:{},customerCoverageBarQueryForm:{customerNumbers:[],courtsNumber:"",current:1,size:10},customerCoverageBarPageConfig:{name:"customerCoverageBar",current:1,size:10,pageSizes:[10,20,30,40],layout:"prev, pager, next, sizes,jumper,total",total:0},hotWordData:{},hotWordRes:!1,courtsData:{},dataType:"counts",courtsQueryForm:{current:1,size:10,total:0},courtsPageConfig:{name:"courts",current:1,size:10,pageSizes:[10,20,30,40],layout:"prev, pager, next, sizes,jumper,total",total:0},lineData:{},lineQueryForm:{current:1,size:10,total:0},linePageConfig:{name:"line",current:1,size:10,pageSizes:[10,20,30,40],layout:"prev, pager, next, sizes,jumper,total",total:0},handlingSituationData:{},handlingSituationQueryForm:{current:1,size:10,total:0},handlingSituationPageConfig:{name:"handlingSituation",current:1,size:10,pageSizes:[10,20,30,40],layout:"prev, pager, next, sizes,jumper,total",total:0},setOptionData:{}}},watch:{clientGroupData:{handler:function(){this.clientGroupDataChoose=this.clientGroupData.filter((function(t){return t.checked}))},deep:!0}},mounted:function(){var t=this;this.getLabelData(),this.getClientGroupData(),this.getHandlingSituationData(),this.getCustomerCoverageData(),this.getConditionTypeOptions(),this.getClientUsersData(),this.getHotWordData(),this.getCourtsData(),window.addEventListener("resize",(function(){t.setOptionData["台区覆盖率"]&&t.setOptionData["台区覆盖率"].resize(),t.setOptionData["客户数"]&&t.setOptionData["客户数"].resize(),t.setOptionData["热词分布"]&&t.setOptionData["热词分布"].resize()}))},methods:{setOption:function(t,e){this.setOptionData[t]=e},changeCourts:function(t){this.dataType=t,"counts"===t&&this.getCourtsData(),"line"===t&&this.getLineData(),console.log(this.dataType,"this.dataType")},changeChartAndList:function(t,e){"customerCoverageActive"===t&&(this.customerCoverageActive=e,"1"===e&&(this.customerCoverageQueryForm.name="",this.customerCoverageQueryForm.current=1,this.customerCoverageQueryForm.size=10,this.getCustomerCoverageData()),"2"===e&&this.getCustomerCoverageDetailData())},changePage:function(t){"label"===t.name&&(this.labelQueryForm.size=t.size,this.labelQueryForm.current=t.current,this.getLabelData()),"labelDetail"===t.name&&(this.labelDetailQueryForm.dbcolumnAS=t.keyValue||"",this.labelDetailQueryForm.size=t.size,this.labelDetailQueryForm.current=t.current,this.getLabelDetailData()),"customerCoverage"===t.name&&(this.customerCoverageQueryForm.size=t.size,this.customerCoverageQueryForm.current=t.current,this.getCustomerCoverageDetailData()),"customerCoverageBar"===t.name&&(this.customerCoverageBarQueryForm.size=t.size,this.customerCoverageBarQueryForm.current=t.current,this.getCustomerCoverageBarData()),"courts"===t.name&&(this.courtsQueryForm.size=t.size,this.courtsQueryForm.current=t.current,this.getCourtsData()),"line"===t.name&&(this.lineQueryForm.size=t.size,this.lineQueryForm.current=t.current,this.getLineData()),"handlingSituation"===t.name&&(this.handlingSituationQueryForm.size=t.size,this.handlingSituationQueryForm.current=t.current,this.getHandlingSituationData())},themeLabelExportExcel:function(t){Object(m["a"])("/gridManagerPanoramaManagerController/exportUserDetailsToTags?tagName="+this.labelDetailQueryForm.tagName)},detailListExportExcel:function(){console.log("111"),Object(m["b"])("/gridManagerPanoramaManagerController/exportCourtsExcel",{courtsNumber:this.customerCoverageBarQueryForm.courtsNumber,customerNumbers:this.customerCoverageBarQueryForm.customerNumbers})},getLabelData:function(){var t=this;this.payAttentionTags(this.labelQueryForm).then((function(e){t.labelPageConfig.total=e.total,t.labelPageConfig.size=t.labelQueryForm.size,t.labelPageConfig.current=t.labelQueryForm.current,t.labelData=e.list.map((function(t){return p(p({},t),{},{name:t.bqmc,text:t.bqsm,value:t.sl||0})})),console.log(t.labelData,"labelData")}))},getLabelDetailData:function(t){var e=this;t&&(this.labelDetailQueryForm.tagName=t.name,this.labelDetailQueryForm.size=10,this.labelDetailQueryForm.current=1);var a=[{prop:"yhbh",label:"用户编号"},{prop:"khbh",label:"客户编号"},{prop:"yhmc",label:"用户名称"},{prop:"yddz",label:"用电地址"},{prop:"yhlb",label:"用户类别"},{prop:"ydlb",label:"用电类别"},{prop:"sfzdgz",label:"是否重点关注客户"},{prop:"sfxh",label:"是否现货客户"},{prop:"dq",label:"地区"},{prop:"qxj",label:"县区局"},{prop:"gddw",label:"供电单位"},{prop:"cjsj",label:"创建时间"},{prop:"gxsj",label:"更新时间"}];this.userDetailsToTags(p({},this.labelDetailQueryForm)).then((function(t){e.labelDetailPageConfig.total=t.total,e.labelDetailPageConfig.size=e.labelDetailQueryForm.size,e.labelDetailPageConfig.current=e.labelDetailQueryForm.current,e.labelDetailData={tableData:Object(i["a"])(t.list),columnNameData:a,name:"labelDetail",headerColor:"#1899fa",title:"客户明细列表",total:e.labelDetailPageConfig.total,current:e.labelDetailQueryForm.current,size:e.labelDetailQueryForm.size},console.log(e.labelDetailData,"labelDetailData")}))},getClientUsersData:function(){var t=this;this.clientUsersRes=!1,this.numberOfCustomer().then((function(e){console.log(e,"res"),0!==e.totalCustomers&&(t.clientUsersData={dataMap:[{name:"重点关注客户数",value:e.focusOnCustomers},{name:"现货客户数",value:e.spotGoodsCustomers}],colorMap:["#E7BB1D","#3B9AFF"]},t.clientUsersTotlData=e.totalCustomers,t.clientUsersRes=!0)}))},getFilterResult:function(){var t=this,e=[];this.clientGroupDataChoose.forEach((function(t){e.push(t.showText)})),this.customerCoverageQueryForm.logic=this.conditionType,this.customerCoverageQueryForm.condition=e,0!==this.customerCoverageQueryForm.condition.length&&this.customerClusteringStatistics({logic:this.customerCoverageQueryForm.logic,condition:this.customerCoverageQueryForm.condition}).then((function(e){t.clientGroupResult=e,t.getCustomerCoverageData()}))},getClientGroupData:function(){var t=this;this.customerSegmentation().then((function(e){console.log(e,"customerSegmentation"),t.clientGroupData=e.map((function(t){return p(p({},t),{},{showText:t.BQMC,value:t.NUM,checked:!1})}))}))},getCustomerCoverageData:function(){var t=this;this.customerCoverageRes=!1,this.courtsCustomerCoveringNumberGraph(this.customerCoverageQueryForm).then((function(e){console.log(e,"courtsCustomerCoveringNumberGraph");var a=[],o=[];e.forEach((function(t){a.push({value:t.khs,name:t.tqmc,number:t.yhbh,id:t.tqbs}),o.push(t.tqmc)})),t.customerCoverageData={dataMap:{"台区客户覆盖户数":a},xNameData:o,colorMap:{"台区客户覆盖户数":[["#2790FF","#55BFFF","#dcf1ff"]]},xyName:{"x轴":{name:"台区",color:"#4D4D4D",diffcolor:!1},"y轴":[{name:"客户数",color:"#808080"}]}},t.customerCoverageRes=!0}))},getCustomerCoverageDetailData:function(){var t=this,e=[{prop:"tqbs",label:"台区标识"},{prop:"tqmc",label:"台区数"},{prop:"khs",label:"客户数"}];this.courtsCustomerCoveringNumberList(p(p({},this.customerCoverageQueryForm),{},{courtsNameOrIdentification:this.customerCoverageQueryForm.name})).then((function(a){t.customerCoveragePageConfig.total=a.total,t.customerCoveragePageConfig.size=t.customerCoverageQueryForm.size,t.customerCoveragePageConfig.current=t.customerCoverageQueryForm.current,t.customerCoverageDetailData={tableData:Object(i["a"])(a.records),columnNameData:e}}))},getCustomerCoverageBarData:function(t){var e=this;console.log(t,"getCustomerCoverageBarData"),t&&(this.customerCoverageBarQueryForm.customerNumbers=t.data.number,this.customerCoverageBarQueryForm.courtsNumber=t.data.id,this.customerCoverageBarQueryForm.size=10,this.customerCoverageBarQueryForm.current=1);var a=[{prop:"khbh",label:"客户编号"},{prop:"khmc",label:"客户名称"},{prop:"yddz",label:"用电地址"},{prop:"yhlb",label:"用户类型"},{prop:"ydlb",label:"用电类型"},{prop:"dq",label:"地区"},{prop:"gddw",label:"供电单位"}];this.courtsCustomerCoveringNumberDetails(p(p({},this.customerCoverageBarQueryForm),{},{customerNumbers:this.customerCoverageBarQueryForm.customerNumbers,courtsNumber:this.customerCoverageBarQueryForm.courtsNumber})).then((function(t){e.customerCoverageBarPageConfig.total=t.total,e.customerCoverageBarPageConfig.size=e.customerCoverageBarQueryForm.size,e.customerCoverageBarPageConfig.current=e.customerCoverageBarQueryForm.current,e.customerCoverageBarData={tableData:Object(i["a"])(t.records),headerColor:"#1899fa",title:"客户分群客户明细列表",name:e.customerCoverageBarPageConfig.name,size:e.customerCoverageBarQueryForm.size,current:e.customerCoverageBarQueryForm.current,total:e.customerCoverageBarPageConfig.total,columnNameData:a}}))},getHotWordData:function(){var t=this;this.hotWordRes=!1,this.gridHotSpotDistribution({}).then((function(e){t.hotWordData=e.map((function(t){return{name:t.name,valueShow:t.count}})),t.hotWordRes=!0,console.log(t.hotWordData,"hotWordData")}))},getCourtsData:function(){var t=this;this.headerColor="#1899fa";var e=[{prop:"tqbs",label:"台区编号"},{prop:"tqmc",label:"台区名称"},{prop:"khs",label:"用户数"}];this.areaInformation(p({},this.courtsQueryForm)).then((function(a){t.courtsPageConfig.total=a.total,t.courtsPageConfig.size=t.courtsQueryForm.size,t.courtsPageConfig.current=t.courtsQueryForm.current,t.courtsData={tableData:Object(i["a"])(a.records),columnNameData:e}})).catch((function(a){a&&(t.courtsData={tableData:[],columnNameData:e})}))},getLineData:function(){var t=this;this.headerColor="#1899fa";var e=[{prop:"xlbs",label:"线路编号"},{prop:"xlmc",label:"线路名称"},{prop:"khs",label:"客户数"}];this.lineInformation(p({},this.lineQueryForm)).then((function(a){t.linePageConfig.total=a.total,t.linePageConfig.size=t.lineQueryForm.size,t.linePageConfig.current=t.lineQueryForm.current,t.lineData={tableData:Object(i["a"])(a.records),columnNameData:e}})).catch((function(a){a&&(t.courtsData={tableData:[],columnNameData:e})}))},getHandlingSituationData:function(){var t=this,e=[{prop:"rwlx",label:"任务类型"},{prop:"psrwcs",label:"派送任务次数"},{prop:"wcrwcs",label:"完成任务次数"}];this.handlingOfAssignedTasks(this.handlingSituationQueryForm).then((function(a){t.headerColor="#1899fa",t.handlingSituationPageConfig.total=a.total,t.handlingSituationPageConfig.size=t.handlingSituationQueryForm.size,t.handlingSituationPageConfig.current=t.handlingSituationQueryForm.current,t.handlingSituationData={tableData:Object(i["a"])(a.records),columnNameData:e}}))},getConditionTypeOptions:function(){this.conditionTypeOptions=[{name:"且",value:"1"},{name:"或",value:"2"},{name:"非",value:"3"}]}}},b=f,C=(a("b3c9"),a("2877")),v=Object(C["a"])(b,o,r,!1,null,"16d24ad4",null);e["default"]=v.exports},"694d":function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"word-cloud-style"},[a("div",{staticClass:"charts",attrs:{id:t.id}})])},r=[],i=a("2909"),n=(a("55dd"),a("7f7f"),a("313e")),s=a.n(n),l={name:"word-cloud",props:{wordCloudData:{type:Array,default:function(){return[]}},name:{type:String,default:function(){return""}}},data:function(){return{id:Math.random()+"_",dealData:[]}},watch:{},created:function(){},mounted:function(){this.init()},methods:{dataFilter:function(t){},init:function(){var t=document.getElementById(this.id),e=s.a.init(t),a={},o=this.wordCloudData;console.log(o,"data");var r=[{itemColor:"#fdf1e6",labelColor:"#F37508"},{itemColor:"#e6f8fd",labelColor:"#08BEF3"},{itemColor:"#eaf9ec",labelColor:"#2DC746"},{itemColor:"#e8f2fd",labelColor:"#1A84F4"},{itemColor:"#f0f9ee",labelColor:"#6cbf53"},{itemColor:"#eae7fd",labelColor:"#8a7cec"}],i=o.length,n=r.length;r=this.fillData(r,i,n);var l=document.body.clientWidth>1600?[[0,47],[6,24],[8,64],[14,38],[22,23],[20,63],[30,27],[28,64],[36,60],[40,22]]:[[0,40],[9,60],[14,20],[20,55],[30,64],[34,25]];this.randomSort(l),this.randomSort(o),this.randomSort(r);for(var c=[80,100,120],u=[],h=0;h<o.length;h++){var g=o[h],m=g.valueShow>=100?20:16,d=g.valueShow>=100?"#d97979":"#808080";u.push({name:g.name,value:l[h],valueShow:g.valueShow,symbolSize:g.symbolSize||c[Math.floor(Math.random()*c.length)],itemStyle:{color:r[h].itemColor},label:{formatter:function(t){var e="";return e=t.name.length>4?t.name.slice(0,4)+"…":t.name,["{a|"+e+"}","{b|"+t.data.valueShow+"次}"].join("\n")},textStyle:{rich:{a:{fontSize:14,align:"center",fontWeight:"bold",padding:[10,0,0,0],color:r[h].labelColor},b:{fontSize:m,align:"center",color:d}}}},emphasis:{itemStyle:{color:r[h].itemColor}}})}a={backgroundColor:"transparent",hoverAnimation:!1,grid:{show:!1,top:10,bottom:10},xAxis:[{show:!1}],yAxis:[{show:!1,max:80}],series:[{type:"scatter",symbol:"circle",symbolSize:120,label:{normal:{show:!0}},data:u}]},e.setOption(a),this.$emit("setOption",this.name,e)},randomSort:function(t){t.sort((function(){return Math.random()-.5}))},fillData:function(t,e,a){var o=Object(i["a"])(t);if(e>a)for(var r=0;r<e-a;r++)1===a?o.push(JSON.parse(JSON.stringify(o[0]))):o.push(JSON.parse(JSON.stringify(o[r-a*Math.floor(r/a)])));return o}}},c=l,u=(a("a97d"),a("2877")),h=Object(u["a"])(c,o,r,!1,null,"2e56e0de",null);e["a"]=h.exports},"979a":function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pie-style"},[a("div",{staticClass:"charts",attrs:{id:t.id}})])},r=[],i=a("2909"),n=(a("7f7f"),a("ac6a"),a("c5f6"),a("313e")),s=a.n(n),l={name:"pie-charts",props:{pieChartsData:{type:Object,default:function(){return{}}},roseType:{type:Boolean,default:!0},labelType:{type:String,default:"ouline"},legendShow:{type:Boolean,default:!1},titleShow:{type:Boolean,default:!1},radius:{type:Array,default:function(){return["15%","80%"]}},center:{type:Array,default:function(){return["center","center"]}},minAngle:{type:Number,default:10},labelDw:{type:String,default:function(){return""}},name:{type:String,default:function(){return""}},totalData:{type:Number,default:function(){return 0}}},data:function(){return{id:Math.random()+"_",pieData:[],series:[],legendData:[],totalNumber:0}},watch:{},created:function(){},mounted:function(){this.dataFilter(this.pieChartsData),this.init()},methods:{dataFilter:function(t){if(window.console.log(t,"data"),t.dataMap){var e=[],a=[],o=this.labelDw;t.dataMap.forEach((function(t){e.push(t.name)})),this.totalNumber=this.totalData,this.legendData=e,this.pieData=Object(i["a"])(t.dataMap),a.push({name:" ",type:"pie",radius:this.radius,center:this.center,data:this.pieData,roseType:this.roseType?"radius":"",avoidLabelOverlap:!0,minAngle:this.minAngle,color:t.colorMap,itemStyle:{normal:{}},label:"ouline"===this.labelType?{color:"#fff",position:"outer",alignTo:"labelLine",bleedMargin:5,formatter:function(t){return o?["{a|"+t.name+"}","{b|"+t.percent+o+"}"].join(" "):["{a|"+t.name+"}","{b|"+t.value+"}"].join(" ")},textStyle:{rich:{a:{fontSize:14,fontFamily:"Noto Sans SC"},b:{padding:[0,0,5,0],align:"center",fontSize:14,fontFamily:"Noto Sans SC"}}}}:{show:!0,position:"inside",formatter:function(t){return["{a|"+t.value+"户}"]},textStyle:{rich:{a:{fontSize:12,color:"#fff"}}}},emphasis:"emphasis"===this.labelType?{label:{show:!0,position:"inside",fontWeight:"bold",formatter:function(t){return["{a|"+t.value+"户}"]},textStyle:{rich:{a:{fontSize:14,color:"#fff"},b:{fontSize:16},c:{fontSize:16}}}}}:{},labelLine:{show:"ouline"===this.labelType,length:20}}),this.series=a}},init:function(){var t=document.getElementById(this.id),e=s.a.init(t),a={tooltip:{show:!0,trigger:"item",formatter:"{b} : {c} ({d}%)"},title:{show:this.titleShow,text:"总客户数"+this.totalNumber+"户",left:"center"},legend:{show:this.legendShow,orient:"vertical",selectedMode:"multiple",icon:"circle",right:"0%",top:"center",data:this.legendData,textStyle:{fontSize:16,color:"#66AAFF",fontFamily:"Noto Sans SC"}},series:this.series};if(window.console.log(a,"options111"),e.setOption(a),this.$emit("setOption",this.name,e),!this.roseType){var o=0;e.dispatchAction({type:"highlight",seriesIndex:o,dataIndex:o}),e.on("mouseover",(function(t){t.dataIndex!=o&&e.dispatchAction({type:"downplay",seriesIndex:0,dataIndex:o})})),e.on("mouseout",(function(t){o=t.dataIndex,e.dispatchAction({type:"highlight",seriesIndex:0,dataIndex:t.dataIndex})}))}}}},c=l,u=(a("141f"),a("2877")),h=Object(u["a"])(c,o,r,!1,null,"30e85a70",null);e["a"]=h.exports},a97d:function(t,e,a){"use strict";var o=a("b1d8"),r=a.n(o);r.a},ac3e:function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"lable-table"},[t._m(0),0!==t.labelDealData.length?a("div",{staticClass:"lable-box",style:{height:t.tableHeight+"px"}},t._l(t.labelDealData,(function(e,o){return a("div",{key:o,staticClass:"lable-item"},[a("span",{staticClass:"name",style:{backgroundColor:e.color}},[t._v("\n        "+t._s(e.name)+"\n      ")]),a("span",{staticClass:"text",style:{backgroundColor:e.backgroundColor}},[t._v("\n        "+t._s(e.text)+"\n      ")]),a("span",{staticClass:"value",style:{backgroundColor:e.backgroundColor},on:{click:function(a){return t.showDetail(e)}}},[t._v(t._s(e.value+"户"))])])})),0):a("div",{staticClass:"no-data"},[a("span",[t._v("暂无数据")])]),t.isPage?a("el-pagination",{staticClass:"content-pagination",attrs:{"current-page":t.queryForm.current,"page-sizes":t.pageConfig.pageSizes,"page-size":t.queryForm.size,layout:t.pageConfig.layout,total:t.pageConfig.total},on:{"size-change":t.sizeChange,"current-change":t.currentChange}}):t._e(),t.showDetailVisible?a("showDetailList",{ref:"showDetailList",attrs:{visible:t.showDetailVisible,detailData:t.detailData,isQuery:t.isQuery},on:{"update:visible":function(e){t.showDetailVisible=e},changePageData:t.changePageData,exportExcel:t.exportExcel}}):t._e()],1)},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"lable-header"},[a("span",{staticClass:"name"},[t._v("标签名称")]),a("span",{staticClass:"text"},[t._v("标签说明")]),a("span",{staticClass:"value"},[t._v("覆盖客户数")])])}],i=(a("8e6e"),a("ade3")),n=(a("7f7f"),a("ac6a"),a("456d"),a("db03"));function s(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,o)}return a}function l(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?s(Object(a),!0).forEach((function(e){Object(i["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var c={components:{showDetailList:n["a"]},props:{labelData:{type:Array,default:function(){return[]}},showDetailData:{type:Object,default:function(){return{}}},isQuery:{type:Boolean,default:function(){return!1}},isPage:{type:Boolean,default:function(){return!0}},pageConfig:{type:Object,default:function(){return{name:"",current:1,size:10,pageSizes:[10,20,30,40],layout:"prev, pager, next, sizes,jumper,total",total:0}}}},name:"show-detail-list",data:function(){return{tableHeight:0,queryForm:{tagId:"",name:"",current:1,size:10},labelDealData:[],showDetailVisible:!1,detailData:{},rowData:{},detailQueryForm:{current:1,size:10},detailPageConfig:{name:"detail",current:1,size:10,pageSizes:[10,20,30,40,50],layout:"prev, pager, next, sizes,jumper,total",total:0}}},mounted:function(){this.init()},watch:{labelData:function(){this.dataDeal(this.labelData)},showDetailData:function(){console.log(this.showDetailData,"showDetailData"),0!==Object.keys(this.showDetailData).length&&this.showDetailDeal()}},methods:{changeLoading:function(){this.$refs.showDetailList.themeLoading=!1},init:function(){this.tableHeight=document.getElementsByClassName("lable-table")[0].clientHeight-30-(this.isPage?52:0),this.queryForm.name=this.pageConfig.name,this.queryForm.size=this.pageConfig.size,this.queryForm.current=this.pageConfig.current,this.dataDeal(this.labelData)},sizeChange:function(t){this.queryForm.size=t,this.$emit("changePage",this.queryForm)},currentChange:function(t){this.queryForm.current=t,this.$emit("changePage",this.queryForm)},exportExcel:function(t){this.$emit("exportExcel",l(l({},t),{},{tagId:this.queryForm.tagId}))},showDetail:function(t){this.queryForm.tagId=t.tagId,this.$emit("clickDetail",t)},changePageData:function(t){this.rowData=t,this.$emit("changeDetailPage",l(l({},t),this.rowData))},showDetailDeal:function(){var t=l({},this.showDetailData);console.log(t,"rowData"),this.detailData=t,this.showDetailVisible=!0},dataDeal:function(t){var e=this;if(this.labelDealData=[],0!==Object.keys(t).length){var a=["#3890FF","#21CCA8","#E69617","#1ABDEF","#546EDD","#1FB7C8","#8663D5"],o=["#ebf3ff","#e8f9f6","#fcf4e7","#e8f8fd","#edf0fb","#e8f7f9","#f2effa"];t.forEach((function(t,e){e<a.length?(t.color=a[e],t.backgroundColor=o[e]):(t.color=a[e-a.length*Math.floor(e/a.length)],t.backgroundColor=o[e-a.length*Math.floor(e/a.length)])})),this.$nextTick((function(){e.labelDealData=t}))}}}},u=c,h=(a("cb3b"),a("2877")),g=Object(h["a"])(u,o,r,!1,null,"1b473ea9",null);e["a"]=g.exports},b05b:function(t,e,a){},b1d8:function(t,e,a){},b3c9:function(t,e,a){"use strict";var o=a("d702"),r=a.n(o);r.a},cb3b:function(t,e,a){"use strict";var o=a("e62f"),r=a.n(o);r.a},d702:function(t,e,a){},e62f:function(t,e,a){}}]);
//# sourceMappingURL=chunk-6876e842.b6ffc41a.js.map