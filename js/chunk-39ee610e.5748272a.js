(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-39ee610e"],{"2d63":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pieCharts"},[n("div",{ref:"pieCharts",staticClass:"bar_bda"}),n("el-dialog",{attrs:{title:"提示",visible:t.lineDialogVisible,width:"88%"},on:{"update:visible":function(e){t.lineDialogVisible=e}}},[n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.lineChartsLoading,expression:"lineChartsLoading"}],staticClass:"line-charts"}),n("span",{attrs:{slot:"title"},slot:"title"},[n("span",{staticClass:"table_title"},[t._v("渠道功能分类明细"),n("br"),n("span",{staticStyle:{"font-weight":"normal","font-size":"12px",color:"#ff8000"}},[t._v("功能分类、功能项、渠道只能选择一条多选")])]),n("span",{staticClass:"label"},[t._v("功能分类：")]),n("el-select",{staticStyle:{width:"160px","margin-right":"10px"},attrs:{"multiple-limit":t.gnflLimit,size:"mini",multiple:"",filterable:"","collapse-tags":"","allow-create":"","default-first-option":"",placeholder:"请选择业务类别"},on:{change:t.handleGnfl},model:{value:t.gnflValue,callback:function(e){t.gnflValue=e},expression:"gnflValue"}},t._l(t.gnflList,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),n("span",{staticClass:"label"},[t._v("功能项：")]),n("el-select",{staticStyle:{width:"160px","margin-right":"10px"},attrs:{"multiple-limit":t.gnxLimit,size:"mini",multiple:"",filterable:"","collapse-tags":"","allow-create":"","default-first-option":"",placeholder:"请选择业务类别"},on:{change:t.handleGnx},model:{value:t.gnxValue,callback:function(e){t.gnxValue=e},expression:"gnxValue"}},t._l(t.gnxList,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),n("span",{staticClass:"label"},[t._v("渠道：")]),n("el-select",{staticStyle:{width:"160px","margin-right":"10px"},attrs:{size:"mini","multiple-limit":t.qdLimit,multiple:"",filterable:"","collapse-tags":"","allow-create":"","default-first-option":"",placeholder:"请选择渠道"},on:{change:t.handleQd},model:{value:t.qdValue,callback:function(e){t.qdValue=e},expression:"qdValue"}},t._l(t.qdOptions,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),n("span",[t._v(" 时间：")]),n("el-radio-group",{on:{change:t.handleDate},model:{value:t.hyfbWd,callback:function(e){t.hyfbWd=e},expression:"hyfbWd"}},[n("el-radio",{attrs:{label:"年"}},[t._v("年")]),n("el-radio",{attrs:{label:"月"}},[t._v("月")]),n("el-radio",{attrs:{label:"日"}},[t._v("日")])],1),n("el-date-picker",{staticStyle:{width:"130px"},attrs:{type:"年"===t.hyfbWd?"year":"月"===t.hyfbWd?"month":"date",size:"mini",placeholder:"选择日期","value-format":"年"===t.hyfbWd?"yyyy":"月"===t.hyfbWd?"yyyy-MM":"yyyy-MM-dd"},model:{value:t.hyfbDate,callback:function(e){t.hyfbDate=e},expression:"hyfbDate"}}),n("el-button",{staticStyle:{margin:"0px 10px"},attrs:{type:"primary",size:"mini"},on:{click:t.getFunctionalActiveDistributionDetail}},[t._v("查询")]),n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.exportExcel}},[t._v("导出Excel")])],1),n("div",{staticStyle:{"text-align":"center"}},[n("el-radio-group",{on:{change:t.getFunctionalActiveDistributionDetail},model:{value:t.lineType,callback:function(e){t.lineType=e},expression:"lineType"}},[n("el-radio",{attrs:{label:"1"}},[t._v("分线")]),n("el-radio",{attrs:{label:"2"}},[t._v("合线")])],1)],1),n("div",{ref:"gnfnLineChart",staticStyle:{height:"260px",margin:"10px 8px"}}),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){t.lineDialogVisible=!1}}},[t._v("关闭")])],1)])],1)},a=[],r=(n("7f7f"),n("db49")),o=n("bb51"),l={title:{show:!1,text:"某站点用户访问来源",subtext:"纯属虚构",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{show:!1,orient:"vertical",left:"left",top:"10",data:["直接访问","邮件营销","联盟广告","视频广告","搜索引擎"]},series:[{name:"渠道",type:"pie",radius:"70%",center:["50%","50%"],data:[{value:335,name:"直接访问"},{value:310,name:"邮件营销"},{value:234,name:"联盟广告"},{value:135,name:"视频广告"},{value:1548,name:"搜索引擎"}],itemStyle:{emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}},normal:{color:function(t){var e=["#46a1fc","#49cbcb","#55cb72","#fbd43d","#f3627b","#FE8463"];return e[t.dataIndex]}}}}]},s={name:"pieCharts",mixins:[o["a"]],components:{},props:{showClickTable:{type:Boolean,default:function(){return!0}},titName:{type:String,default:function(){return"渠道"}}},data:function(){return{lineType:"1",pieOption:l,lineChartsLoading:!1,lineDialogVisible:!1,gnflValue:[],gnflList:[],gnxValue:[],gnxList:[],qdValue:[],qdOptions:[],hyfbWd:"月",hyfbDate:"2021-2-1",lineOption:{title:{show:!1,text:"折线图堆叠"},tooltip:{trigger:"axis"},legend:{show:!1},grid:{left:"3%",right:"4%",bottom:"10",top:"10",containLabel:!0},toolbox:{feature:{saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!1,data:["周一","周二","周三","周四","周五","周六","周日"]},yAxis:{type:"value"},series:[{name:"邮件营销",type:"line",color:"#266dd5",data:[120,132,101,134,90,230,210]},{name:"联盟广告",type:"line",color:"#61cb63",data:[220,182,191,234,290,330,310]},{name:"视频广告",type:"line",color:"#e58128",data:[150,232,201,154,190,330,410]},{name:"直接访问",type:"line",color:"#3c86e0",data:[320,332,301,334,390,330,320]},{name:"搜索引擎",type:"line",color:"#1bc690",data:[820,932,901,934,1290,1330,1320]}]},gnflLimit:20,gnxLimit:20,qdLimit:20}},mounted:function(){this.pieOption.series[0].name=this.titName,this.init()},methods:{handleGnfl:function(){this.gnflValue.length>1?(this.gnxLimit=1,this.qdLimit=1):this.gnxValue.length>1?(this.gnflLimit=1,this.qdLimit=1):this.qdValue.length>1?(this.gnxLimit=1,this.gnflLimit=1):(this.gnflLimit=20,this.gnxLimit=20,this.qdLimit=20)},handleGnx:function(){this.gnflValue.length>1?(this.gnxLimit=1,this.qdLimit=1):this.gnxValue.length>1?(this.gnflLimit=1,this.qdLimit=1):this.qdValue.length>1?(this.gnxLimit=1,this.gnflLimit=1):(this.gnflLimit=20,this.gnxLimit=20,this.qdLimit=20)},handleQd:function(){this.gnflValue.length>1?(this.gnxLimit=1,this.qdLimit=1):this.gnxValue.length>1?(this.gnflLimit=1,this.qdLimit=1):this.qdValue.length>1?(this.gnxLimit=1,this.gnflLimit=1):(this.gnflLimit=20,this.gnxLimit=20,this.qdLimit=20)},handleDate:function(){this.hyfbDate=""},init:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=arguments.length>5?arguments[5]:void 0;this.hyfbDate=o,this.hyfbWd=r,this.pieOption.legend.data=t,this.pieOption.series[0].data=e;var l=n("313e");this.mychart=l.init(this.$refs.pieCharts),this.mychart.setOption(this.pieOption);var s=l.init(this.$refs.pieCharts,!0);window.addEventListener("resize",s.resize),this.qdOptions=i,this.qdValue=[a];var u=this;this.mychart.off("click"),this.mychart.on("click",(function(t){u.showClickTable&&(u.lineDialogVisible=!0,u.GetFunctionDistribution(t),u.GetFeature(),u.gnflValue=[t.data.name],u.getFunctionalActiveDistributionDetail())}))},GetFunctionDistribution:function(t,e,n){var i=this;window.console.log(t),this.getFunctionDistribution({}).then((function(t){t&&(i.gnflList=t)}))},GetFeature:function(){var t=this;this.getFeature({}).then((function(e){e&&e[0]&&(t.gnxList=e)}))},handleGnf:function(t,e){window.console.log(t),window.console.log(e)},getFunctionalActiveDistributionDetail:function(){var t=this;this.lineChartsLoading=!0,this.functionalActiveDistributionDetail({functionChannel:this.qdValue,dimension:this.hyfbWd,time:this.hyfbDate,functionalClassification:this.gnflValue,feature:this.gnxValue,type:this.lineType}).then((function(e){"1"===t.lineType?t.init2(e):t.init2({"合线":e})})),this.lineChartsLoading=!1},exportExcel:function(){void 0===this.barrDate||null===this.barrDate?this.barrDate=[]:this.barrDate;this.barrDate.length>0&&(this.barrDate[0],this.barrDate[1]),window.location.href=r["c"]+"/internetChannelController/exportFunctionalActiveDetail?functionChannel="+this.qdValue+"&dimension="+this.hyfbWd+"&time="+this.hyfbDate+"&functionalClassification="+this.gnflValue+"&feature="+this.gnxValue+"&type="+this.lineType},init2:function(t){this.lineOption.xAxis.data=[],this.lineOption.series=[];var e=[];for(var i in t)e.push({yD:t[i],type:"line",name:i,smooth:!0});for(var a=["#3c86e0","#e0c53c","#14e5cd","#c96f20","#68b45b","#722dc1","#87dbc7","#0812d2"],r=0;r<e.length;r++){e[r].data=[];for(var o=0;o<e[r].yD.length;o++)e[r].color=a[r],e[r].data.push(e[r].yD[o].num),0===r&&this.lineOption.xAxis.data.push(e[r].yD[o].resultDate)}this.lineOption.series=e;var l=n("313e");this.mychart=l.init(this.$refs.gnfnLineChart),this.mychart.setOption(this.lineOption,!0);var s=l.init(this.$refs.gnfnLineChart,!0);window.addEventListener("resize",s.resize)}}},u=s,c=(n("3543"),n("2877")),h=Object(c["a"])(u,i,a,!1,null,"0c8afc8c",null);e["default"]=h.exports},3543:function(t,e,n){"use strict";var i=n("e743"),a=n.n(i);a.a},bb51:function(t,e,n){"use strict";var i=n("db49"),a=n("ab3e"),r=i["c"]+"/internetChannelController/getFunctionChannel";function o(t){return Object(a["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:r})}var l=i["c"]+"/internetChannelController/functionDistribution";function s(t){return Object(a["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:l})}var u=i["c"]+"/internetChannelController/getBusinessType";function c(t){return Object(a["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:u})}var h=i["c"]+"/internetChannelController/businessSituation";function d(t){return Object(a["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:h})}var f=i["c"]+"/internetChannelController/getBusinessChannel";function p(t){return Object(a["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:f})}var g=i["c"]+"/internetChannelController/businessSituationDetail";function m(t){return Object(a["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:g})}var b=i["c"]+"/internetChannelController/getRegisterChannel";function y(t){return Object(a["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:b})}var v=i["c"]+"/internetChannelController/getDetail";function C(t){return Object(a["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:v})}var x=i["c"]+"/internetChannelController/getNumber";function j(t){return Object(a["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:x})}var D=i["c"]+"/internetChannelController/getTotalNumber";function T(t){return Object(a["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:D})}var L=i["c"]+"/internetChannelController/functionalActiveDistribution";function O(t){return Object(a["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:L})}var w=i["c"]+"/internetChannelController/getFunctionDistribution";function V(t){return Object(a["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:w})}var q=i["c"]+"/internetChannelController/getFeature";function k(t){return Object(a["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:q})}var _=i["c"]+"/internetChannelController/functionalActiveDistributionDetail";function F(t){return Object(a["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:_})}var S=i["c"]+"/internetChannelController/getUnit";function A(t){return Object(a["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:S})}var z=i["c"]+"/internetChannelController/getTopTen";function G(t){return Object(a["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:z})}var Q=i["c"]+"/internetChannelController/getBusinessSubclass";function W(t){return Object(a["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:Q})}var B=i["c"]+"/internetChannelController/getTopTenDetail";function E(t){return Object(a["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:B})}var N=i["c"]+"/qdtj/saveQdtj";function R(t){return Object(a["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:N})}var $=i["c"]+"/qdtj/list";function M(t){return Object(a["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:$})}var I=i["c"]+"/qdtj/delete";function J(t){return Object(a["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:I})}var P=i["c"]+"/qdtj/getDeail";function U(t){return Object(a["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:P})}var X=i["c"]+"/customerConfig/tagByCustomers";function H(t){return Object(a["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:X})}var K=i["c"]+"/qdtj/downLoad";function Y(t){return Object(a["a"])({method:"get",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:K})}var Z=i["c"]+"/internetChannelController/getQDVisit";function tt(t){return Object(a["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:Z})}var et=i["c"]+"/internetChannelController/getQDAnalysis";function nt(t){return Object(a["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:et})}var it=i["c"]+"/qdtj/executeTask";function at(t){return Object(a["a"])({method:"GET",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:it})}var rt=i["c"]+"/customerConfig/updateCustomersTotal";function ot(t){return Object(a["a"])({method:"POST",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:rt})}e["a"]={data:function(){return{channelPreference:{list:[],page:null,limit:null,total:0,model:null}}},methods:{getFunctionChannel:function(t){return o(t).then((function(t){return t}))},functionDistribution:function(t){return s(t).then((function(t){return t}))},getBusinessType:function(t){return c(t).then((function(t){return t}))},businessSituation:function(t){return d(t).then((function(t){return t}))},getBusinessChannel:function(t){return p(t).then((function(t){return t}))},businessSituationDetail:function(t){return m(t).then((function(t){return t}))},getRegisterChannel:function(t){return y(t).then((function(t){return t}))},getDetail:function(t){return C(t).then((function(t){return t}))},getNumber:function(t){return j(t).then((function(t){return t}))},getTotalNumber:function(t){return T(t).then((function(t){return t}))},functionalActiveDistribution:function(t){return O(t).then((function(t){return t}))},getFunctionDistribution:function(t){return V(t).then((function(t){return t}))},getFeature:function(t){return k(t).then((function(t){return t}))},functionalActiveDistributionDetail:function(t){return F(t).then((function(t){return t}))},getUnit:function(t){return A(t).then((function(t){return t}))},getTopTen:function(t){return G(t).then((function(t){return t}))},getBusinessSubclass:function(t){return W(t).then((function(t){return t}))},getTopTenDetail:function(t){return E(t).then((function(t){return t}))},saveQdtj:function(t){return R(t).then((function(t){return t}))},getQdRcList:function(t){return M(t).then((function(t){return t}))},deleteQdRcList:function(t){return J(t).then((function(t){return t}))},getQdRcDeail:function(t){return U(t).then((function(t){return t}))},tagByCustomers:function(t){return H(t).then((function(t){return t}))},downLoad:function(t){return Y(t).then((function(t){return t}))},getQdVisit:function(t){return tt(t).then((function(t){return t}))},getQdAnalysis:function(t){return nt(t).then((function(t){return t}))},executeTask:function(t){return at(t).then((function(t){return t}))},updateCustomersTotal:function(t){return ot(t).then((function(t){return t}))}}}},e743:function(t,e,n){}}]);
//# sourceMappingURL=chunk-39ee610e.5748272a.js.map