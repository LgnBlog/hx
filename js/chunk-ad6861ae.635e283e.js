(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ad6861ae"],{"28b5":function(t,e,a){"use strict";var i=a("b0a8"),n=a.n(i);n.a},"2f21":function(t,e,a){"use strict";var i=a("79e5");t.exports=function(t,e){return!!t&&i((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},"3c20":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"recommendMatching"},[a("div",{staticClass:"title"},[t._v("推荐配置")]),a("div",{staticClass:"nav"},[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:t.openDilog}},[t._v("新增")]),a("el-button",{staticClass:"el-icon-refresh",attrs:{size:"mini",type:"primary"},on:{click:t.getRecommendSkillList}},[t._v("刷新")]),a("span",[t._v("标签名称：")]),a("el-input",{staticClass:"inputC",attrs:{placeholder:"请输入标签名称",size:"mini",clearable:""},model:{value:t.tagName,callback:function(e){t.tagName=e},expression:"tagName"}}),a("span",[t._v("技能组名称：")]),a("el-input",{staticClass:"inputC",attrs:{placeholder:"请输入技能组名称",size:"mini",clearable:""},model:{value:t.selectValue,callback:function(e){t.selectValue=e},expression:"selectValue"}}),a("span",[t._v("创建时间：")]),a("el-date-picker",{staticClass:"inputC",attrs:{size:"mini",type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd"},model:{value:t.ctime,callback:function(e){t.ctime=e},expression:"ctime"}}),a("span",[t._v("修改时间：")]),a("el-date-picker",{staticClass:"inputC",attrs:{size:"mini",type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd"},model:{value:t.utime,callback:function(e){t.utime=e},expression:"utime"}}),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:t.getRecommendSkillList}},[t._v("搜索")])],1),a("div",{staticClass:"table-con"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{border:"",data:t.tableData,"row-class-name":t.tableRowClassName}},[a("el-table-column",{attrs:{label:"序号",align:"center",type:"index",width:"70"}}),a("el-table-column",{attrs:{prop:"tagName",label:"标签名称",width:"280"}}),a("el-table-column",{attrs:{prop:"skillGroup",label:"技能组名称",width:"280"}}),a("el-table-column",{attrs:{label:"重要程度"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{placeholder:"请输入",size:"mini"},on:{blur:function(a){return t.handleChange(e.row)}},model:{value:e.row.sort,callback:function(a){t.$set(e.row,"sort",a)},expression:"scope.row.sort"}})]}}])}),a("el-table-column",{attrs:{prop:"creatorName",label:"创建人"}}),a("el-table-column",{attrs:{prop:"createTime",label:"创建时间"}}),a("el-table-column",{attrs:{prop:"updateName",label:"修改人"}}),a("el-table-column",{attrs:{prop:"updateTime",label:"修改时间"}}),a("el-table-column",{attrs:{align:"center",label:"是否启用"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{attrs:{value:"1"===e.row.isUsed,"active-color":"#13ce66","active-text":"启用","inactive-text":"停用","inactive-color":"#ff4949"},on:{change:function(a){return t.switchChange(e.row)}}})]}}])}),a("el-table-column",{attrs:{align:"center",width:"120",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-link",{attrs:{type:"primary"},on:{click:function(a){return t.editOpen(e.row)}}},[t._v("修改")]),a("el-divider",{attrs:{direction:"vertical"}}),a("el-link",{attrs:{type:"danger"},on:{click:function(a){return t.deleteRecommendSkillList(e.row)}}},[t._v("删除")])]}}])})],1),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":t.pages.pageNo,"page-sizes":[8,10,20,50],"page-size":t.pages.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.pages.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1),a("el-dialog",{attrs:{title:t.dialogTit,visible:t.dialogVisible,top:"5vh",width:"80%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("div",{staticClass:"dialog-con"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:7}},[a("div",{staticClass:"left"},[a("div",{staticClass:"title"},[t._v("选择标签名称")]),a("div",{staticStyle:{"margin-top":"10px"}},[a("el-input",{staticStyle:{width:"calc(100% - 66px)"},attrs:{placeholder:"输入关键字进行过滤",size:"medium"},model:{value:t.filterText2,callback:function(e){t.filterText2=e},expression:"filterText2"}}),a("el-button",{attrs:{icon:"el-icon-search",size:"medium"},on:{click:function(e){return t.selectTree(t.filterText2)}}}),a("el-tree",{directives:[{name:"loading",rawName:"v-loading",value:t.treeLoading,expression:"treeLoading"},{name:"show",rawName:"v-show",value:!t.showSelectTree,expression:"!showSelectTree"}],ref:"tree",staticClass:"filter-tree",style:t.treeStyleObject,attrs:{"filter-node-method":t.filterNode,props:t.defaultProps,load:t.loadNode,"highlight-current":!0,"expand-on-click-node":!1,lazy:""},on:{"node-click":t.nodeClick},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.node,n=e.data;return a("span",{staticClass:"custom-tree-node"},[a("span",["tagobj"===n.type?a("i",{staticClass:"el-icon-office-building"}):"index"===n.type?a("i",{staticClass:"el-icon-folder-opened"}):"tag"===n.type?a("i",{staticClass:"el-icon-price-tag"}):t._e(),t._v("\n                                  "+t._s(i.label)+"\n                              ")])])}}])}),a("el-tree",{directives:[{name:"loading",rawName:"v-loading",value:t.treeLoading,expression:"treeLoading"},{name:"show",rawName:"v-show",value:t.showSelectTree,expression:"showSelectTree"}],style:{treeStyleObject:t.treeStyleObject},attrs:{data:t.dataTree,"default-expand-all":"",props:t.defaultProps2,"expand-on-click-node":!1,"highlight-current":!0},on:{"node-click":t.nodeClick},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.node,n=e.data;return a("span",{staticClass:"custom-tree-node"},[a("span",["tagobj"===n.type?a("i",{staticClass:"el-icon-office-building"}):"index"===n.type?a("i",{staticClass:"el-icon-folder-opened"}):"tag"===n.type?a("i",{staticClass:"el-icon-price-tag"}):t._e(),t._v("\n                                  "+t._s(i.label)+"\n                              ")])])}}])})],1)])]),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"center"},[a("div",{staticClass:"title"},[t._v("已选值")]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.tagNameSelect,expression:"tagNameSelect"}],staticClass:"tag"},[t._v("标签名称： "+t._s(t.tagNameSelect))]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.skillName,expression:"skillName"}],staticClass:"tag"},[t._v("技能组名称： "+t._s(t.skillName))])])]),a("el-col",{attrs:{span:10}},[a("div",{staticClass:"right"},[a("div",{staticClass:"title"},[t._v("选择技能组")]),t._l(t.skillList,(function(e){return a("span",{key:e.id,staticClass:"tag",on:{click:function(a){return t.changeSkillValue(e)}}},[t._v(t._s(e.skillGroup))])})),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":t.pages2.pageNo,"page-sizes":[8,10,20,50],"page-size":t.pages2.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.pages2.total},on:{"size-change":t.handleSizeChange2,"current-change":t.handleCurrentChange2}})],1)],2)])],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.editSkillList}},[t._v("确 定")])],1)])],1)},n=[],l=(a("ac6a"),a("7f7f"),a("55dd"),a("4251")),o={name:"recommendMatching",mixins:[l["a"]],components:{},props:{},data:function(){return{treeStyleObject:{maxHeight:"460px",overflow:"scroll"},doHeight:460,bbbbbbbbb:"1",tagName:"",selectValue:"",ctime:"",utime:"",tableData:[],pages:{pageNo:1,pageSize:10,total:0},pages2:{pageNo:1,pageSize:10,total:0},id:"",loading:!1,dialogTit:"新增",skillName:"",skillGroupId:"",tagNameSelect:"测试",tagId:"eeee",dialogVisible:!1,skillList:[],defaultProps:{children:"children",label:"text",isLeaf:"leaf"},defaultProps2:{children:"children",label:"text"},filterText2:"",treeLoading:!1,showSelectTree:!1,dataTree:[],node:[],resolve:[],numb:1}},mounted:function(){this.getRecommendSkillList()},methods:{switchChange:function(t){for(var e=0;e<this.tableData.length;e++)if(this.tableData[e].id===t.id)return"1"===t.isUsed?this.tableData[e].isUsed="2":"2"===t.isUsed&&(this.tableData[e].isUsed="1"),this.switchModifyIsUse(this.tableData[e].id,this.tableData[e].isUsed),void window.console.log(t)},switchModifyIsUse:function(t,e){this.modifyIsUse({id:t,isUsed:e}).then((function(t){})).catch((function(t){window.console.log(t)}))},handleSizeChange:function(t){this.pages.pageSize=t,this.getRecommendSkillList(),console.log("每页 ".concat(t," 条"))},handleCurrentChange:function(t){this.pages.pageNo=t,this.getRecommendSkillList(),console.log("当前页: ".concat(t))},tableRowClassName:function(t){t.row;var e=t.rowIndex;return e%2===0?"success-row":""},getRecommendSkillList:function(){var t=this;this.loading=!0,this.getSkillGroupTagData({skillGroup:this.selectValue,tagName:this.tagName,ctime:this.ctime,utime:this.utime,current:this.pages.pageNo,size:this.pages.pageSize}).then((function(e){t.loading=!1,t.tableData=e.list,t.pages.total=e.total})).catch((function(t){window.console.log(t)}))},openDilog:function(){this.dialogTit="新增",this.skillName="",this.skillGroupId="",this.tagNameSelect="",this.tagId="",this.dialogVisible=!0,this.getSkillList()},editOpen:function(t){this.dialogTit="修改",this.skillName=t.skillGroup,this.skillGroupId=t.skillGroupId,this.tagNameSelect=t.tagName,this.tagId=t.tagId,this.dialogVisible=!0,this.id=t.id,this.getSkillList()},editSkillList:function(){var t=this;""!==this.skillName&&""!==this.tagNameSelect?"新增"===this.dialogTit?this.addSkillGroupTag({skillGroup:this.skillName,skillGroupId:this.skillGroupId,tagId:this.tagId,tagName:this.tagNameSelect}).then((function(){t.getRecommendSkillList(),t.dialogVisible=!1})).catch((function(t){window.console.log(t)})):this.updateSkillGroupTag({tagId:this.tagId,tagName:this.tagNameSelect,skillGroup:this.skillName,skillGroupId:this.skillGroupId,id:this.id}).then((function(){t.getRecommendSkillList(),t.dialogVisible=!1})).catch((function(t){window.console.log(t)})):this.$message.warning("请选择标签和技能组")},deleteRecommendSkillList:function(t){var e=this;this.deleteSkillGroupTag({id:t.id}).then((function(){e.getRecommendSkillList()})).catch((function(t){window.console.log(t)}))},handleChange:function(t){var e=this;this.modifySort({id:t.id,sort:t.sort}).then((function(){e.getRecommendSkillList()})).catch((function(t){window.console.log(t)}))},getSkillList:function(){var t=this;this.getSkillGroupData({skillGroup:"",current:this.pages2.pageNo,size:this.pages2.pageSize}).then((function(e){t.skillList=e.list,t.pages2.total=e.total})).catch((function(t){window.console.log(t)}))},handleSizeChange2:function(t){this.pages2.pageSize=t,this.getSkillList(),console.log("每页 ".concat(t," 条"))},handleCurrentChange2:function(t){this.pages2.pageNo=t,this.getSkillList(),console.log("当前页: ".concat(t))},changeSkillValue:function(t){window.console.log(t),this.skillName=t.skillGroup,this.skillGroupId=t.id},nodeClick:function(t){window.console.log("message",t),this.tagId=t.entryId,this.tagNameSelect=t.name},selectTree:function(t){var e=this;this.treeLoading=!0;var a="";""!=t&&null!=t?(a=t,this.showSelectTree=!0,this.value=""):(this.showSelectTree=!1,a=this.value,this.filterText2=""),this.node.childNodes=[],this.getBdaTagList({keyword:a,id:0}).then((function(t){e.dataTree=t,e.treeLoading=!1,e.resolve(e.dataTree)})).catch((function(){}))},filterNode:function(t,e){return!t||-1!==e.text.indexOf(t)},loadNode:function(t,e){var a=this;1===this.numb&&(this.node=t,this.resolve=e,this.node.childNodes=[],this.numb++),this.dataTree=[];var i=this;if(t.data)t.data.type?this.getBdaTagList({id:t.data.entryId,type:t.data.type}).then((function(t){i.dataTree=t,i.dataTree.forEach((function(t){"tag"==t.type&&(t.leaf=!0)})),e(i.dataTree)})).catch((function(){})):e([]);else{var n={};this.getBdaTagList(n).then((function(t){i.options=t;for(var n=0;n<t.length;n++)t[n].disabled=!0;a.dataTree=t,e(a.dataTree)})).catch((function(){}))}}}},s=o,r=(a("28b5"),a("2877")),c=Object(r["a"])(s,i,n,!1,null,"3941bef5",null);e["default"]=c.exports},4251:function(t,e,a){"use strict";var i=a("db49"),n=a("ab3e"),l=i["c"]+"/leanSeatingSkillController/selectSkillGroupSeatDistribution";function o(t){return Object(n["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:l})}var s=i["c"]+"/leanSeatingSkillController/selectSeatDetails";function r(t){return Object(n["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:s})}var c=i["c"]+"/leanSeatingSkillController/selectSkillQueue";function u(t){return Object(n["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:c})}var d=i["c"]+"/seatPreciseMatchStrategyController/selectResultSkillGroupSeatDistribution";function p(t){return Object(n["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:d})}var h=i["c"]+"/seatPreciseMatchStrategyController/selectSkillGroupSeatDistribution";function g(t){return Object(n["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:h})}var f=i["c"]+"/leanSeatingSkillController/seatSubject";function m(t){return Object(n["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:f})}var k=i["c"]+"/leanSeatingSkillController/userPrincipalLabel";function v(t){return Object(n["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:k})}var b=i["c"]+"/leanSeatingSkillController/seatUserDisplay";function S(t){return Object(n["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:b})}var C=i["c"]+"/cpt-skillgroup-config/getSkillGroupData";function y(t){return Object(n["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:C})}var w=i["c"]+"/cpt-skillgroup-config/addSkillGroup";function T(t){return Object(n["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:w})}var j=i["c"]+"/cpt-skillgroup-config/updateSkillGroup";function N(t){return Object(n["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:j})}var G=i["c"]+"/cpt-skillgroup-config/deleteSkillGroup";function x(t){return Object(n["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:G})}var I=i["c"]+"/cpt-skillgroup-tag/getSkillGroupTagData";function L(t){return Object(n["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:I})}var z=i["c"]+"/cpt-skillgroup-tag/addSkillGroupTag";function _(t){return Object(n["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:z})}var D=i["c"]+"/cpt-skillgroup-tag/updateSkillGroupTag";function O(t){return Object(n["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:D})}var R=i["c"]+"/cpt-skillgroup-tag/deleteSkillGroup";function V(t){return Object(n["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:R})}var U=i["c"]+"/cpt-skillgroup-tag/modifySort";function M(t){return Object(n["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:U})}var P=i["c"]+"/cpt-skillgroup-tag/modifyIsUse";function B(t){return Object(n["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:P})}var $=i["b"]+"/tag/listTagTreeAndTagobj";function A(t){return Object(n["a"])({method:"get",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:$})}var E=i["c"]+"/skillGroupInvokeCount/getSkillGroupInvokeDetails";function H(t){return Object(n["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:E})}var J=i["c"]+"/skillGroupInvokeCount/getSkillGroupInvokeStatistics";function Q(t){return Object(n["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:J})}var F=i["c"]+"/skillGroupInvokeCount/getSkillGroupInvokeCount";function q(t){return Object(n["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:F})}var K=i["c"]+"/cpt-skillgroup-config/selectSkillGroupByDel";function W(t){return Object(n["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:K})}e["a"]={data:function(){return{seatSkills:{list:[],page:null,limit:null,total:0,model:null}}},methods:{skillSelectSkillGroupSeatDistribution:function(t){return o(t).then((function(t){return t}))},selectSeatDetails:function(t){return r(t).then((function(t){return t}))},selectSkillQueue:function(t){return u(t).then((function(t){return t}))},selectResultSkillGroupSeatDistribution:function(t){return p(t).then((function(t){return t}))},selectSkillGroupSeatDistribution:function(t){return g(t).then((function(t){return t}))},seatSubject:function(t){return m(t).then((function(t){return t}))},userPrincipalLabel:function(t){return v(t).then((function(t){return t}))},seatUserDisplay:function(t){return S(t).then((function(t){return t}))},getSkillGroupData:function(t){return y(t).then((function(t){return t}))},addSkillGroup:function(t){return T(t).then((function(t){return t}))},updateSkillGroup:function(t){return N(t).then((function(t){return t}))},deleteSkillGroup:function(t){return x(t).then((function(t){return t}))},getSkillGroupTagData:function(t){return L(t).then((function(t){return t}))},addSkillGroupTag:function(t){return _(t).then((function(t){return t}))},updateSkillGroupTag:function(t){return O(t).then((function(t){return t}))},deleteSkillGroupTag:function(t){return V(t).then((function(t){return t}))},modifySort:function(t){return M(t).then((function(t){return t}))},modifyIsUse:function(t){return B(t).then((function(t){return t}))},getBdaTagList:function(t){return A(t).then((function(t){return t}))},getIntentionInvokeDetails:function(t){return H(t).then((function(t){return t}))},getSkillGroupInvokeStatistics:function(t){return Q(t).then((function(t){return t}))},getSkillGroupInvokeCount:function(t){return q(t).then((function(t){return t}))},selectSkillGroupByDel:function(t){return W(t).then((function(t){return t}))}}}},"55dd":function(t,e,a){"use strict";var i=a("5ca1"),n=a("d8e8"),l=a("4bf8"),o=a("79e5"),s=[].sort,r=[1,2,3];i(i.P+i.F*(o((function(){r.sort(void 0)}))||!o((function(){r.sort(null)}))||!a("2f21")(s)),"Array",{sort:function(t){return void 0===t?s.call(l(this)):s.call(l(this),n(t))}})},b0a8:function(t,e,a){}}]);
//# sourceMappingURL=chunk-ad6861ae.635e283e.js.map