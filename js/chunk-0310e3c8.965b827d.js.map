{"version":3,"sources":["webpack:///./src/views/recommendManagementActivities/components/performCconfiguration.vue?7051","webpack:///./src/views/recommendManagementActivities/components/performCconfiguration.vue?5ca4","webpack:///src/views/recommendManagementActivities/components/performCconfiguration.vue","webpack:///./src/views/recommendManagementActivities/components/performCconfiguration.vue?a2fa","webpack:///./src/views/recommendManagementActivities/components/performCconfiguration.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","attrs","queryForm","on","handleSearch","model","value","callback","$$v","$set","expression","_l","item","key","label","nativeOn","$event","type","indexOf","_k","keyCode","trim","_v","taskData","taskHeaderColor","pageConfig","taskOperate","changePage","resultDialogVisible","resultDialogData","resultDialogType","_e","staticRenderFns","components","bdaTable","operateDialog","name","mixins","watch","filterText","$refs","tree","filter","val","props","menuType","String","default","data","taskRes","relationNumber","current","size","total","performChannel","executiveMode","idtypeKey","pageSizes","layout","performChannelType","executiveModeType","mounted","getTaskData","methods","console","log","getTaskDetailData","approvalResult","approvalThrough","approvalState","taskDialogClose","taskDialogVisible","submitApproval","tableData","columnNameData","component"],"mappings":"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","file":"js/chunk-0310e3c8.965b827d.js","sourcesContent":["import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./performCconfiguration.vue?vue&type=style&index=0&id=b77a5ac0&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./performCconfiguration.vue?vue&type=style&index=0&id=b77a5ac0&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"approvalTask\"},[_c('div',{staticClass:\"content\"},[_c('el-form',{ref:\"ruleForm\",staticClass:\"information-form\",attrs:{\"model\":_vm.queryForm,\"inline\":true,\"label-width\":\"150px\"}},[_c('el-form-item',[_c('el-select',{attrs:{\"placeholder\":\"请选择执行渠道\"},on:{\"change\":_vm.handleSearch},model:{value:(_vm.queryForm.performChannel),callback:function ($$v) {_vm.$set(_vm.queryForm, \"performChannel\", $$v)},expression:\"queryForm.performChannel\"}},_vm._l((_vm.performChannelType),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_c('el-form-item',[_c('el-select',{attrs:{\"placeholder\":\"请选择执行方式\"},on:{\"change\":_vm.handleSearch},model:{value:(_vm.queryForm.executiveMode),callback:function ($$v) {_vm.$set(_vm.queryForm, \"executiveMode\", $$v)},expression:\"queryForm.executiveMode\"}},_vm._l((_vm.executiveModeType),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_c('el-form-item',[_c('el-input',{attrs:{\"placeholder\":\"请输入营销活动内容关键词\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.handleSearch($event)}},model:{value:(_vm.queryForm.idtypeKey),callback:function ($$v) {_vm.$set(_vm.queryForm, \"idtypeKey\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"queryForm.idtypeKey\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleSearch}},[_vm._v(\"查询\")])],1)],1),_c('bdaTable',{staticClass:\"content-table\",attrs:{\"tableData\":_vm.taskData,\"headerColor\":_vm.taskHeaderColor,\"isPage\":true,\"pageConfig\":_vm.pageConfig},on:{\"operate\":_vm.taskOperate,\"changePage\":_vm.changePage}})],1),(_vm.resultDialogVisible)?_c('operateDialog',{attrs:{\"visible\":_vm.resultDialogVisible,\"showData\":_vm.resultDialogData,\"type\":_vm.resultDialogType},on:{\"update:visible\":function($event){_vm.resultDialogVisible=$event}}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- 审批执行任务 -->\r\n<template>\r\n  <div class=\"approvalTask\">\r\n    <div class=\"content\">\r\n      <el-form\r\n        ref=\"ruleForm\"\r\n        :model=\"queryForm\"\r\n        :inline=\"true\"\r\n        class=\"information-form\"\r\n        label-width=\"150px\"\r\n      >\r\n        <el-form-item>\r\n          <el-select\r\n            v-model=\"queryForm.performChannel\"\r\n            placeholder=\"请选择执行渠道\"\r\n            @change=\"handleSearch\"\r\n          >\r\n            <el-option\r\n              v-for=\"item in performChannelType\"\r\n              :key=\"item.value\"\r\n              :label=\"item.label\"\r\n              :value=\"item.value\"\r\n            ></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-select v-model=\"queryForm.executiveMode\" placeholder=\"请选择执行方式\" @change=\"handleSearch\">\r\n            <el-option\r\n              v-for=\"item in executiveModeType\"\r\n              :key=\"item.value\"\r\n              :label=\"item.label\"\r\n              :value=\"item.value\"\r\n            ></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-input\r\n            v-model.trim=\"queryForm.idtypeKey\"\r\n            placeholder=\"请输入营销活动内容关键词\"\r\n            @keyup.enter.native=\"handleSearch\"\r\n          ></el-input>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button type=\"primary\" @click=\"handleSearch\">查询</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n      <bdaTable\r\n        class=\"content-table\"\r\n        :tableData=\"taskData\"\r\n        :headerColor=\"taskHeaderColor\"\r\n        @operate=\"taskOperate\"\r\n        :isPage=\"true\"\r\n        :pageConfig=\"pageConfig\"\r\n        @changePage=\"changePage\"\r\n      ></bdaTable>\r\n    </div>\r\n    <operateDialog\r\n      v-if=\"resultDialogVisible\"\r\n      :visible.sync=\"resultDialogVisible\"\r\n      :showData=\"resultDialogData\"\r\n      :type=\"resultDialogType\"\r\n    ></operateDialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Interface from \"@/base/mixin/recommend-management\";\r\nimport bdaTable from \"@/components/bda-table/bda-table\";\r\nimport operateDialog from \"./operate-dialog\";\r\n\r\nexport default {\r\n  components: {\r\n    bdaTable,\r\n    operateDialog\r\n  },\r\n  name: \"performCconfiguration\",\r\n  mixins: [Interface],\r\n  watch: {\r\n    filterText(val) {\r\n      this.$refs.tree.filter(val);\r\n    }\r\n  },\r\n  props: {\r\n    menuType: {\r\n      type: String,\r\n      default: \"\"\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      //推荐生成任务\r\n      taskData: {},\r\n      taskRes: false,\r\n      taskHeaderColor: \"\",\r\n      queryForm: {\r\n        relationNumber: \"\",\r\n        current: 1,\r\n        size: 10,\r\n        total: 0,\r\n        performChannel: \"\",\r\n        executiveMode: \"\",\r\n        idtypeKey: \"\"\r\n      },\r\n      //分页设置\r\n      pageConfig: {\r\n        current: 1,\r\n        size: 10,\r\n        pageSizes: [10, 20, 30, 40],\r\n        layout: \"prev, pager, next, sizes,jumper,total\",\r\n        total: 0\r\n      },\r\n      //执行结果查看\r\n      resultDialogVisible: false,\r\n      resultDialogType: \"\",\r\n      resultDialogData: {},\r\n      performChannelType: [],\r\n      executiveModeType: []\r\n    };\r\n  },\r\n  mounted() {\r\n    this.getTaskData();\r\n  },\r\n  methods: {\r\n    /* 搜索 */\r\n    handleSearch() {\r\n      console.log(this.queryForm, \"this.queryForm\");\r\n    },\r\n    //点击任务表格\r\n    taskOperate(type, data) {\r\n      console.log(type, data);\r\n      this.queryForm.relationNumber = data.relationNumber;\r\n      if (type === \"approval\") {\r\n        this.getTaskDetailData(data);\r\n      } else {\r\n        if (type === \"approvalPass\") {\r\n          this.approvalResult(\"1\");\r\n        }\r\n        if (type === \"approvalFail\") {\r\n          this.approvalResult(\"2\");\r\n        }\r\n\r\n        this.resultDialogVisible = false;\r\n      }\r\n    },\r\n    //审批通过/不通过\r\n    approvalResult(val) {\r\n      this.approvalThrough({\r\n        relationNumber: this.queryForm.relationNumber,\r\n        approvalState: val\r\n      }).then(res => {\r\n        // if(val==='1')\r\n        // if(val==='2')\r\n        this.getTaskData();\r\n      });\r\n    },\r\n    //关闭任务模态框\r\n    taskDialogClose() {\r\n      this.taskDialogVisible = false;\r\n    },\r\n    //提交审批\r\n    submitApproval() {\r\n      this.taskDialogVisible = false;\r\n    },\r\n    //改变分页\r\n    changePage(data) {\r\n      this.queryForm.size = data.size;\r\n      this.queryForm.current = data.current;\r\n      this.getTaskData();\r\n    },\r\n    //获取推荐生成任务列表\r\n    getTaskData() {\r\n      this.taskHeaderColor = \"#1899fa\";\r\n      let columnNameData = [\r\n        { prop: \"relationName\", label: \"现场营销活动名称\", align: \"center\" },\r\n        { prop: \"descibe\", label: \"执行渠道\", align: \"center\" },\r\n        {\r\n          prop: \"runMode\",\r\n          label: \"执行方式\",\r\n          align: \"center\"\r\n        },\r\n        {\r\n          prop: \"Operate\",\r\n          label: \"推荐客户清单查看与任务配置\",\r\n          align: \"center\",\r\n          type: [{ name: \"点击查看与配置\", action: \"check\" }]\r\n        },\r\n        {\r\n          prop: \"proposer\",\r\n          label: \"操作\",\r\n          align: \"center\",\r\n          type: [\r\n            {\r\n              name: \"[提交申请]\",\r\n              action: \"approvalPass\"\r\n            },\r\n            {\r\n              name: \"[确认推荐数据]\",\r\n              action: \"approvalFail\"\r\n            }\r\n          ]\r\n        }\r\n      ];\r\n      this.taskData = {\r\n        tableData: [\r\n          {\r\n            relationName: \"基于违规用电的安全宣贯活动\",\r\n            runMode: \"\",\r\n            descibe: \"\",\r\n            Operate: \"\"\r\n          }\r\n        ],\r\n        columnNameData: columnNameData\r\n      };\r\n      // this.approvalExecutionList({ ...this.queryForm, menuType: this.menuType }).then(res => {\r\n      //   this.pageConfig.total = res.total\r\n      //   this.pageConfig.size = this.queryForm.size\r\n      //   this.pageConfig.current = this.queryForm.current\r\n      //   this.taskData = {\r\n      //     tableData: [\r\n      //       ...res.records\r\n      //     ],\r\n      //     columnNameData: columnNameData\r\n      //   };\r\n      //   this.taskRes = true;\r\n      // }).catch((err) => {\r\n      //   if (err) {\r\n      //     this.taskData = {\r\n      //       tableData: [],\r\n      //       columnNameData: columnNameData\r\n      //     }\r\n      //   }\r\n      // })\r\n    },\r\n    //获取审批任务详细信息\r\n    getTaskDetailData(data) {\r\n      console.log(data, \"data\");\r\n      // this.selectTaskDetail({\r\n      //   relationNumber: data.relationNumber,\r\n      //   targetId: data.targetId,\r\n      //   recId: data.recId,\r\n      //   tagId: data.tagId,\r\n      // }).then(res => {\r\n      //   this.resultDialogType = \"approval\";\r\n      //   this.resultDialogData = res\r\n      //   this.resultDialogVisible = true;\r\n      // })\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.approvalTask {\r\n  width: 100%;\r\n  height: 100%;\r\n  .content {\r\n    ::v-deep .el-table .warning-row {\r\n      background: #e9f3fe;\r\n    }\r\n    width: 100%;\r\n    height: calc(100%);\r\n    background: #ffffff;\r\n    padding: 10px;\r\n    box-sizing: border-box;\r\n    .content-table {\r\n      height: 90%;\r\n    }\r\n  }\r\n  .task-dialog {\r\n    ::v-deep .el-dialog__header {\r\n      padding: 10px 0 10px;\r\n      border-bottom: 1px solid #e6e6e6;\r\n    }\r\n    ::v-deep .el-dialog__body {\r\n      padding: 10px;\r\n    }\r\n    ::v-deep .el-dialog__footer {\r\n      padding: 10px 10px 10px 0;\r\n      border-top: 1px solid #e6e6e6;\r\n      text-align: center;\r\n    }\r\n    .dialog-header {\r\n      .header-text {\r\n        margin-left: 20px;\r\n        color: #808080;\r\n        font-size: 14px;\r\n      }\r\n    }\r\n    .dialog-content {\r\n      .input {\r\n        width: 80%;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./performCconfiguration.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./performCconfiguration.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./performCconfiguration.vue?vue&type=template&id=b77a5ac0&scoped=true&\"\nimport script from \"./performCconfiguration.vue?vue&type=script&lang=js&\"\nexport * from \"./performCconfiguration.vue?vue&type=script&lang=js&\"\nimport style0 from \"./performCconfiguration.vue?vue&type=style&index=0&id=b77a5ac0&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b77a5ac0\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}