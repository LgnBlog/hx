(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6b62a68a"],{"11c6":function(t,e,n){"use strict";var a=n("e315"),r=n.n(a);r.a},bb51:function(t,e,n){"use strict";var a=n("db49"),r=n("ab3e"),i=a["c"]+"/internetChannelController/getFunctionChannel";function o(t){return Object(r["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:i})}var s=a["c"]+"/internetChannelController/functionDistribution";function l(t){return Object(r["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:s})}var u=a["c"]+"/internetChannelController/getBusinessType";function c(t){return Object(r["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:u})}var h=a["c"]+"/internetChannelController/businessSituation";function p(t){return Object(r["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:h})}var d=a["c"]+"/internetChannelController/getBusinessChannel";function f(t){return Object(r["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:d})}var b=a["c"]+"/internetChannelController/businessSituationDetail";function g(t){return Object(r["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:b})}var C=a["c"]+"/internetChannelController/getRegisterChannel";function m(t){return Object(r["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:C})}var v=a["c"]+"/internetChannelController/getDetail";function y(t){return Object(r["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:v})}var j=a["c"]+"/internetChannelController/getNumber";function T(t){return Object(r["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:j})}var D=a["c"]+"/internetChannelController/getTotalNumber";function O(t){return Object(r["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:D})}var x=a["c"]+"/internetChannelController/functionalActiveDistribution";function w(t){return Object(r["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:x})}var V=a["c"]+"/internetChannelController/getFunctionDistribution";function S(t){return Object(r["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:V})}var k=a["c"]+"/internetChannelController/getFeature";function L(t){return Object(r["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:k})}var z=a["c"]+"/internetChannelController/functionalActiveDistributionDetail";function B(t){return Object(r["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:z})}var q=a["c"]+"/internetChannelController/getUnit";function _(t){return Object(r["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:q})}var A=a["c"]+"/internetChannelController/getTopTen";function N(t){return Object(r["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:A})}var Q=a["c"]+"/internetChannelController/getBusinessSubclass";function R(t){return Object(r["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:Q})}var E=a["c"]+"/internetChannelController/getTopTenDetail";function F(t){return Object(r["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:E})}var U=a["c"]+"/qdtj/saveQdtj";function G(t){return Object(r["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:U})}var M=a["c"]+"/qdtj/list";function P(t){return Object(r["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:M})}var $=a["c"]+"/qdtj/delete";function J(t){return Object(r["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:$})}var W=a["c"]+"/qdtj/getDeail";function H(t){return Object(r["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:W})}var I=a["c"]+"/customerConfig/tagByCustomers";function K(t){return Object(r["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:I})}var X=a["c"]+"/qdtj/downLoad";function Y(t){return Object(r["a"])({method:"get",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:X})}var Z=a["c"]+"/internetChannelController/getQDVisit";function tt(t){return Object(r["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:Z})}var et=a["c"]+"/internetChannelController/getQDAnalysis";function nt(t){return Object(r["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:et})}var at=a["c"]+"/qdtj/executeTask";function rt(t){return Object(r["a"])({method:"GET",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:at})}var it=a["c"]+"/customerConfig/updateCustomersTotal";function ot(t){return Object(r["a"])({method:"POST",headers:{"Content-Type":"application/json;charset=utf8"},data:t,url:it})}e["a"]={data:function(){return{channelPreference:{list:[],page:null,limit:null,total:0,model:null}}},methods:{getFunctionChannel:function(t){return o(t).then((function(t){return t}))},functionDistribution:function(t){return l(t).then((function(t){return t}))},getBusinessType:function(t){return c(t).then((function(t){return t}))},businessSituation:function(t){return p(t).then((function(t){return t}))},getBusinessChannel:function(t){return f(t).then((function(t){return t}))},businessSituationDetail:function(t){return g(t).then((function(t){return t}))},getRegisterChannel:function(t){return m(t).then((function(t){return t}))},getDetail:function(t){return y(t).then((function(t){return t}))},getNumber:function(t){return T(t).then((function(t){return t}))},getTotalNumber:function(t){return O(t).then((function(t){return t}))},functionalActiveDistribution:function(t){return w(t).then((function(t){return t}))},getFunctionDistribution:function(t){return S(t).then((function(t){return t}))},getFeature:function(t){return L(t).then((function(t){return t}))},functionalActiveDistributionDetail:function(t){return B(t).then((function(t){return t}))},getUnit:function(t){return _(t).then((function(t){return t}))},getTopTen:function(t){return N(t).then((function(t){return t}))},getBusinessSubclass:function(t){return R(t).then((function(t){return t}))},getTopTenDetail:function(t){return F(t).then((function(t){return t}))},saveQdtj:function(t){return G(t).then((function(t){return t}))},getQdRcList:function(t){return P(t).then((function(t){return t}))},deleteQdRcList:function(t){return J(t).then((function(t){return t}))},getQdRcDeail:function(t){return H(t).then((function(t){return t}))},tagByCustomers:function(t){return K(t).then((function(t){return t}))},downLoad:function(t){return Y(t).then((function(t){return t}))},getQdVisit:function(t){return tt(t).then((function(t){return t}))},getQdAnalysis:function(t){return nt(t).then((function(t){return t}))},executeTask:function(t){return rt(t).then((function(t){return t}))},updateCustomersTotal:function(t){return ot(t).then((function(t){return t}))}}}},d027:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"barCharts"},[n("div",{ref:"barCharts",staticClass:"bar_bda"}),n("el-dialog",{attrs:{title:"提示",visible:t.barTableDialogVisible,width:"70%"},on:{"update:visible":function(e){t.barTableDialogVisible=e}}},[n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.barTableLoading,expression:"barTableLoading"}],staticClass:"barTable"},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,height:"250",border:"",stripe:""}},[n("el-table-column",{attrs:{prop:"ywlb",label:"业务类型"}}),n("el-table-column",{attrs:{prop:"qd",label:"渠道"}}),n("el-table-column",{attrs:{prop:"ywsqsj",label:"业务申请时间"}}),n("el-table-column",{attrs:{prop:"gdj",label:"供电局"}}),n("el-table-column",{attrs:{prop:"blgds",label:"办理工单数"}})],1),n("div",{staticClass:"block"},[n("el-pagination",{attrs:{"current-page":t.pages.pageNo,"page-sizes":[8,10,20,50],"page-size":t.pages.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.pages.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1),n("span",{attrs:{slot:"title"},slot:"title"},[n("span",{staticClass:"table_title"},[t._v("业务办理情况明细")]),n("span",{staticClass:"label"},[t._v("业务类别：")]),n("el-select",{staticStyle:{width:"160px","margin-right":"10px"},attrs:{size:"mini",multiple:"",filterable:"","collapse-tags":"","allow-create":"","default-first-option":"",placeholder:"请选择业务类别"},model:{value:t.typeValue,callback:function(e){t.typeValue=e},expression:"typeValue"}},t._l(t.typeVal,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),n("span",{staticClass:"label"},[t._v("渠道：")]),n("el-select",{staticStyle:{width:"140px","margin-bottom":"10px"},attrs:{clearable:"",placeholder:"请选择渠道",size:"mini"},model:{value:t.qdValue,callback:function(e){t.qdValue=e},expression:"qdValue"}},t._l(t.qdOptions,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),n("span",{staticClass:"label"},[t._v("时间：")]),n("el-date-picker",{attrs:{size:"mini","value-format":"yyyy-MM",type:"monthrange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始月份","end-placeholder":"结束月份"},model:{value:t.barrDate,callback:function(e){t.barrDate=e},expression:"barrDate"}}),n("el-button",{staticStyle:{margin:"0px 10px"},attrs:{type:"primary",size:"mini"},on:{click:t.getBusinessSituationDetail}},[t._v("查询")]),n("el-button",{directives:[{name:"loading",rawName:"v-loading",value:t.dfLoadig,expression:"dfLoadig"}],attrs:{type:"primary",size:"mini"},on:{click:t.exportExcel}},[t._v("导出Excel")])],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{size:"mini"},on:{click:function(e){t.barTableDialogVisible=!1}}},[t._v("取 消")]),n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){t.barTableDialogVisible=!1}}},[t._v("确 定")])],1)])],1)},r=[],i=(n("7f7f"),n("bb51")),o=n("db49"),s=n("bc3a"),l=n.n(s),u={color:["#3398DB"],tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"3%",right:"4%",bottom:"8%",containLabel:!0},xAxis:[{type:"category",data:[],axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value",axisTick:{show:!1},axisLine:{show:!1}}],series:[{name:"数值",type:"bar",barMaxWidth:"60",data:[]}]},c={name:"barCharts",mixins:[i["a"]],components:{},props:{typeVal:{type:Array,default:function(){return[]}}},data:function(){return{barOption:u,barTableDialogVisible:!1,typeOptions:[],typeValue:["全部"],barrDate:[],qdOptions:[],qdValue:"",tableData:[],pages:{pageNo:1,pageSize:10,total:0},barTableLoading:!1,dfLoadig:!1}},mounted:function(){},methods:{handleSizeChange:function(t){this.pages.pageSize=t,this.getBusinessSituationDetail(),console.log("每页 ".concat(t," 条"))},handleCurrentChange:function(t){this.pages.pageNo=t,this.getBusinessSituationDetail(),console.log("当前页: ".concat(t))},init:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new r;this.barrDate=r,this.typeValue=a,this.barOption.xAxis[0].data=t,this.barOption.series[0].data=e;var i=n("313e");this.mychart=i.init(this.$refs.barCharts),this.mychart.setOption(this.barOption);var o=i.init(this.$refs.barCharts,!0);window.addEventListener("resize",o.resize);var s=this;this.mychart.off("click"),this.mychart.on("click",(function(t){s.barTableDialogVisible=!0,s.GetBusinessChannel(t)}))},GetBusinessChannel:function(t){var e=this;this.qdValue=t.name,this.getBusinessChannel({}).then((function(t){e.qdOptions=t,e.qdOptions.unshift({value:"全部",label:"全部"}),e.getBusinessSituationDetail()}))},getBusinessSituationDetail:function(){var t=this;this.barTableLoading=!0,void 0===this.barrDate||null===this.barrDate?this.barrDate=[]:this.barrDate,this.businessSituationDetail({businessType:this.typeValue,channel:this.qdValue,current:this.pages.pageNo,size:this.pages.pageSize,startTime:this.barrDate[0]||"",endTime:this.barrDate[1]||""}).then((function(e){t.tableData=e.records,t.pages.total=e.total,t.barTableLoading=!1,window.console.log(e)}))},exportExcel:function(){var t=this;void 0===this.barrDate||null===this.barrDate?this.barrDate=[]:this.barrDate;var e="",n="";this.barrDate.length>0&&(e=this.barrDate[0],n=this.barrDate[1]),this.dfLoadig=!0,window.console.log(this.typeValue,"999");var a="/internetChannelController/exportBusinessDetail?businessType="+this.typeValue+"&channel="+this.qdValue+"&startTime="+e+"&endTime="+n;l()({method:"get",url:o["c"]+a,traditional:!0,headers:{"Content-Type":"application/json;charset=UTF-8"},responseType:"blob"}).then((function(t){var e=t.data,n=new Blob([e]),a="业务办理明细信息.xls";if("download"in document.createElement("a")){var r=document.createElement("a");r.download=a,r.style.display="none",r.href=URL.createObjectURL(n),document.body.appendChild(r),r.click(),URL.revokeObjectURL(r.href),document.body.removeChild(r)}else navigator.msSaveBlob(n,a)})).finally((function(){t.dfLoadig=!1})).catch((function(){t.dfLoadig=!1}))}}},h=c,p=(n("11c6"),n("2877")),d=Object(p["a"])(h,a,r,!1,null,"6883a22e",null);e["default"]=d.exports},e315:function(t,e,n){}}]);
//# sourceMappingURL=chunk-6b62a68a.ec663252.js.map