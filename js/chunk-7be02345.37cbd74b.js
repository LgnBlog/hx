(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7be02345"],{"03400":function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return l}));var n=a("db49"),r=a("bc3a"),o=a.n(r);function i(e){window.location.href=n["c"]+e}function l(e,t){console.log(e,t),o()({method:"post",url:n["c"]+e,data:t,responseType:"blob"}).then((function(e){console.log(e,"res");var t=e.data,a=new Blob([t]),n="导出信息.xls";if("download"in document.createElement("a")){var r=document.createElement("a");r.download=n,r.style.display="none",r.href=URL.createObjectURL(a),document.body.appendChild(r),r.click(),URL.revokeObjectURL(r.href),document.body.removeChild(r)}else navigator.msSaveBlob(a,n)}))}},6562:function(e,t,a){"use strict";var n=a("dc72"),r=a.n(n);r.a},8310:function(e,t,a){"use strict";var n=a("db49"),r=a("ab3e"),o=n["c"]+"/leanSeatingSkillController/themeLabelDisplay";function i(e){return Object(r["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:e,url:o})}var l=n["c"]+"/leanSeatingSkillController/labelUserDisplay";function s(e){return Object(r["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:e,url:l})}var c=n["c"]+"/viewOfElectricityFeeCollectionController/chargingChannels";function u(e){return Object(r["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:e,url:c})}var h=n["c"]+"/viewOfElectricityFeeCollectionController/verificationExceptionRulesTop10";function f(e){return Object(r["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:e,url:h})}var p=n["c"]+"/viewOfElectricityFeeCollectionController/rateOfRecovery";function b(e){return Object(r["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:e,url:p})}var g=n["c"]+"/customerConfig/search";function d(e){return Object(r["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:e,url:g})}var m=n["c"]+"/customerConfig/messageByCustomers";function D(e){return Object(r["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:e,url:m})}var y=n["c"]+"/customerConfig/messageExport";function C(e){return Object(r["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:e,url:y})}var v=n["c"]+"/customerConfig/saveOrUpdate";function O(e){return Object(r["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:e,url:v})}var j=n["c"]+"/customerConfig/delete";function w(e){return Object(r["a"])({method:"get",headers:{"Content-Type":"application/json;charset=utf8"},data:e,url:j})}var x=n["c"]+"/customerConfig/customerList";function E(e){return Object(r["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:e,url:x})}var F=n["c"]+"/customerConfig/customerExport";function L(e){return Object(r["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:e,url:F})}var P=n["c"]+"/customerConfig/messageConfig";function z(e){return Object(r["a"])({method:"post",headers:{"Content-Type":"application/json;charset=utf8"},data:e,url:P})}t["a"]={data:function(){return{feeCollection:{list:[],page:null,limit:null,total:0,model:null}}},methods:{themeLabelDisplay:function(e){return i(e).then((function(e){return e}))},labelUserDisplay:function(e){return s(e).then((function(e){return e}))},chargingChannels:function(e){return u(e).then((function(e){return e}))},verificationExceptionRulesTop10:function(e){return f(e).then((function(e){return e}))},rateOfRecovery:function(e){return b(e).then((function(e){return e}))},getSearch:function(e){return d(e).then((function(e){return e}))},messageByCustomers:function(e){return D(e).then((function(e){return e}))},messageExport:function(e){return C(e).then((function(e){return e}))},saveOrUpdate:function(e){return O(e).then((function(e){return e}))},deleteCs:function(e){return w(e).then((function(e){return e}))},customerList:function(e){return E(e).then((function(e){return e}))},customerExport:function(e){return L(e).then((function(e){return e}))},messageConfig:function(e){return z(e).then((function(e){return e}))}}}},ac3e:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"lable-table"},[e._m(0),0!==e.labelDealData.length?a("div",{staticClass:"lable-box",style:{height:e.tableHeight+"px"}},e._l(e.labelDealData,(function(t,n){return a("div",{key:n,staticClass:"lable-item"},[a("span",{staticClass:"name",style:{backgroundColor:t.color}},[e._v("\n        "+e._s(t.name)+"\n      ")]),a("span",{staticClass:"text",style:{backgroundColor:t.backgroundColor}},[e._v("\n        "+e._s(t.text)+"\n      ")]),a("span",{staticClass:"value",style:{backgroundColor:t.backgroundColor},on:{click:function(a){return e.showDetail(t)}}},[e._v(e._s(t.value+"户"))])])})),0):a("div",{staticClass:"no-data"},[a("span",[e._v("暂无数据")])]),e.isPage?a("el-pagination",{staticClass:"content-pagination",attrs:{"current-page":e.queryForm.current,"page-sizes":e.pageConfig.pageSizes,"page-size":e.queryForm.size,layout:e.pageConfig.layout,total:e.pageConfig.total},on:{"size-change":e.sizeChange,"current-change":e.currentChange}}):e._e(),e.showDetailVisible?a("showDetailList",{ref:"showDetailList",attrs:{visible:e.showDetailVisible,detailData:e.detailData,isQuery:e.isQuery},on:{"update:visible":function(t){e.showDetailVisible=t},changePageData:e.changePageData,exportExcel:e.exportExcel}}):e._e()],1)},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"lable-header"},[a("span",{staticClass:"name"},[e._v("标签名称")]),a("span",{staticClass:"text"},[e._v("标签说明")]),a("span",{staticClass:"value"},[e._v("覆盖客户数")])])}],o=(a("8e6e"),a("ade3")),i=(a("7f7f"),a("ac6a"),a("456d"),a("db03"));function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){Object(o["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var c={components:{showDetailList:i["a"]},props:{labelData:{type:Array,default:function(){return[]}},showDetailData:{type:Object,default:function(){return{}}},isQuery:{type:Boolean,default:function(){return!1}},isPage:{type:Boolean,default:function(){return!0}},pageConfig:{type:Object,default:function(){return{name:"",current:1,size:10,pageSizes:[10,20,30,40],layout:"prev, pager, next, sizes,jumper,total",total:0}}}},name:"show-detail-list",data:function(){return{tableHeight:0,queryForm:{tagId:"",name:"",current:1,size:10},labelDealData:[],showDetailVisible:!1,detailData:{},rowData:{},detailQueryForm:{current:1,size:10},detailPageConfig:{name:"detail",current:1,size:10,pageSizes:[10,20,30,40,50],layout:"prev, pager, next, sizes,jumper,total",total:0}}},mounted:function(){this.init()},watch:{labelData:function(){this.dataDeal(this.labelData)},showDetailData:function(){console.log(this.showDetailData,"showDetailData"),0!==Object.keys(this.showDetailData).length&&this.showDetailDeal()}},methods:{changeLoading:function(){this.$refs.showDetailList.themeLoading=!1},init:function(){this.tableHeight=document.getElementsByClassName("lable-table")[0].clientHeight-30-(this.isPage?52:0),this.queryForm.name=this.pageConfig.name,this.queryForm.size=this.pageConfig.size,this.queryForm.current=this.pageConfig.current,this.dataDeal(this.labelData)},sizeChange:function(e){this.queryForm.size=e,this.$emit("changePage",this.queryForm)},currentChange:function(e){this.queryForm.current=e,this.$emit("changePage",this.queryForm)},exportExcel:function(e){this.$emit("exportExcel",s(s({},e),{},{tagId:this.queryForm.tagId}))},showDetail:function(e){this.queryForm.tagId=e.tagId,this.$emit("clickDetail",e)},changePageData:function(e){this.rowData=e,this.$emit("changeDetailPage",s(s({},e),this.rowData))},showDetailDeal:function(){var e=s({},this.showDetailData);console.log(e,"rowData"),this.detailData=e,this.showDetailVisible=!0},dataDeal:function(e){var t=this;if(this.labelDealData=[],0!==Object.keys(e).length){var a=["#3890FF","#21CCA8","#E69617","#1ABDEF","#546EDD","#1FB7C8","#8663D5"],n=["#ebf3ff","#e8f9f6","#fcf4e7","#e8f8fd","#edf0fb","#e8f7f9","#f2effa"];e.forEach((function(e,t){t<a.length?(e.color=a[t],e.backgroundColor=n[t]):(e.color=a[t-a.length*Math.floor(t/a.length)],e.backgroundColor=n[t-a.length*Math.floor(t/a.length)])})),this.$nextTick((function(){t.labelDealData=e}))}}}},u=c,h=(a("cb3b"),a("2877")),f=Object(h["a"])(u,n,r,!1,null,"1b473ea9",null);t["a"]=f.exports},cb3b:function(e,t,a){"use strict";var n=a("e62f"),r=a.n(n);r.a},ce4e:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"panoramicAnalysis"},[a("div",{staticClass:"top"},[a("div",{staticClass:"content content-border"},[e._m(0),a("div",{staticClass:"chart-main"},[a("themeLabelList",{ref:"themeLabelList",attrs:{labelData:e.labelData,pageConfig:e.labelPageConfig,showDetailData:e.labelDetailData,isQuery:!0},on:{changePage:e.changePage,clickDetail:e.getLabelDetailData,changeDetailPage:e.changePage,exportExcel:e.themeLabelExportExcel}})],1)])]),a("div",{staticClass:"center"},[a("div",{staticClass:"content"},[a("div",{staticClass:"content-left content-border"},[e._m(1),a("div",{staticClass:"chart-main"},[e.chargingChannelRes?a("barCharts",{attrs:{barChartsData:e.chargingChannelData,legendStatus:!0,isMultiple:!0,isShadow:!0,barWidth:20,barType:"bar",name:"收费渠道分布",legendPosition:"right"},on:{setOption:e.setOption}}):e._e()],1)]),a("div",{staticClass:"content-right content-border"},[e._m(2),a("div",{staticClass:"chart-main"},[e.abnormalRulesRes?a("barCharts",{attrs:{barChartsData:e.abnormalRulesData,name:"核查异常规则Top10分布",barWidth:20,barType:"bar"},on:{setOption:e.setOption}}):e._e()],1)])])]),a("div",{staticClass:"bottom"},[a("div",{staticClass:"content content-border"},[e._m(3),a("div",{staticClass:"chart-main"},[e.recoveryRes?a("barCharts",{attrs:{barChartsData:e.recoveryData,legendStatus:!0,isMultiple:!0,barWidth:20,barType:"bar",yAxiosDw:"%",name:"回收率分布",legendPosition:"right",maxShowNumber:13},on:{setOption:e.setOption}}):e._e()],1)])])])},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content-title"},[a("span",{staticClass:"block"}),a("span",[e._v("主题标签")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content-title"},[a("span",{staticClass:"block"}),a("span",[e._v("收费渠道分布")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content-title"},[a("span",{staticClass:"block"}),a("span",[e._v("核查异常规则Top10分布")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content-title"},[a("span",{staticClass:"block"}),a("span",[e._v("回收率分布")])])}],o=(a("8e6e"),a("456d"),a("ac6a"),a("2909")),i=a("ade3"),l=(a("7f7f"),a("8310")),s=a("1b04"),c=a("ac3e"),u=a("03400"),h=a("db49"),f=a("bc3a"),p=a.n(f);function b(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function g(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?b(Object(a),!0).forEach((function(t){Object(i["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):b(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var d={components:{barCharts:s["a"],themeLabelList:c["a"]},name:"panoramicAnalysis",mixins:[l["a"]],data:function(){return{labelData:[],labelQueryForm:{menuType:"6",current:1,size:10},labelPageConfig:{name:"label",current:1,size:10,pageSizes:[10,20,30,40,50],layout:"prev, pager, next, sizes,jumper,total",total:0},labelDetailData:{},labelDetailQueryForm:{dbcolumnAS:"",menuType:"6",tagName:"",current:1,size:10},labelDetailPageConfig:{name:"labelDetail",current:1,size:10,pageSizes:[10,20,30,40,50],layout:"prev, pager, next, sizes,jumper,total",total:0},chargingChannelData:{},chargingChannelRes:!1,abnormalRulesData:{},abnormalRulesRes:!1,recoveryData:!1,recoveryRes:!1,setOptionData:{}}},mounted:function(){var e=this;this.getLabelData(),this.getAbnormalRulesData(),this.getChargingChannelData(),this.getRecoveryData(),window.addEventListener("resize",(function(){e.setOptionData["收费渠道分布"]&&e.setOptionData["收费渠道分布"].resize(),e.setOptionData["核查异常规则Top10分布"]&&e.setOptionData["核查异常规则Top10分布"].resize(),e.setOptionData["回收率分布"]&&e.setOptionData["回收率分布"].resize()}))},methods:{setOption:function(e,t){this.setOptionData[e]=t},changePage:function(e){console.log(e,"data"),"label"===e.name&&(this.labelQueryForm.size=e.size,this.labelQueryForm.current=e.current,this.getLabelData()),"labelDetail"===e.name&&(this.labelDetailQueryForm.dbcolumnAS=e.keyValue||"",this.labelDetailQueryForm.size=e.size,this.labelDetailQueryForm.current=e.current,this.getLabelDetailData())},themeLabelExportExcel2:function(e){try{Object(u["a"])("/leanSeatingSkillController/exportLabelUserDisplay?tagId="+e.tagId)}finally{this.$refs.themeLabelList.changeLoading()}},themeLabelExportExcel:function(e){var t=this;this.excelLoading=!0;var a="/leanSeatingSkillController/exportLabelUserDisplay",n={tagId:e.tagId};p()({method:"get",url:h["c"]+a,params:n,headers:{"Content-Type":"application/json;charset=UTF-8"},responseType:"blob"}).then((function(e){var t=e.data,a=new Blob([t]),n="导出信息.xls";if("download"in document.createElement("a")){var r=document.createElement("a");r.download=n,r.style.display="none",r.href=URL.createObjectURL(a),document.body.appendChild(r),r.click(),URL.revokeObjectURL(r.href),document.body.removeChild(r)}else navigator.msSaveBlob(a,n)})).finally((function(){t.$refs.themeLabelList.changeLoading()})).catch((function(){t.$refs.themeLabelList.changeLoading()}))},getLabelData:function(){var e=this;this.themeLabelDisplay(this.labelQueryForm).then((function(t){e.labelPageConfig.total=t.total,e.labelPageConfig.size=e.labelQueryForm.size,e.labelPageConfig.current=e.labelQueryForm.current,e.labelData=t.list.map((function(e){return g(g({},e),{},{name:e.tagName,text:e.tagDescription,value:e.account||0})})),console.log(e.labelData,"labelData")}))},getLabelDetailData:function(e){var t=this;e&&(this.labelDetailQueryForm.tagId=e.tagId,this.labelDetailQueryForm.size=10,this.labelDetailQueryForm.current=1);var a=[];this.labelUserDisplay(g({},this.labelDetailQueryForm)).then((function(e){t.labelDetailPageConfig.total=e.result[0]?e.result[0].total:0,t.labelDetailPageConfig.size=t.labelDetailQueryForm.size,t.labelDetailPageConfig.current=t.labelDetailQueryForm.current,e.showField[t.labelDetailQueryForm.tagId]&&(a=e.showField[t.labelDetailQueryForm.tagId].map((function(e){return{prop:e.dbcolumnAS,label:e.dbcolumnTitle}})).filter((function(e){return"地区编码"!==e.label&&"县区局编码"!==e.label&&"供电单位编码"!==e.label&&"供电电网编码"!==e.label}))),console.log(a,"columnNameData"),e.result.shift(),t.labelDetailData={tableData:Object(o["a"])(e.result),columnNameData:a,name:"labelDetail",headerColor:"#1899fa",title:"客户明细列表",total:t.labelDetailPageConfig.total,current:t.labelDetailQueryForm.current,size:t.labelDetailQueryForm.size}}))},getChargingChannelData:function(){var e=this;this.chargingChannelRes=!1,this.chargingChannels({}).then((function(t){console.log(t,"chargingChannels");var a=[],n=[],r=[];t["month"].forEach((function(e){a.push(e.count),r.push(e.type)})),t["year"].forEach((function(e){n.push(e.count)})),e.chargingChannelData={dataMap:{"本年":n,"本月":a},xNameData:r,colorMap:{"本年":[["#2790FF","#55BFFF","#ddf2ff"]],"本月":[["#19A7CD","#66D6FF","#dbf4fc"]]},xyName:{"x轴":{name:"",color:"#808080",diffcolor:!1},"y轴":[{name:"单位：万元",color:"#808080"}]}},e.chargingChannelRes=!0}))},getAbnormalRulesData:function(){var e=this;this.abnormalRulesRes=!1,this.verificationExceptionRulesTop10({}).then((function(t){console.log(t,"verificationExceptionRulesTop10");var a=[],n=[];t.forEach((function(e){a.push(e.KHS),n.push(e.DQ)})),e.abnormalRulesData={dataMap:{"核查异常规则Top10分布":a},xNameData:n,colorMap:{"核查异常规则Top10分布":[["#29C644","#8AE671"]]},xyName:{"x轴":{name:"",color:"#808080",diffcolor:!1},"y轴":[{name:"户数",color:"#808080"}]}},e.abnormalRulesRes=!0}))},getRecoveryData:function(){var e=this;this.recoveryRes=!1,this.rateOfRecovery({}).then((function(t){var a=[],n=[],r=[];t["month"].forEach((function(e){a.push(Math.round(100*e.percent*1e3)/1e3),r.push(e.place)})),t["year"].forEach((function(e){n.push(Math.round(100*e.percent*1e3)/1e3)})),e.recoveryData={dataMap:{"本年":n,"本月":a},xNameData:r,colorMap:{"本年":[["#5446B5","#9688F9","#eae7fd"]],"本月":[["#19CDAE","#77E7BE","#dff9f1"]]},xyName:{"x轴":{name:"",color:"#808080",diffcolor:!1},"y轴":[{name:"回收率%",color:"#808080"}]}},e.recoveryRes=!0})),this.$nextTick((function(){}))}}},m=d,D=(a("6562"),a("2877")),y=Object(D["a"])(m,n,r,!1,null,"2cc01dca",null);t["default"]=y.exports},dc72:function(e,t,a){},e62f:function(e,t,a){}}]);
//# sourceMappingURL=chunk-7be02345.37cbd74b.js.map